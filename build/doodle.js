var doodle={};doodle.geom={};doodle.events={};if(typeof Function.prototype.bind!=="function")Function.prototype.bind=function(s){var v=this;return function(){return v.apply(s,arguments)}};
doodle.utils=Object.create({},{hex_to_rgb:{enumerable:true,writable:false,configurable:false,value:function(s){if(typeof s==="string"){s=s[0]==="#"?s.slice(1):s;s=parseInt(s,16)}return[s>>16&255,s>>8&255,s&255]}},hex_to_rgb_str:{enumerable:true,writable:false,configurable:false,value:function(s,v){var i=doodle.utils;v=v===undefined?1:v;s=i.hex_to_rgb(s);return i.rgb_to_rgb_str(s[0],s[1],s[2],v)}},rgb_str_to_hex:{enumerable:true,writable:false,configurable:false,value:function(s){var v=doodle.utils;
s=v.rgb_str_to_rgb(s);return v.rgb_to_hex(parseInt(s[0],10),parseInt(s[1],10),parseInt(s[2],10))}},rgb_str_to_rgb:{enumerable:true,writable:false,configurable:false,value:function(){var s=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?(.*)\)$/;return function(v){v=v.trim().match(s);var i=[parseInt(v[1],10),parseInt(v[2],10),parseInt(v[3],10)];v=parseFloat(v[4]);typeof v==="number"&&!isNaN(v)&&i.push(v);return i}}()},rgb_to_hex:{enumerable:true,writable:false,configurable:false,value:function(s,
v,i){s=(i|v<<8|s<<16).toString(16);return"#"+String("000000"+s).slice(-6)}},rgb_to_rgb_str:{enumerable:true,writable:false,configurable:false,value:function(s,v,i,g){g=g===undefined?1:g;g=g<0?0:g>1?1:g;return g===1?"rgb("+s+","+v+","+i+")":"rgba("+s+","+v+","+i+","+g+")"}},get_element:{enumerable:true,writable:false,configurable:false,value:function(s){if(typeof s==="string"){s=s[0]==="#"?s.slice(1):s;return document.getElementById(s)}else return s&&s.tagName?s:null}},get_style_property:{enumerable:true,
writable:false,configurable:false,value:function(s,v,i){i=i===undefined?true:false;try{if(i&&document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(s,null)[v];else if(s.currentStyle)return s.currentStyle[v];else if(s.style)return s.style[v];else throw new ReferenceError("get_style_property: Cannot read property '"+v+"' of "+s+".");}catch(g){throw new ReferenceError("get_style_property: Cannot read property '"+v+"' of "+s+".");}}},get_element_property:{enumerable:true,
writable:false,configurable:false,value:function(s,v,i,g){i=i||false;var q;try{q=doodle.utils.get_style_property(s,v,g)}catch(j){q=undefined}if(q===undefined||q===null||q==="")q=s.getAttribute(v);if(i!==false)switch(i){case "int":q=parseInt(q,10);q=isNaN(q)?null:q;break;case "number":case "float":q=parseFloat(q);q=isNaN(q)?null:q;break;case "string":q=String(q)}return q}},set_element_property:{enumerable:true,writable:false,configurable:false,value:function(s,v,i,g){g=g===undefined?"css":g;switch(g){case "css":s.style[v]=
i;break;case "html":s.setAttribute(v,i);break;default:throw new SyntaxError("set_element_property: type must be 'css' property or 'html' attribute.");}return i}},create_scene_path:{enumerable:true,writable:false,configurable:false,value:function(){return function s(v,i,g){i=i===undefined?[]:i;g=g===undefined?false:g;var q=v.children.length;g&&i.splice(0,i.length);if(q!==0)for(;q--;)s(v.children[q],i,false);i.push(v);return i}}()}});
Object.defineProperty(doodle,"Keyboard",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{BACKSPACE:{enumerable:true,writable:false,configurable:false,value:8},TAB:{enumerable:true,writable:false,configurable:false,value:9},ENTER:{enumerable:true,writable:false,configurable:false,value:13},COMMAND:{enumerable:true,writable:false,configurable:false,value:15},SHIFT:{enumerable:true,writable:false,configurable:false,value:16},CONTROL:{enumerable:true,writable:false,configurable:false,
value:17},ALTERNATE:{enumerable:true,writable:false,configurable:false,value:18},PAUSE:{enumerable:true,writable:false,configurable:false,value:19},CAPS_LOCK:{enumerable:true,writable:false,configurable:false,value:20},NUMPAD:{enumerable:true,writable:false,configurable:false,value:21},ESCAPE:{enumerable:true,writable:false,configurable:false,value:27},SPACE:{enumerable:true,writable:false,configurable:false,value:32},PAGE_UP:{enumerable:true,writable:false,configurable:false,value:33},PAGE_DOWN:{enumerable:true,
writable:false,configurable:false,value:34},END:{enumerable:true,writable:false,configurable:false,value:35},HOME:{enumerable:true,writable:false,configurable:false,value:36},LEFT:{enumerable:true,writable:false,configurable:false,value:37},UP:{enumerable:true,writable:false,configurable:false,value:38},RIGHT:{enumerable:true,writable:false,configurable:false,value:39},DOWN:{enumerable:true,writable:false,configurable:false,value:40},INSERT:{enumerable:true,writable:false,configurable:false,value:45},
DELETE:{enumerable:true,writable:false,configurable:false,value:46},NUMBER_0:{enumerable:true,writable:false,configurable:false,value:48},NUMBER_1:{enumerable:true,writable:false,configurable:false,value:49},NUMBER_2:{enumerable:true,writable:false,configurable:false,value:50},NUMBER_3:{enumerable:true,writable:false,configurable:false,value:51},NUMBER_4:{enumerable:true,writable:false,configurable:false,value:52},NUMBER_5:{enumerable:true,writable:false,configurable:false,value:53},NUMBER_6:{enumerable:true,
writable:false,configurable:false,value:54},NUMBER_7:{enumerable:true,writable:false,configurable:false,value:55},NUMBER_8:{enumerable:true,writable:false,configurable:false,value:56},NUMBER_9:{enumerable:true,writable:false,configurable:false,value:57},A:{enumerable:true,writable:false,configurable:false,value:65},B:{enumerable:true,writable:false,configurable:false,value:66},C:{enumerable:true,writable:false,configurable:false,value:67},D:{enumerable:true,writable:false,configurable:false,value:68},
E:{enumerable:true,writable:false,configurable:false,value:69},F:{enumerable:true,writable:false,configurable:false,value:70},G:{enumerable:true,writable:false,configurable:false,value:71},H:{enumerable:true,writable:false,configurable:false,value:72},I:{enumerable:true,writable:false,configurable:false,value:73},J:{enumerable:true,writable:false,configurable:false,value:74},K:{enumerable:true,writable:false,configurable:false,value:75},L:{enumerable:true,writable:false,configurable:false,value:76},
M:{enumerable:true,writable:false,configurable:false,value:77},N:{enumerable:true,writable:false,configurable:false,value:78},O:{enumerable:true,writable:false,configurable:false,value:79},P:{enumerable:true,writable:false,configurable:false,value:80},Q:{enumerable:true,writable:false,configurable:false,value:81},R:{enumerable:true,writable:false,configurable:false,value:82},S:{enumerable:true,writable:false,configurable:false,value:83},T:{enumerable:true,writable:false,configurable:false,value:84},
U:{enumerable:true,writable:false,configurable:false,value:85},V:{enumerable:true,writable:false,configurable:false,value:86},W:{enumerable:true,writable:false,configurable:false,value:87},X:{enumerable:true,writable:false,configurable:false,value:88},Y:{enumerable:true,writable:false,configurable:false,value:89},Z:{enumerable:true,writable:false,configurable:false,value:90},WINDOWS_KEY:{enumerable:true,writable:false,configurable:false,value:91},NUMPAD_0:{enumerable:true,writable:false,configurable:false,
value:96},NUMPAD_1:{enumerable:true,writable:false,configurable:false,value:97},NUMPAD_2:{enumerable:true,writable:false,configurable:false,value:98},NUMPAD_3:{enumerable:true,writable:false,configurable:false,value:99},NUMPAD_4:{enumerable:true,writable:false,configurable:false,value:100},NUMPAD_5:{enumerable:true,writable:false,configurable:false,value:101},NUMPAD_6:{enumerable:true,writable:false,configurable:false,value:102},NUMPAD_7:{enumerable:true,writable:false,configurable:false,value:103},
NUMPAD_8:{enumerable:true,writable:false,configurable:false,value:104},NUMPAD_9:{enumerable:true,writable:false,configurable:false,value:105},NUMPAD_MULTIPLY:{enumerable:true,writable:false,configurable:false,value:106},NUMPAD_ADD:{enumerable:true,writable:false,configurable:false,value:107},NUMPAD_ENTER:{enumerable:true,writable:false,configurable:false,value:108},NUMPAD_SUBTRACT:{enumerable:true,writable:false,configurable:false,value:109},NUMPAD_DECIMAL:{enumerable:true,writable:false,configurable:false,
value:110},NUMPAD_DIVIDE:{enumerable:true,writable:false,configurable:false,value:111},F1:{enumerable:true,writable:false,configurable:false,value:112},F2:{enumerable:true,writable:false,configurable:false,value:113},F3:{enumerable:true,writable:false,configurable:false,value:114},F4:{enumerable:true,writable:false,configurable:false,value:115},F5:{enumerable:true,writable:false,configurable:false,value:116},F6:{enumerable:true,writable:false,configurable:false,value:117},F7:{enumerable:true,writable:false,
configurable:false,value:118},F8:{enumerable:true,writable:false,configurable:false,value:119},F9:{enumerable:true,writable:false,configurable:false,value:120},F10:{enumerable:true,writable:false,configurable:false,value:121},F11:{enumerable:true,writable:false,configurable:false,value:122},F12:{enumerable:true,writable:false,configurable:false,value:123},F13:{enumerable:true,writable:false,configurable:false,value:124},F14:{enumerable:true,writable:false,configurable:false,value:125},F15:{enumerable:true,
writable:false,configurable:false,value:126},SCROLL:{enumerable:true,writable:false,configurable:false,value:145},SEMICOLON:{enumerable:true,writable:false,configurable:false,value:186},EQUAL:{enumerable:true,writable:false,configurable:false,value:187},COMMA:{enumerable:true,writable:false,configurable:false,value:188},MINUS:{enumerable:true,writable:false,configurable:false,value:189},PERIOD:{enumerable:true,writable:false,configurable:false,value:190},SLASH:{enumerable:true,writable:false,configurable:false,
value:191},BACKQUOTE:{enumerable:true,writable:false,configurable:false,value:192},LEFTBRACKET:{enumerable:true,writable:false,configurable:false,value:219},BACKSLASH:{enumerable:true,writable:false,configurable:false,value:220},RIGHTBRACKET:{enumerable:true,writable:false,configurable:false,value:221},QUOTE:{enumerable:true,writable:false,configurable:false,value:222}})});
Object.defineProperty(doodle,"GradientType",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{LINEAR:{enumerable:true,writable:false,configurable:false,value:"linearGradient"},RADIAL:{enumerable:true,writable:false,configurable:false,value:"radialGradient"}})});
Object.defineProperty(doodle,"Pattern",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{REPEAT:{enumerable:true,writable:false,configurable:false,value:"repeat"},REPEAT_X:{enumerable:true,writable:false,configurable:false,value:"repeat-x"},REPEAT_Y:{enumerable:true,writable:false,configurable:false,value:"repeat-y"},NO_REPEAT:{enumerable:true,writable:false,configurable:false,value:"no-repeat"}})});
Object.defineProperty(doodle,"LineCap",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{BUTT:{enumerable:true,writable:false,configurable:false,value:"butt"},ROUND:{enumerable:true,writable:false,configurable:false,value:"round"},SQUARE:{enumerable:true,writable:false,configurable:false,value:"square"}})});
Object.defineProperty(doodle,"LineJoin",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{MITER:{enumerable:true,writable:false,configurable:false,value:"miter"},ROUND:{enumerable:true,writable:false,configurable:false,value:"round"},BEVEL:{enumerable:true,writable:false,configurable:false,value:"bevel"}})});
(function(){var s,v,i;doodle.events.Event=function(g,q,j){var o=Object.create(s),z=arguments.length,b,p;Object.defineProperties(o,v);Object.defineProperties(o,function(){var a,c,f,r=false,w=0,e=null,l=null,u=null,n=new Date,k=true,m=false,d=false;p=function(t,h,x){h=h===undefined?false:h;if(h!==false)l=e=h;else{e=t.currentTarget;l=t.target}a=x?x:t.type;c=t.bubbles;f=t.cancelable;r=t.cancelBubble;w=t.eventPhase;u=t.srcElement;n=t.timeStamp;k=t.returnValue;if(t.__cancel)m=true;if(t.__cancelNow)d=true};
return{type:{enumerable:true,configurable:false,get:function(){return a}},__setType:{enumerable:false,value:function(t){a=t}},bubbles:{enumerable:true,configurable:false,get:function(){return c}},cancelable:{enumerable:true,configurable:false,get:function(){return f}},cancelBubble:{enumerable:true,configurable:false,get:function(){return r},set:function(t){r=t}},__cancel:{enumerable:false,configurable:false,get:function(){return m}},__cancelNow:{enumerable:false,configurable:false,get:function(){return d}},
currentTarget:{enumerable:true,configurable:false,get:function(){return e}},__setCurrentTarget:{enumerable:false,value:function(t){e=t;return this}},target:{enumerable:true,configurable:false,get:function(){return l}},__setTarget:{enumerable:false,value:function(t){l=t;return this}},eventPhase:{enumerable:true,configurable:false,get:function(){return w}},__setEventPhase:{enumerable:false,value:function(t){w=t;return this}},srcElement:{enumerable:true,configurable:false,get:function(){return u}},timeStamp:{enumerable:true,
configurable:false,get:function(){return n}},returnValue:{enumerable:true,configurable:false,get:function(){return k}},initEvent:{enumerable:true,configurable:false,value:function(t,h,x){t=t===undefined?"undefined":t;h=h===undefined?false:h;x=x===undefined?false:x;a=t;c=h;f=x;return this}},preventDefault:{enumerable:true,configurable:false,value:function(){}},stopPropagation:{enumerable:true,configurable:false,value:function(){if(this.cancelable)m=true;else throw Error(this+".stopPropagation: Event can not be cancelled.");
}},stopImmediatePropagation:{enumerable:true,configurable:false,value:function(){if(this.cancelable)d=m=true;else throw Error(this+".stopImmediatePropagation: Event can not be cancelled.");}},__copyEventProperties:{enumerable:false,configurable:false,value:function(t,h,x){h=h===undefined?false:h;x=x===undefined?false:x;p(t,h,x);return this}}}}());if(z===1&&(typeof arguments[0]==="function"||i(arguments[0]))){b=arguments[0];g=undefined}if(b)typeof b==="function"?b.call(o):p(b,false,false);else o.initEvent(g,
q,j);return o};v={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object Event]"}}};s=Object.create({},{CAPTURING_PHASE:{enumerable:true,writable:false,configurable:false,value:1},AT_TARGET:{enumerable:true,writable:false,configurable:false,value:2},BUBBLING_PHASE:{enumerable:true,writable:false,configurable:false,value:3},MOUSEDOWN:{enumerable:true,writable:false,configurable:false,value:1},MOUSEUP:{enumerable:true,writable:false,configurable:false,value:2},MOUSEOVER:{enumerable:true,
writable:false,configurable:false,value:4},MOUSEOUT:{enumerable:true,writable:false,configurable:false,value:8},MOUSEMOVE:{enumerable:true,writable:false,configurable:false,value:16},MOUSEDRAG:{enumerable:true,writable:false,configurable:false,value:32},CLICK:{enumerable:true,writable:false,configurable:false,value:64},DBLCLICK:{enumerable:true,writable:false,configurable:false,value:128},KEYDOWN:{enumerable:true,writable:false,configurable:false,value:256},KEYUP:{enumerable:true,writable:false,configurable:false,
value:512},KEYPRESS:{enumerable:true,writable:false,configurable:false,value:1024},DRAGDROP:{enumerable:true,writable:false,configurable:false,value:2048},FOCUS:{enumerable:true,writable:false,configurable:false,value:4096},BLUR:{enumerable:true,writable:false,configurable:false,value:8192},SELECT:{enumerable:true,writable:false,configurable:false,value:16384},CHANGE:{enumerable:true,writable:false,configurable:false,value:32768}});i=doodle.events.Event.isEvent=function(g){if(!g||typeof g!=="object"||
typeof g.toString!=="function")return false;else g=g.toString();return g==="[object Event]"||g==="[object UIEvent]"||g==="[object MouseEvent]"||g==="[object TouchEvent]"||g==="[object KeyboardEvent]"||g==="[object TextEvent]"||g==="[object WheelEvent]"}})();
(function(){var s,v=doodle.events.Event.isEvent;doodle.events.UIEvent=function(i,g,q,j,o){var z,b,p;if(v(arguments[0])){b=arguments[0];i=undefined;z=Object.create(doodle.events.Event(b))}else if(typeof arguments[0]==="function"){b=arguments[0];i=undefined;z=Object.create(doodle.events.Event(""))}else{g=g===undefined?false:g;q=q===undefined?false:q;z=Object.create(doodle.events.Event(i,g,q))}Object.defineProperties(z,s);Object.defineProperties(z,function(){var a=null,c=0,f=0,r=0,w=0,e=0,l=0,u=0,n=
0;p=function(k){if(k.view!==undefined)a=k.view;if(k.detail!==undefined)c=k.detail;if(k.which!==undefined)f=k.which;if(k.charCode!==undefined)r=k.charCode;if(k.keyCode!==undefined)w=k.keyCode;if(k.layerX!==undefined)e=k.layerX;if(k.layerY!==undefined)l=k.layerY;if(k.pageX!==undefined)u=k.pageX;if(k.pageY!==undefined)n=k.pageY};return{view:{enumerable:true,configurable:false,get:function(){return a}},detail:{enumerable:true,configurable:false,get:function(){return c}},which:{enumerable:true,configurable:false,
get:function(){return f}},charCode:{enumerable:true,configurable:false,get:function(){return r}},keyCode:{enumerable:true,configurable:false,get:function(){return w}},layerX:{enumerable:true,configurable:false,get:function(){return e}},layerY:{enumerable:true,configurable:false,get:function(){return l}},pageX:{enumerable:true,configurable:false,get:function(){return u}},pageY:{enumerable:true,configurable:false,get:function(){return n}},initUIEvent:{value:function(k,m,d,t,h){m=m===undefined?false:
m;d=d===undefined?false:d;t=t===undefined?null:t;h=h===undefined?0:h;a=t;c=h;this.initEvent(k,m,d);return this}},__copyUIEventProperties:{enumerable:false,configurable:false,value:function(k,m,d){m=m===undefined?false:m;d=d===undefined?false:d;p(k);return this.__copyEventProperties(k,m,d)}}}}());if(b)typeof b==="function"?b.call(z):p(b);else z.initUIEvent(i,g,q,j,o);return z};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object UIEvent]"}}};doodle.events.UIEvent.isUIEvent=
function(i){if(!i||typeof i!=="object"||typeof i.toString!=="function")return false;else i=i.toString();return i==="[object UIEvent]"||i==="[object MouseEvent]"||i==="[object TouchEvent]"||i==="[object KeyboardEvent]"||i==="[object TextEvent]"||i==="[object WheelEvent]"}})();
(function(){var s,v=doodle.events.Event.isEvent;doodle.events.MouseEvent=function(i,g,q,j,o,z,b,p,a,c,f,r,w,e,l){var u,n,k;if(v(arguments[0])){n=arguments[0];i=undefined;u=Object.create(doodle.events.UIEvent(n))}else if(typeof arguments[0]==="function"){n=arguments[0];i=undefined;u=Object.create(doodle.events.UIEvent(""))}else{g=g===undefined?false:g;q=q===undefined?false:q;j=j===undefined?null:j;o=o===undefined?0:o;u=Object.create(doodle.events.UIEvent(i,g,q,j,o))}Object.defineProperties(u,s);Object.defineProperties(u,
function(){var m=0,d=0,t=0,h=0,x=0,A=0,G=0,B=0,H=false,E=false,J=false,L=false,O=0,R=null;k=function(F){m=F.x!==undefined?F.x:0;d=F.y!==undefined?F.y:0;t=F.offsetX!==undefined?F.offsetX:0;h=F.offsetY!==undefined?F.offsetY:0;if(F.screenX!==undefined)x=F.screenX;if(F.screenY!==undefined)A=F.screenY;if(F.clientX!==undefined)G=F.clientX;if(F.clientY!==undefined)B=F.clientY;if(F.ctrlKey!==undefined)H=F.ctrlKey;if(F.altKey!==undefined)E=F.altKey;if(F.shiftKey!==undefined)J=F.shiftKey;if(F.metaKey!==undefined)L=
F.metaKey;if(F.button!==undefined)O=F.button;if(F.relatedTarget!==undefined)R=F.relatedTarget};return{x:{enumerable:true,configurable:false,get:function(){return m}},y:{enumerable:true,configurable:false,get:function(){return d}},screenX:{enumerable:true,configurable:false,get:function(){return x}},screenY:{enumerable:true,configurable:false,get:function(){return A}},clientX:{enumerable:true,configurable:false,get:function(){return G}},clientY:{enumerable:true,configurable:false,get:function(){return B}},
offsetX:{enumerable:true,configurable:false,get:function(){return t}},offsetY:{enumerable:true,configurable:false,get:function(){return h}},ctrlKey:{enumerable:true,configurable:false,get:function(){return H}},altKey:{enumerable:true,configurable:false,get:function(){return E}},shiftKey:{enumerable:true,configurable:false,get:function(){return J}},metaKey:{enumerable:true,configurable:false,get:function(){return L}},button:{enumerable:true,configurable:false,get:function(){return O}},relatedTarget:{enumerable:true,
configurable:false,get:function(){return R}},initMouseEvent:{value:function(F,K,C,M,N,S,T,U,P,V,y,D,I,Q,W){K=K===undefined?false:K;C=C===undefined?false:C;M=M===undefined?null:M;N=N===undefined?0:N;S=S===undefined?0:S;T=T===undefined?0:T;U=U===undefined?0:U;P=P===undefined?0:P;V=V===undefined?false:V;y=y===undefined?false:y;D=D===undefined?false:D;I=I===undefined?false:I;Q=Q===undefined?0:Q;l=W===undefined?null:W;x=S;A=T;G=U;B=P;H=V;E=y;J=D;L=I;O=Q;R=W;return this.initUIEvent(F,K,C,M,N)}},getModifierState:{value:function(F){switch(F){case "Alt":return E;
case "Control":return H;case "Meta":return L;case "Shift":return J;default:return false}}},__copyMouseEventProperties:{enumerable:false,configurable:false,value:function(F,K,C){K=K===undefined?false:K;C=C===undefined?false:C;k(F);return this.__copyUIEventProperties(F,K,C)}}}}());if(n)typeof n==="function"?n.call(u):k(n);else u.initMouseEvent(i,g,q,j,o,z,b,p,a,c,f,r,w,e,l);return u};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object MouseEvent]"}}};doodle.events.MouseEvent.isMouseEvent=
function(i){if(!i||typeof i!=="object"||typeof i.toString!=="function")return false;else i=i.toString();return i==="[object MouseEvent]"}})();
(function(){var s,v=doodle.events.Event.isEvent;doodle.events.TouchEvent=function(i,g,q,j,o,z,b,p,a,c,f,r,w,e,l,u,n,k){var m,d,t;if(v(arguments[0])){d=arguments[0];i=undefined;m=Object.create(doodle.events.UIEvent(d))}else if(typeof arguments[0]==="function"){d=arguments[0];i=undefined;m=Object.create(doodle.events.UIEvent(""))}else{g=g===undefined?false:g;q=q===undefined?false:q;j=j===undefined?null:j;o=o===undefined?0:o;m=Object.create(doodle.events.UIEvent(i,g,q,j,o))}Object.defineProperties(m,
s);Object.defineProperties(m,function(){var h=0,x=0,A=0,G=0,B=false,H=false,E=false,J=false,L=null,O=null,R=null,F=1,K=0;t=function(C){if(C.screenX!==undefined)h=C.screenX;if(C.screenY!==undefined)x=C.screenY;if(C.clientX!==undefined)A=C.clientX;if(C.clientY!==undefined)G=C.clientY;if(C.ctrlKey!==undefined)B=C.ctrlKey;if(C.altKey!==undefined)H=C.altKey;if(C.shiftKey!==undefined)E=C.shiftKey;if(C.metaKey!==undefined)J=C.metaKey;if(C.touches!==undefined)L=C.touches;if(C.targetTouches!==undefined)O=
C.targetTouches;if(C.changedTouches!==undefined)R=C.changedTouches;if(C.scale!==undefined)F=C.scale;if(C.rotation!==undefined)K=C.rotation};return{screenX:{enumerable:true,configurable:false,get:function(){return h}},screenY:{enumerable:true,configurable:false,get:function(){return x}},clientX:{enumerable:true,configurable:false,get:function(){return A}},clientY:{enumerable:true,configurable:false,get:function(){return G}},ctrlKey:{enumerable:true,configurable:false,get:function(){return B}},altKey:{enumerable:true,
configurable:false,get:function(){return H}},shiftKey:{enumerable:true,configurable:false,get:function(){return E}},metaKey:{enumerable:true,configurable:false,get:function(){return J}},touches:{enumerable:true,configurable:false,get:function(){return L}},targetTouches:{enumerable:true,configurable:false,get:function(){return O}},changedTouches:{enumerable:true,configurable:false,get:function(){return R}},scale:{enumerable:true,configurable:false,get:function(){return F}},rotation:{enumerable:true,
configurable:false,get:function(){return K}},initTouchEvent:{value:function(C,M,N,S,T,U,P,V,y,D,I,Q,W,X,Y,Z,$,aa){M=M===undefined?false:M;N=N===undefined?false:N;S=S===undefined?null:S;T=T===undefined?0:T;U=U===undefined?0:U;P=P===undefined?0:P;V=V===undefined?0:V;y=y===undefined?0:y;D=D===undefined?false:D;I=I===undefined?false:I;Q=Q===undefined?false:Q;W=W===undefined?false:W;X=X===undefined?null:X;Y=Y===undefined?null:Y;Z=Z===undefined?null:Z;$=$===undefined?1:$;aa=aa===undefined?0:aa;h=U;x=P;
A=V;G=y;B=D;H=I;E=Q;J=W;L=X;O=Y;R=Z;F=$;K=aa;this.initUIEvent(C,M,N,S,T);return this}},getModifierState:{value:function(C){switch(C){case "Alt":return H;case "Control":return B;case "Meta":return J;case "Shift":return E;default:return false}}},__copyTouchEventProperties:{enumerable:false,configurable:false,value:function(C,M,N){M=M===undefined?false:M;N=N===undefined?false:N;t(C);return this.__copyUIEventProperties(C,M,N)}}}}());if(d)typeof d==="function"?d.call(m):t(d);else m.initTouchEvent(i,g,
q,j,o,z,b,p,a,c,f,r,w,e,l,u,n,k);return m};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object TouchEvent]"}}};doodle.events.TouchEvent.isTouchEvent=function(i){if(!i||typeof i!=="object"||typeof i.toString!=="function")return false;else i=i.toString();return i==="[object TouchEvent]"}})();
(function(){var s,v=doodle.events.Event.isEvent;doodle.events.TextEvent=function(i,g,q,j,o,z){var b,p,a;if(v(arguments[0])){p=arguments[0];i=undefined;b=Object.create(doodle.events.UIEvent(p))}else if(typeof arguments[0]==="function"){p=arguments[0];i=undefined;b=Object.create(doodle.events.UIEvent(""))}else{g=g===undefined?false:g;q=q===undefined?false:q;j=j===undefined?null:j;b=Object.create(doodle.events.UIEvent(i,g,q,j))}Object.defineProperties(b,s);Object.defineProperties(b,function(){var c=
"",f=doodle.events.TextEvent.INPUT_METHOD_UNKNOWN;a=function(r){if(r.data!==undefined)c=r.data;if(r.inputMode!==undefined)f=r.inputMode};return{data:{enumerable:true,configurable:false,get:function(){return c}},inputMode:{enumerable:true,configurable:false,get:function(){return f}},initTextEvent:{value:function(r,w,e,l,u,n){w=w===undefined?false:w;e=e===undefined?false:e;l=l===undefined?null:l;u=u===undefined?"":u;n=n===undefined?doodle.events.TextEvent.INPUT_METHOD_UNKNOWN:n;c=u;f=n;this.initUIEvent(r,
w,e,l);return this}},__copyTextEventProperties:{enumerable:false,configurable:false,value:function(r,w,e){w=w===undefined?false:w;e=e===undefined?false:e;a(r);return this.__copyUIEventProperties(r,w,e)}}}}());if(p)typeof p==="function"?p.call(b):a(p);else b.initTextEvent(i,g,q,j,o,z);return b};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object TextEvent]"}}};doodle.events.TextEvent.isTextEvent=function(i){if(!i||typeof i!=="object"||typeof i.toString!==
"function")return false;else i=i.toString();return i==="[object TextEvent]"}})();
(function(){var s,v=doodle.events.Event.isEvent;doodle.events.KeyboardEvent=function(i,g,q,j,o,z,b,p){var a,c,f;if(v(arguments[0])){c=arguments[0];i=undefined;a=Object.create(doodle.events.UIEvent(c))}else if(typeof arguments[0]==="function"){c=arguments[0];i=undefined;a=Object.create(doodle.events.UIEvent(""))}else{g=g===undefined?false:g;q=q===undefined?false:q;j=j===undefined?null:j;a=Object.create(doodle.events.UIEvent(i,g,q,j))}Object.defineProperties(a,s);Object.defineProperties(a,function(){var r=
"",w=0,e=false,l=false,u=false,n=false,k=false;f=function(m){if(m.keyIdentifier!==undefined)r=m.keyIdentifier;if(m.keyLocation!==undefined)w=m.keyLocation;if(m.repeat!==undefined)e=m.repeat;if(m.ctrlKey!==undefined)l=m.ctrlKey;if(m.altKey!==undefined)u=m.altKey;if(m.shiftKey!==undefined)n=m.shiftKey;if(m.metaKey!==undefined)k=m.metaKey;if(m.altGraphKey!==undefined)u=m.altGraphKey};return{keyIdentifier:{enumerable:true,configurable:false,get:function(){return r}},keyLocation:{enumerable:true,configurable:false,
get:function(){return w}},repeat:{enumerable:true,configurable:false,get:function(){return e}},ctrlKey:{enumerable:true,configurable:false,get:function(){return l}},altKey:{enumerable:true,configurable:false,get:function(){return u}},shiftKey:{enumerable:true,configurable:false,get:function(){return n}},metaKey:{enumerable:true,configurable:false,get:function(){return k}},altGraphKey:{enumerable:true,configurable:false,get:function(){return false}},initKeyboardEvent:{value:function(m,d,t,h,x,A,G,
B){d=d===undefined?false:d;t=t===undefined?false:t;h=h===undefined?null:h;x=x===undefined?"":x;A=A===undefined?0:A;G=G===undefined?"":G;B=B===undefined?false:B;r=x;w=A;e=B;G.split(" ").forEach(function(H){switch(H){case "Alt":u=true;break;case "Control":l=true;break;case "Meta":k=true;break;case "Shift":n=true}});this.initUIEvent(m,d,t,h);return this}},getModifierState:{value:function(m){switch(m){case "Alt":return u;case "Control":return l;case "Meta":return k;case "Shift":return n;default:return false}}},
__copyKeyboardEventProperties:{enumerable:false,configurable:false,value:function(m,d,t){d=d===undefined?false:d;t=t===undefined?false:t;f(m);return this.__copyUIEventProperties(m,d,t)}}}}());if(c)typeof c==="function"?c.call(a):f(c);else a.initKeyboardEvent(i,g,q,j,o,z,b,p);return a};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object KeyboardEvent]"}}};doodle.events.KeyboardEvent.isKeyboardEvent=function(i){if(!i||typeof i!=="object"||typeof i.toString!==
"function")return false;else i=i.toString();return i==="[object KeyboardEvent]"}})();
Object.defineProperties(doodle.events.Event,{CAPTURING_PHASE:{enumerable:true,writable:false,configurable:false,value:1},AT_TARGET:{enumerable:true,writable:false,configurable:false,value:2},BUBBLING_PHASE:{enumerable:true,writable:false,configurable:false,value:3},ADDED:{enumerable:true,writable:false,configurable:false,value:"added"},REMOVED:{enumerable:true,writable:false,configurable:false,value:"removed"},ENTER_FRAME:{enumerable:true,writable:false,configurable:false,value:"enterFrame"},LOAD:{enumerable:true,
writable:false,configurable:false,value:"load"},CHANGE:{enumerable:true,writable:false,configurable:false,value:"change"}});Object.defineProperties(doodle.events.UIEvent,{FOCUS_IN:{enumerable:true,writable:false,configurable:false,value:"focusIn"}});
Object.defineProperties(doodle.events.MouseEvent,{CLICK:{enumerable:true,writable:false,configurable:false,value:"click"},DOUBLE_CLICK:{enumerable:true,writable:false,configurable:false,value:"dblclick"},CONTEXT_MENU:{enumerable:true,writable:false,configurable:false,value:"contextmenu"},MOUSE_DOWN:{enumerable:true,writable:false,configurable:false,value:"mousedown"},MOUSE_UP:{enumerable:true,writable:false,configurable:false,value:"mouseup"},MOUSE_WHEEL:{enumerable:true,writable:false,configurable:false,
value:"mousewheel"},MOUSE_MOVE:{enumerable:true,writable:false,configurable:false,value:"mousemove"},MOUSE_OUT:{enumerable:true,writable:false,configurable:false,value:"mouseout"},MOUSE_OVER:{enumerable:true,writable:false,configurable:false,value:"mouseover"},MOUSE_ENTER:{enumerable:true,writable:false,configurable:false,value:"mouseenter"},MOUSE_LEAVE:{enumerable:true,writable:false,configurable:false,value:"mouseleave"}});
Object.defineProperties(doodle.events.TouchEvent,{TOUCH_START:{enumerable:true,writable:false,configurable:false,value:"touchstart"},TOUCH_MOVE:{enumerable:true,writable:false,configurable:false,value:"touchmove"},TOUCH_END:{enumerable:true,writable:false,configurable:false,value:"touchend"},TOUCH_CANCEL:{enumerable:true,writable:false,configurable:false,value:"touchcancel"}});
Object.defineProperties(doodle.events.KeyboardEvent,{KEY_PRESS:{enumerable:true,writable:false,configurable:false,value:"keypress"},KEY_UP:{enumerable:true,writable:false,configurable:false,value:"keyup"},KEY_DOWN:{enumerable:true,writable:false,configurable:false,value:"keydown"},KEY_LOCATION_STANDARD:{enumerable:true,writable:false,configurable:false,value:0},KEY_LOCATION_LEFT:{enumerable:true,writable:false,configurable:false,value:1},KEY_LOCATION_RIGHT:{enumerable:true,writable:false,configurable:false,
value:2},KEY_LOCATION_NUMPAD:{enumerable:true,writable:false,configurable:false,value:3},KEY_LOCATION_MOBILE:{enumerable:true,writable:false,configurable:false,value:4},KEY_LOCATION_JOYSTICK:{enumerable:true,writable:false,configurable:false,value:5}});
Object.defineProperties(doodle.events.TextEvent,{TEXT_INPUT:{enumerable:true,writable:false,configurable:false,value:"textInput"},INPUT_METHOD_UNKNOWN:{enumerable:true,writable:false,configurable:false,value:0},INPUT_METHOD_KEYBOARD:{enumerable:true,writable:false,configurable:false,value:1},INPUT_METHOD_PASTE:{enumerable:true,writable:false,configurable:false,value:2},INPUT_METHOD_DROP:{enumerable:true,writable:false,configurable:false,value:3},INPUT_METHOD_IME:{enumerable:true,writable:false,configurable:false,
value:4},INPUT_METHOD_OPTION:{enumerable:true,writable:false,configurable:false,value:5},INPUT_METHOD_HANDWRITING:{enumerable:true,writable:false,configurable:false,value:6},INPUT_METHOD_VOICE:{enumerable:true,writable:false,configurable:false,value:7},INPUT_METHOD_MULTIMODAL:{enumerable:true,writable:false,configurable:false,value:8},INPUT_METHOD_SCRIPT:{enumerable:true,writable:false,configurable:false,value:9}});
(function(){var s,v,i=Array(2),g={x:0,y:0},q,j=Math.cos,o=Math.sin,z=Math.sqrt;q=doodle.geom.Point=function(b,p){var a={},c=arguments.length;Object.defineProperties(a,s);Object.defineProperties(a,function(){var f=0,r=0;return{x:{enumerable:true,configurable:false,get:function(){return f},set:function(w){f=w}},y:{enumerable:true,configurable:false,get:function(){return r},set:function(w){r=w}},__toArray:{enumerable:false,writable:false,configurable:false,value:function(){i[0]=f;i[1]=r;return i}}}}());
switch(c){case 2:a.compose(b,p);break;case 1:c=arguments[0];b=undefined;if(typeof c==="function")c.call(a);else Array.isArray(c)?a.compose.apply(a,c):a.compose(c.x,c.y)}return a};s={length:{enumerable:true,configurable:false,get:function(){return v(g,this)}},toArray:{enumerable:true,writable:false,configurable:false,value:function(){return this.__toArray().concat()}},toString:{enumerable:true,writable:false,configurable:false,value:function(){return"(x="+this.x+", y="+this.y+")"}},compose:{enumerable:true,
writable:false,configurable:false,value:function(b,p){this.x=b;this.y=p;return this}},clone:{enumerable:true,writable:false,configurable:false,value:function(){return q(this.x,this.y)}},equals:{enumerable:true,writable:false,configurable:false,value:function(b){return this&&b&&this.x===b.x&&this.y===b.y||!this&&!b}},add:{enumerable:true,writable:false,configurable:false,value:function(b){return q(this.x+b.x,this.y+b.y)}},subtract:{enumerable:true,writable:false,configurable:false,value:function(b){return q(this.x-
b.x,this.y-b.y)}},offset:{enumerable:true,writable:false,configurable:false,value:function(b,p){this.x+=b;this.y+=p;return this}},normalize:{enumerable:true,writable:false,configurable:false,value:function(b){this.x=this.x/this.length*b;this.y=this.y/this.length*b;return this}},interpolate:{enumerable:true,writable:false,configurable:false,value:function(b,p,a){return q(b.x+(p.x-b.x)*a,b.y+(p.y-b.y)*a)}},polar:{enumerable:true,writable:false,configurable:false,value:function(b,p){return q(b*j(p),
b*o(p))}}};v=doodle.geom.Point.distance=function(b,p){var a=p.x-b.x,c=p.y-b.y;return z(a*a+c*c)};doodle.geom.Point.isPoint=function(b){return b&&typeof b.x==="number"&&typeof b.y==="number"}})();
(function(){var s,v=Array(6),i={x:null,y:null},g={a:null,b:null,c:null,d:null,tx:null,ty:null},q,j=doodle.geom.Point,o=Math.sin,z=Math.cos,b=Math.atan2,p=Math.tan;q=doodle.geom.Matrix=function(a,c,f,r,w,e){var l={},u=arguments.length;Object.defineProperties(l,s);Object.defineProperties(l,function(){var n=1,k=0,m=0,d=1,t=0,h=0;return{a:{enumerable:true,configurable:false,get:function(){return n},set:function(x){n=x}},b:{enumerable:true,configurable:false,get:function(){return k},set:function(x){k=
x}},c:{enumerable:true,configurable:false,get:function(){return m},set:function(x){m=x}},d:{enumerable:true,configurable:false,get:function(){return d},set:function(x){d=x}},tx:{enumerable:true,configurable:false,get:function(){return t},set:function(x){t=x}},ty:{enumerable:true,configurable:false,get:function(){return h},set:function(x){h=x}},__toArray:{enumerable:false,writable:false,configurable:false,value:function(){v[0]=n;v[1]=k;v[2]=m;v[3]=d;v[4]=t;v[5]=h;return v}}}}());switch(u){case 6:l.compose(a,
c,f,r,w,e);break;case 1:u=arguments[0];a=undefined;if(typeof u==="function")u.call(l);else Array.isArray(u)?l.compose.apply(l,u):l.compose(u.a,u.b,u.c,u.d,u.tx,u.ty)}return l};s={compose:{enumerable:true,writable:false,configurable:false,value:function(a,c,f,r,w,e){this.a=a;this.b=c;this.c=f;this.d=r;this.tx=w;this.ty=e;return this}},toArray:{enumerable:true,writable:false,configurable:false,value:function(){return this.__toArray().concat()}},toString:{enumerable:true,writable:false,configurable:false,
value:function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}},equals:{enumerable:true,writable:false,configurable:false,value:function(a){return this&&a&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d&&this.tx===a.tx&&this.ty===a.ty||!this&&!a}},identity:{enumerable:true,writable:false,configurable:false,value:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this}},clone:{enumerable:true,writable:false,configurable:false,
value:function(){return q(this.a,this.b,this.c,this.d,this.tx,this.ty)}},multiply:{enumerable:true,writable:false,configurable:false,value:function(a){return this.compose(this.a*a.a+this.c*a.b,this.b*a.a+this.d*a.b,this.a*a.c+this.c*a.d,this.b*a.c+this.d*a.d,this.a*a.tx+this.c*a.ty+this.tx,this.b*a.tx+this.d*a.ty+this.ty)}},rotate:{enumerable:true,writable:false,configurable:false,value:function(a){var c=z(a);a=o(a);g.a=c;g.b=a;g.c=-a;g.d=c;g.tx=0;g.ty=0;return this.multiply(g)}},deltaRotate:{enumerable:true,
writable:false,configurable:false,value:function(a){var c=this.tx,f=this.ty;this.rotate(a);this.tx=c;this.ty=f;return this}},rotation:{enumerable:true,configurable:false,get:function(){return b(this.b,this.a)},set:function(a){var c=z(a);a=o(a);this.compose(c,a,-a,c,this.tx,this.ty)}},scale:{enumerable:true,writable:false,configurable:false,value:function(a,c){g.a=a;g.b=0;g.c=0;g.d=c;g.tx=0;g.ty=0;return this.multiply(g)}},deltaScale:{enumerable:true,writable:false,configurable:false,value:function(a,
c){var f=this.tx,r=this.ty;this.scale(a,c);this.tx=f;this.ty=r;return this}},translate:{enumerable:true,writable:false,configurable:false,value:function(a,c){this.tx+=a;this.ty+=c;return this}},skew:{enumerable:true,writable:false,configurable:false,value:function(a,c){var f=p(a),r=p(c);g.a=1;g.b=r;g.c=f;g.d=1;g.tx=0;g.ty=0;return this.multiply(g)}},deltaSkew:{enumerable:true,writable:false,configurable:false,value:function(a,c){var f=this.tx,r=this.ty;this.skew(a,c);this.tx=f;this.ty=r;return this}},
add:{enumerable:true,writable:false,configurable:false,value:function(a){this.a+=a.a;this.b+=a.b;this.c+=a.c;this.d+=a.d;this.tx+=a.tx;this.ty+=a.ty;return this}},invert:{enumerable:true,writable:false,configurable:false,value:function(){var a=this.a*this.d-this.b*this.c;return this.compose(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.ty*this.c-this.d*this.tx)/a,-(this.ty*this.a-this.b*this.tx)/a)}},transformPoint:{enumerable:true,writable:false,configurable:false,value:function(a){return j(this.a*
a.x+this.c*a.y+this.tx,this.b*a.x+this.d*a.y+this.ty)}},__transformPoint:{enumerable:false,writable:false,configurable:false,value:function(a){var c=a.x,f=a.y;a.x=this.a*c+this.c*f+this.tx;a.y=this.b*c+this.d*f+this.ty;return a}},deltaTransformPoint:{enumerable:true,writable:false,configurable:false,value:function(a){return j(this.a*a.x+this.c*a.y,this.b*a.x+this.d*a.y)}},__deltaTransformPoint:{enumerable:false,writable:false,configurable:false,value:function(a){var c=a.x,f=a.y;a.x=this.a*c+this.c*
f;a.y=this.b*c+this.d*f;return a}},rotateAroundExternalPoint:{enumerable:true,writable:false,configurable:false,value:function(a,c){var f=z(c),r=o(c);g.a=f;g.b=r;g.c=-r;g.d=f;g.tx=0;g.ty=0;this.translate(-a.x,-a.y);i.x=g.a*this.tx+g.c*this.ty+g.tx;i.y=g.b*this.tx+g.d*this.ty+g.ty;this.tx=i.x;this.ty=i.y;return this.multiply(g).translate(a.x,a.y)}},rotateAroundInternalPoint:{enumerable:true,writable:false,configurable:false,value:function(a,c){i.x=this.a*a.x+this.c*a.y+this.tx;i.y=this.b*a.x+this.d*
a.y+this.ty;return this.rotateAroundExternalPoint(i,c)}},matchInternalPointWithExternal:{enumerable:true,writable:false,configurable:false,value:function(a,c){i.x=this.a*a.x+this.c*a.y+this.tx;i.y=this.b*a.x+this.d*a.y+this.ty;return this.translate(c.x-i.x,c.y-i.y)}},interpolate:{enumerable:true,writable:false,configurable:false,value:function(a,c){this.a+=(a.a-this.a)*c;this.b+=(a.b-this.b)*c;this.c+=(a.c-this.c)*c;this.d+=(a.d-this.d)*c;this.tx+=(a.tx-this.tx)*c;this.ty+=(a.ty-this.ty)*c;return this}}};
doodle.geom.Matrix.isMatrix=function(a){return a!==undefined&&a!==null&&typeof a.a==="number"&&typeof a.b==="number"&&typeof a.c==="number"&&typeof a.d==="number"&&typeof a.tx==="number"&&typeof a.ty==="number"}})();
(function(){var s,v=Array(4),i,g=Math.max,q=Math.min;i=doodle.geom.Rectangle=function(j,o,z,b){var p={},a=arguments.length;Object.defineProperties(p,s);Object.defineProperties(p,function(){var c=0,f=0,r=0,w=0;return{x:{enumerable:true,configurable:false,get:function(){return c},set:function(e){c=e}},y:{enumerable:true,configurable:false,get:function(){return f},set:function(e){f=e}},width:{enumerable:true,configurable:false,get:function(){return r},set:function(e){r=e}},height:{enumerable:true,configurable:false,
get:function(){return w},set:function(e){w=e}},__toArray:{enumerable:false,writable:false,configurable:false,value:function(){v[0]=c;v[1]=f;v[2]=r;v[3]=w;return v}}}}());switch(a){case 4:p.compose(j,o,z,b);break;case 1:a=arguments[0];j=undefined;if(typeof a==="function")a.call(p);else Array.isArray(a)?p.compose.apply(p,a):p.compose(a.x,a.y,a.width,a.height)}return p};s={top:{enumerable:true,configurable:false,get:function(){return this.y},set:function(j){this.y=j;this.height-=j}},right:{enumerable:true,
configurable:false,get:function(){return this.x+this.width},set:function(j){this.width=j-this.x}},bottom:{enumerable:true,configurable:false,get:function(){return this.y+this.height},set:function(j){this.height=j-this.y}},left:{enumerable:true,configurable:false,get:function(){return this.x},set:function(j){this.x=j;this.width-=j}},toString:{enumerable:true,writable:false,configurable:false,value:function(){return"(x="+this.x+", y="+this.y+", w="+this.width+", h="+this.height+")"}},toArray:{enumerable:true,
writable:false,configurable:false,value:function(){return this.__toArray().concat()}},compose:{enumerable:true,writable:false,configurable:false,value:function(j,o,z,b){this.x=j;this.y=o;this.width=z;this.height=b;return this}},__compose:{enumerable:false,writable:false,configurable:false,value:function(j){this.compose.apply(this,j.__toArray());return this}},clone:{enumerable:true,writable:false,configurable:false,value:function(){return i(this.x,this.y,this.width,this.height)}},offset:{enumerable:true,
writable:false,configurable:false,value:function(j,o){this.x+=j;this.y+=o;return this}},inflate:{enumerable:true,writable:false,configurable:false,value:function(j,o){this.x-=j;this.width+=2*j;this.y-=o;this.height+=2*o;return this}},equals:{enumerable:true,writable:false,configurable:false,value:function(j){return this.x===j.x&&this.y===j.y&&this.width===j.width&&this.height===j.height}},isEmpty:{enumerable:true,writable:false,configurable:false,value:function(){return this.width>=0||this.height>=
0}},contains:{enumerable:false,writable:false,configurable:false,value:function(j,o){return j>=this.left&&j<=this.right&&o>=this.top&&o<=this.bottom}},containsPoint:{enumerable:true,writable:false,configurable:false,value:function(j){return this.contains(j.x,j.y)}},containsRect:{enumerable:true,writable:false,configurable:false,value:function(j){return this.contains(j.x,j.y)&&this.contains(j.right,j.y)&&this.contains(j.right,j.bottom)&&this.contains(j.x,j.bottom)}},intersects:{enumerable:true,writable:false,
configurable:false,value:function(j){return this.contains(j.x,j.y)||this.contains(j.right,j.y)||this.contains(j.right,j.bottom)||this.contains(j.x,j.bottom)}},intersection:{enumerable:true,writable:false,configurable:false,value:function(j){var o=i(0,0,0,0);if(this.intersects(j)){o.left=g(this.left,j.left);o.top=g(this.top,j.top);o.right=q(this.right,j.right);o.bottom=q(this.bottom,j.bottom)}return o}},__intersection:{enumerable:false,writable:false,configurable:false,value:function(j){if(this.intersects(j)){this.left=
g(this.left,j.left);this.top=g(this.top,j.top);this.right=q(this.right,j.right);this.bottom=q(this.bottom,j.bottom)}return this}},union:{enumerable:true,writable:false,configurable:false,value:function(j){var o=i(0,0,0,0);o.left=q(this.left,j.left);o.top=q(this.top,j.top);o.right=g(this.right,j.right);o.bottom=g(this.bottom,j.bottom);return o}},__union:{enumerable:false,writable:false,configurable:false,value:function(j){var o=q(this.left,j.left),z=q(this.top,j.top),b=g(this.right,j.right);j=g(this.bottom,
j.bottom);this.left=o;this.top=z;this.right=b;this.bottom=j;return this}}};doodle.geom.Rectangle.isRect=function(j){return typeof j.x==="number"&&typeof j.y==="number"&&typeof j.width==="number"&&typeof j.height==="number"&&typeof j.top==="number"&&typeof j.bottom==="number"&&typeof j.left==="number"&&typeof j.right==="number"}})();
(function(){var s,v,i,g=doodle.events.Event.CAPTURING_PHASE,q=doodle.events.Event.AT_TARGET,j=doodle.events.Event.BUBBLING_PHASE,o=Array.prototype.indexOf,z=Array.prototype.splice;doodle.EventDispatcher=function(b){var p={};Object.defineProperties(p,s);Object.defineProperties(p,{eventListeners:function(){var a={};return{enumerable:true,configurable:false,get:function(){return a}}}()});typeof b==="function"&&b.call(p);return p};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object EventDispatcher]"}},
modify:{enumerable:true,writable:false,configurable:false,value:function(b){b.call(this);return this}},addEventListener:{enumerable:true,writable:false,configurable:false,value:function(b,p,a){a=a===undefined?false:a;var c=this.eventListeners;c.hasOwnProperty(b)||(c[b]={capture:[],bubble:[]});c[b][a?"capture":"bubble"].push(p);v.indexOf(this)===-1&&v.push(this)}},removeEventListener:{enumerable:true,writable:false,configurable:false,value:function(b,p,a){a=a===undefined?false:a;var c=this.eventListeners,
f=c.hasOwnProperty(b)?c[b]:false;if(f){a=f[a?"capture":"bubble"];z.call(a,o.call(a,p),1);f.capture.length===0&&f.bubble.length===0&&delete c[b];if(Object.keys(c).length===0){b=v;z.call(b,o.call(b,this),1)}}}},handleEvent:{enumerable:true,writable:false,configurable:false,value:function(b){var p=b.eventPhase===g?"capture":"bubble",a=this.eventListeners[b.type],c=0,f;if((a=a&&a[p])&&a.length>0){b.__setCurrentTarget(this);c=a.length;for(f=0;f<c;f+=1){p=a[f].call(this,b);if(p===false||b.returnValue===
false)b.__cancel||b.stopPropagation();if(b.__cancelNow)break}}return c>0?true:false}},dispatchEvent:{enumerable:true,writable:false,configurable:false,value:function(b){var p,a=b.type,c=Object.prototype.hasOwnProperty,f=c.call(this.eventListeners,a),r,w=[];if(b.__cancel)return false;b.target||b.__setTarget(this);p=b.target;for(r=p.parent||null;r;){f||(f=c.call(r.eventListeners,a));w.push(r);r=r.parent}if(!f)return true;b.__setEventPhase(g);for(c=a=w.length;c--;){w[c].handleEvent(b);if(b.__cancel)return true}b.__setEventPhase(q);
p.handleEvent(b);if(b.__cancel)return true;if(!b.bubbles||b.cancelBubble)return true;b.__setEventPhase(j);for(c=0;c<a;c+=1){w[c].handleEvent(b);if(b.__cancel||b.cancelBubble)break}return true}},broadcastEvent:{enumerable:true,writable:false,configurable:false,value:function(b){var p=b.type,a=Object.prototype.hasOwnProperty,c=v,f=c.length;if(b.__cancel)throw Error(this+".broadcastEvent: Can not dispatch a cancelled event.");for(b.target||b.__setTarget(this);f--;){a.call(c[f].eventListeners,p)&&c[f].handleEvent(b);
if(b.__cancel)break}return true}},hasEventListener:{enumerable:true,writable:false,configurable:false,value:function(b){return this.eventListeners.hasOwnProperty(b)}},willTrigger:{enumerable:true,writable:false,configurable:false,value:function(b){if(this.eventListeners.hasOwnProperty(b))return true;for(var p=this.children,a=p?p.length:0;a--;)if(p[a].willTrigger(b))return true;return false}}};v=doodle.EventDispatcher.dispatcher_queue=[];i=doodle.EventDispatcher.isEventDispatcher=function(b){if(!b||
typeof b!=="object"||typeof b.toString!=="function")return false;return b.toString()==="[object EventDispatcher]"};doodle.EventDispatcher.inheritsEventDispatcher=function(b){for(;b;)if(i(b))return true;else{if(typeof b!=="object")break;b=Object.getPrototypeOf(b)}return false}})();
(function(){var s=0,v,i,g=doodle.events.Event(doodle.events.Event.ADDED,true),q=doodle.events.Event(doodle.events.Event.REMOVED,true),j=doodle.geom.Point,o=doodle.geom.Matrix,z=doodle.geom.Rectangle,b=doodle.utils.create_scene_path,p=Math.PI;doodle.Node=function(a){var c=Object.create(doodle.EventDispatcher());Object.defineProperties(c,v);Object.defineProperties(c,{id:function(){var f=typeof a==="string"?a:"node"+String("000"+s).slice(-3);s+=1;return{enumerable:true,configurable:true,get:function(){return f},
set:function(r){f=r}}}(),root:function(){var f=null;return{enumerable:true,configurable:true,get:function(){return f},set:function(r){f=r}}}(),parent:function(){var f=null;return{enumerable:true,configurable:true,get:function(){return f},set:function(r){f=r}}}(),children:function(){var f=[];return{enumerable:true,configurable:false,get:function(){return f}}}(),transform:function(){var f=o(1,0,0,1,0,0);return{enumerable:true,configurable:false,get:function(){return f},set:function(r){f=r}}}(),visible:function(){var f=
true;return{enumerable:true,configurable:true,get:function(){return f},set:function(r){f=r}}}(),alpha:function(){var f=1;return{enumerable:true,configurable:true,get:function(){return f},set:function(r){f=r>1?1:r<0?0:r}}}(),getBounds:{enumerable:true,writable:true,configurable:false,value:function(f){return this.__getBounds(f).clone()}},__getBounds:{enumerable:false,writable:true,configurable:false,value:function(){var f=z(0,0,0,0);return function(r){for(var w=null,e,l=this.children,u=l.length;u--;){e=
l[u].__getBounds(r);if(e!==null)if(w===null)w=f.__compose(e);else w.__union(e)}return w}}()}});if(typeof a==="function"){a.call(c);a=undefined}return c};v={x:{enumerable:true,configurable:false,get:function(){return this.transform.tx},set:function(a){this.transform.tx=a}},y:{enumerable:true,configurable:false,get:function(){return this.transform.ty},set:function(a){this.transform.ty=a}},rotate:{enumerable:true,configurable:false,value:function(a){this.transform.rotate(a*p/180)}},rotation:{enumerable:true,
configurable:true,get:function(){return this.transform.rotation*180/p},set:function(a){this.transform.rotation=a*p/180}},scaleX:{enumerable:true,configurable:false,get:function(){return this.transform.a},set:function(a){this.transform.a=a}},scaleY:{enumerable:true,configurable:false,get:function(){return this.transform.d},set:function(a){this.transform.d=a}},context:{enumerable:true,configurable:true,get:function(){for(var a=this.parent;a;){if(a.context)return a.context;a=a.parent}return null}},__allTransforms:{enumerable:false,
configurable:false,get:function(){var a=o(1,0,0,1,0,0);return function(){var c=this.parent;for(a.compose.apply(a,this.transform.__toArray());c;){a.multiply(c.transform);c=c.parent}return a}}()},toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object Node]"}},addChildAt:{enumerable:true,writable:false,configurable:false,value:function(a,c){var f=this.children,r=this.root,w=a.parent;if(f.indexOf(a)!==-1)return false;w!==null&&w!==this&&a.parent.removeChild(a);a.parent=
this;f.splice(c,0,a);if(r&&a.root!==r){r.__sortAllChildren();f=b(a,[]);for(w=f.length;w--;){a=f[w];a.root=r;a.dispatchEvent(g.__setTarget(null))}}return a}},addChild:{enumerable:true,writable:false,configurable:false,value:function(a){return this.addChildAt(a,this.children.length)}},removeChildAt:{enumerable:true,writable:false,configurable:false,value:function(a){var c=this.children,f=c[a],r=this.root,w=b(f,[]),e=w.length,l=e;if(r)for(;e--;)w[e].dispatchEvent(q.__setTarget(null));c.splice(a,1);for(f.parent=
null;l--;)w[l].root=null;r&&r.__sortAllChildren()}},removeChild:{enumerable:false,writable:false,configurable:false,value:function(a){this.removeChildAt(this.children.indexOf(a))}},removeChildById:{enumerable:true,writable:false,configurable:false,value:function(a){this.removeChild(this.getChildById(a))}},removeAllChildren:{enumerable:true,writable:false,configurable:false,value:function(){for(var a=this.children.length;a--;)this.removeChildAt(a)}},getChildById:{enumerable:true,writable:false,configurable:false,
value:function(a){for(var c=this.children,f=c.length,r=0;r<f;r++)if(c[r].id===a)return c[r];return null}},setChildIndex:{enumerable:true,writable:false,configurable:false,value:function(a,c){var f=this.children,r=f.indexOf(a);f.splice(r,1);f.splice(c,0,a)}},swapChildrenAt:{enumerable:true,writable:false,configurable:false,value:function(a,c){var f=this.children;f[a]=f.splice(c,1,f[a])[0]}},swapChildren:{enumerable:true,writable:false,configurable:false,value:function(a,c){var f=this.children;this.swapChildrenAt(f.indexOf(a),
f.indexOf(c))}},swapDepths:{enumerable:true,writable:false,configurable:false,value:function(a){var c=this.parent,f;f=c.children;c.swapChildrenAt(f.indexOf(this),f.indexOf(a))}},swapDepthAt:{enumerable:true,writable:false,configurable:false,value:function(a){var c=this.parent;c.swapChildrenAt(a,c.children.indexOf(this))}},contains:{enumerable:true,writable:false,configurable:false,value:function(a){return b(this,[]).indexOf(a)!==-1?true:false}},localToGlobal:{enumerable:true,writable:false,configurable:false,
value:function(a){var c=this.parent;for(a=this.transform.transformPoint(a);c;){c.transform.__transformPoint(a);c=c.parent}return a}},__localToGlobal:{enumerable:false,writable:false,configurable:false,value:function(a){for(var c=this;c;){c.transform.__transformPoint(a);c=c.parent}return a}},globalToLocal:{enumerable:true,writable:false,configurable:false,value:function(a){var c={x:0,y:0};this.__localToGlobal(c);return j(a.x-c.x,a.y-c.y)}},__globalToLocal:{enumerable:false,writable:false,configurable:false,
value:function(a){var c={x:0,y:0};this.__localToGlobal(c);a.x-=c.x;a.y-=c.y;return a}}};i=doodle.Node.isNode=function(a){if(!a||typeof a!=="object"||typeof a.toString!=="function")return false;return a.toString()==="[object Node]"};doodle.Node.inheritsNode=function(a){for(;a;)if(i(a))return true;else{if(typeof a!=="object")break;a=Object.getPrototypeOf(a)}return false}})();
(function(){var s,v,i=doodle.geom.Rectangle;doodle.Sprite=function(g){var q=Object.create(doodle.Node(typeof g==="string"?g:undefined));Object.defineProperties(q,s);Object.defineProperties(q,function(){var j=[];return{graphics:{enumerable:false,configurable:false,value:Object.create(doodle.Graphics.call(q,j))},width:function(){var o=0;return{enumerable:true,configurable:false,get:function(){return o},set:function(z){o=z}}}(),height:function(){var o=0;return{enumerable:true,configurable:false,get:function(){return o},
set:function(z){o=z}}}(),getBounds:{enumerable:true,writable:true,configurable:false,value:function(o){return this.__getBounds(o).clone()}},__getBounds:{enumerable:false,writable:true,configurable:false,value:function(){var o=i(0,0,0,0);return function(z){var b=this.children,p=b.length,a,c=this.width,f=this.height,r=this.graphics;a={x:r.__minX,y:r.__minY};var w={x:r.__minX+c,y:r.__minY};c={x:r.__minX+c,y:r.__minY+f};f={x:r.__minX,y:r.__minY+f};r=Math.min;var e=Math.max;this.__localToGlobal(a);this.__localToGlobal(w);
this.__localToGlobal(c);this.__localToGlobal(f);z.__globalToLocal(a);z.__globalToLocal(w);z.__globalToLocal(c);z.__globalToLocal(f);o.left=r(a.x,w.x,c.x,f.x);o.right=e(a.x,w.x,c.x,f.x);o.top=r(a.y,w.y,c.y,f.y);for(o.bottom=e(a.y,w.y,c.y,f.y);p--;){a=b[p].__getBounds(z);a!==null&&o.__union(a)}return o}}()},hitTestObject:{enumerable:true,writable:true,configurable:false,value:function(o){return this.getBounds(this).intersects(o.getBounds(this))}},hitTestPoint:{enumerable:true,writable:true,configurable:false,
value:function(o){return this.getBounds(this).containsPoint(this.globalToLocal(o))}},__draw:{enumerable:false,writable:false,configurable:false,value:function(o){for(var z=0,b=j.length;z<b;z++)j[z].call(q,o)}}}}());typeof g==="function"&&g.call(q);return q};s={rotation:function(){var g=180/Math.PI,q=Math.PI/180;return{enumerable:true,configurable:false,get:function(){return this.transform.rotation*g},set:function(j){this.transform.rotation=j*q}}}(),toString:{enumerable:false,writable:false,configurable:false,
value:function(){return"[object Sprite]"}},compose:{enumerable:false,writable:false,configurable:false,value:function(g,q,j,o){this.x=g;this.y=q;this.width=j;this.height=o;return this}}};v=doodle.Sprite.isSprite=function(g){if(!g||typeof g!=="object"||typeof g.toString!=="function")return false;return g.toString()==="[object Sprite]"};doodle.Sprite.inheritsSprite=function(g){for(;g;)if(v(g))return true;else{if(typeof g!=="object")break;g=Object.getPrototypeOf(g)}return false}})();
(function(){var s,v=doodle.utils.hex_to_rgb_str,i=doodle.utils.get_element,g=doodle.events.Event,q=doodle.GradientType.LINEAR,j=doodle.GradientType.RADIAL;doodle.Graphics=function(o){var z={},b=this,p=0,a=0,c=1,f=doodle.LineCap.BUTT,r=doodle.LineJoin.MITER,w=10;Object.defineProperties(z,s);Object.defineProperties(z,{__minX:{enumerable:false,configurable:false,value:0},__minY:{enumerable:false,configurable:false,value:0},__maxX:{enumerable:false,configurable:false,value:0},__maxY:{enumerable:false,
configurable:false,value:0},lineWidth:{enumerable:true,configurable:false,get:function(){return c}},lineCap:{enumerable:true,configurable:false,get:function(){return f}},lineJoin:{enumerable:true,configurable:false,get:function(){return r}},lineMiter:{enumerable:true,configurable:false,get:function(){return w}},draw:{enumerable:false,writable:false,configurable:false,value:function(e){o.push(e)}},clear:{enumerable:false,writable:false,configurable:false,value:function(){o.length=0;b.width=0;p=a=this.__minX=
this.__minY=this.__maxX=this.__maxY=b.height=0}},rect:{enumerable:false,writable:false,configurable:false,value:function(e,l,u,n){this.__minX=Math.min(0,e,this.__minX);this.__minY=Math.min(0,l,this.__minY);this.__maxX=Math.max(0,e,e+u,this.__maxX);this.__maxY=Math.max(0,l,l+n,this.__maxY);b.width=-this.__minX+this.__maxX;b.height=-this.__minY+this.__maxY;o.push(function(k){k.beginPath();k.rect(e,l,u,n);k.closePath();k.stroke()})}},circle:{enumerable:false,writable:false,configurable:false,value:function(e,
l,u){this.__minX=Math.min(0,-u+e,this.__minX);this.__minY=Math.min(0,-u+l,this.__minY);this.__maxX=Math.max(0,e,e+u,this.__maxX);this.__maxY=Math.max(0,l,l+u,this.__maxY);b.width=-this.__minX+this.__maxX;b.height=-this.__minY+this.__maxY;o.push(function(n){n.beginPath();n.arc(e,l,u,0,6.283185307179586,true);n.closePath();n.stroke()})}},ellipse:{enumerable:false,writable:false,configurable:false,value:function(e,l,u,n){n=n===undefined?u:n;var k=u/2,m=n/2,d=0.5522847498*k,t=0.5522847498*m;this.__minX=
Math.min(0,-k+e,this.__minX);this.__minY=Math.min(0,-m+l,this.__minY);this.__maxX=Math.max(0,e,e+k,this.__maxX);this.__maxY=Math.max(0,l,l+m,this.__maxY);b.width=-this.__minX+this.__maxX;b.height=-this.__minY+this.__maxY;o.push(function(h){h.beginPath();h.moveTo(e+k,l);h.bezierCurveTo(e+k,l-t,e+d,l-m,e,l-m);h.bezierCurveTo(e-d,l-m,e-k,l-t,e-k,l);h.bezierCurveTo(e-k,l+t,e-d,l+m,e,l+m);h.bezierCurveTo(e+d,l+m,e+k,l+t,e+k,l);h.closePath();h.stroke()})}},roundRect:{enumerable:false,writable:false,configurable:false,
value:function(e,l,u,n,k,m){k=k===undefined?0:k;m=m===undefined?0:m;var d=e+u,t=d-k,h=e+k,x=l+n,A=x-m,G=l+m;this.__minX=Math.min(0,e,this.__minX);this.__minY=Math.min(0,l,this.__minY);this.__maxX=Math.max(0,e,e+u,this.__maxX);this.__maxY=Math.max(0,l,l+n,this.__maxY);b.width=-this.__minX+this.__maxX;b.height=-this.__minY+this.__maxY;o.push(function(B){B.beginPath();B.moveTo(h,l);B.beginPath();B.lineTo(t,l);B.quadraticCurveTo(d,l,d,G);B.lineTo(d,A);B.quadraticCurveTo(d,x,t,x);B.lineTo(h,x);B.quadraticCurveTo(e,
x,e,A);B.lineTo(e,G);B.quadraticCurveTo(e,l,h,l);B.closePath();B.stroke()})}},moveTo:{enumerable:false,writable:false,configurable:false,value:function(e,l){o.push(function(u){u.moveTo(e,l)});p=e;a=l}},lineTo:{enumerable:false,writable:false,configurable:false,value:function(e,l){this.__minX=Math.min(0,e,p,this.__minX);this.__minY=Math.min(0,l,a,this.__minY);this.__maxX=Math.max(0,e,p,this.__maxX);this.__maxY=Math.max(0,l,a,this.__maxY);b.width=this.__maxX-this.__minX;b.height=this.__maxY-this.__minY;
o.push(function(u){u.lineTo(e,l)});p=e;a=l}},curveTo:{enumerable:false,writable:false,configurable:false,value:function(e,l){var u=p,n=a,k=e.x,m=e.y,d=l.x,t=l.y,h,x=0,A=0;h=(u-k)/(u-2*k+d);if(0<=h&&h<=1)x=(1-h)*(1-h)*u+2*(1-h)*h*k+h*h*d;h=(n-m)/(n-2*m+t);if(0<=h&&h<=1)A=(1-h)*(1-h)*n+2*(1-h)*h*m+h*h*t;this.__minX=Math.min(0,u,x,d,this.__minX);this.__minY=Math.min(0,n,A,t,this.__minY);this.__maxX=Math.max(0,u,x,d,this.__maxX);this.__maxY=Math.max(0,n,A,t,this.__maxY);b.width=-this.__minX+this.__maxX;
b.height=-this.__minY+this.__maxY;o.push(function(G){G.quadraticCurveTo(k,m,d,t)});p=d;a=t}},bezierCurveTo:{enumerable:false,writable:false,configurable:false,value:function(e,l,u){var n=Math.pow,k=Math.max,m=Math.min,d=p,t=a,h=e.x,x=e.y,A=l.x,G=l.y,B=u.x,H=u.y,E,J=u=l=0,L=0;for(e=0.1;e<1;e+=0.1){E=n(1-e,3)*d+3*n(1-e,2)*e*h+3*n(1-e,1)*n(e,2)*A+n(e,3)*B;if(E>l)l=E;if(E<u)u=E;E=n(1-e,3)*t+3*n(1-e,2)*e*x+3*n(1-e,1)*n(e,2)*G+n(e,3)*H;if(E>J)J=E;if(E<L)L=E}this.__minX=m(0,d,u,B,this.__minX);this.__minY=
m(0,t,L,H,this.__minY);this.__maxX=k(0,d,l,B,this.__maxX);this.__maxY=k(0,t,J,H,this.__maxY);b.width=-this.__minX+this.__maxX;b.height=-this.__minY+this.__maxY;o.push(function(O){O.bezierCurveTo(h,x,A,G,B,H)});p=B;a=H}},beginFill:{enumerable:false,writable:false,configurable:false,value:function(e,l){l=l===undefined?1:l;o.push(function(u){u.fillStyle=v(e,l)})}},beginGradientFill:{enumerable:true,writable:false,configurable:false,value:function(e,l,u,n,k,m){o.push(function(d){var t=doodle.utils.hex_to_rgb_str,
h,x=n.length,A=0;if(e===q)h=d.createLinearGradient(l.x,l.y,u.x,u.y);else if(e===j)h=d.createRadialGradient(l.x,l.y,l.radius,u.x,u.y,u.radius);else throw new TypeError(b+".graphics.beginGradientFill(*type*, point1, point2, ratios, colors, alphas): Unknown gradient type.");for(;A<x;A+=1)h.addColorStop(n[A],t(k[A],m[A]));d.fillStyle=h})}},beginPatternFill:{enumerable:true,writable:false,configurable:false,value:function(e,l){var u=null,n;n=doodle.Pattern;l=l===undefined?n.REPEAT:l;if(typeof e==="string")if(e[0]===
"#")e=i(e,b+".graphics..beginPatternFill");else(function(){var k=encodeURI(e);e=new Image;e.src=k})();if(e.complete)u=e;else{e.onload=function(){u=e;b.dispatchEvent(g(g.LOAD))};n=function(){throw new URIError(b+".graphics.beginPatternFill(*image*,repeat): Unable to load "+e.src);};e.onerror=n;e.onabort=n}o.push(function(k){k.fillStyle=u?k.createPattern(u,l):"rgba(0,0,0,0)"})}},lineStyle:{enumerable:true,writable:false,configurable:false,value:function(e,l,u,n,k,m){e=e===undefined?1:e;l=l===undefined?
"#000000":l;u=u===undefined?1:u;n=n===undefined?doodle.LineCap.BUTT:n;k=k===undefined?doodle.LineJoin.MITER:k;m=m===undefined?10:m;c=e;r=k;f=n;w=m;if(typeof l==="string"||typeof l==="number")l=v(l,u);else throw new TypeError(b+".graphics.lineStyle(thickness,*color*,alpha,caps,joints,miterLimit): Color must be a hex value.");o.push(function(d){d.lineWidth=c;d.strokeStyle=l;d.lineCap=f;d.lineJoin=r;d.miterLimit=w})}},beginPath:{enumerable:false,writable:false,configurable:false,value:function(){o.push(function(e){e.beginPath();
e.moveTo(p,a)})}},closePath:{enumerable:false,writable:false,configurable:false,value:function(){o.push(function(e){e.closePath();e.stroke()});a=p=0}},endFill:{enumerable:false,writable:false,configurable:false,value:function(){o.push(function(e){e.fill()})}},stroke:{enumerable:false,writable:false,configurable:false,value:function(){o.push(function(e){e.stroke()});a=p=0}}});return z};s={toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Graphics]"}}}})();
(function(){var s,v=/^url\((.*)\)/,i,g=doodle.geom.Rectangle,q=doodle.utils.rgb_str_to_hex,j=doodle.utils.hex_to_rgb_str,o=doodle.utils.get_element,z=doodle.utils.get_element_property,b=doodle.utils.set_element_property;doodle.ElementNode=function(p,a){var c=Object.create(doodle.Node(typeof a==="string"?a:undefined));Object.defineProperties(c,s);Object.defineProperties(c,function(){var f=null,r=c.id,w=c.alpha,e=c.visible,l=0,u=0,n=null,k=null,m="repeat";return{element:{enumerable:true,configurable:true,
get:function(){return f},set:function(d){if(d===null){if(f!==null){typeof this.__removeDomElement==="function"&&this.__removeDomElement(f);k=n=null;m="repeat";if(!this.parent)u=l=0}f=null}else{f=d=o(d);this.__addDomElement(f);if(d=z(f,"id"))r=d;else this.id=r;m=z(f,"backgroundRepeat")||m;n=(d=z(f,"backgroundColor",false,false))?q(d):n;d=z(f,"backgroundImage");k=(d=!d||d==="none"?null:k.match(v))?d[1]:k}}},id:{enumerable:true,configurable:true,get:function(){return r},set:function(d){r=b(this.element,
"id",d,"html")}},width:{enumerable:true,configurable:true,get:function(){return l},set:function(d){b(this.element,"width",d+"px");l=d}},height:{enumerable:true,configurable:true,get:function(){return u},set:function(d){b(this.element,"height",d+"px");u=d}},backgroundColor:{enumerable:true,configurable:true,get:function(){return n},set:function(d){if(typeof d==="number")d=j(d);b(this.element,"backgroundColor",d);n=q(z(this.element,"backgroundColor"))}},backgroundImage:{enumerable:true,configurable:true,
get:function(){return k},set:function(d){if(d){if(typeof d==="string"){if(d[0]==="#")d=o(d).src}else if(d&&d.tagName==="IMG")d=d.src;v.test(d)||(d="url("+encodeURI(d)+")");k=b(this.element,"backgroundImage",d)}else k=b(this.element,"backgroundImage",null)}},backgroundRepeat:{enumerable:true,configurable:true,get:function(){return m},set:function(d){m=b(this.element,"backgroundRepeat",d)}},alpha:{enumerable:true,configurable:true,get:function(){return w},set:function(d){b(this.element,"opacity",d)}},
visible:{enumerable:true,configurable:true,get:function(){return e},set:function(d){d?b(this.element,"visibility","visible"):b(this.element,"visibility","hidden");e=d}},__addDomElement:{enumerable:false,configurable:true,value:function(d){var t=z(d,"width","int")||d.width;d=z(d,"height","int")||d.height;if(typeof t==="number")l=t;if(typeof d==="number")u=d}},__getBounds:{enumerable:true,configurable:true,value:function(){var d=g(0,0,0,0);return function(t){var h=this.children,x=h.length,A,G=this.width,
B=this.height;A={x:0,y:0};var H={x:G,y:0};G={x:G,y:B};B={x:0,y:B};var E=Math.min,J=Math.max;this.__localToGlobal(A);this.__localToGlobal(H);this.__localToGlobal(G);this.__localToGlobal(B);t.__globalToLocal(A);t.__globalToLocal(H);t.__globalToLocal(G);t.__globalToLocal(B);d.left=E(A.x,H.x,G.x,B.x);d.right=J(A.x,H.x,G.x,B.x);d.top=E(A.y,H.y,G.y,B.y);for(d.bottom=J(A.y,H.y,G.y,B.y);x--;){A=h[x].__getBounds(t);A!==null&&d.__union(A)}return d}}()}}}());switch(arguments.length){case 0:break;case 1:if(typeof arguments[0]===
"function"){arguments[0].call(c);p=undefined}else c.element=p;break;case 2:if(p)c.element=p;break;default:throw new SyntaxError("[object ElementNode](element, id): Invalid number of parameters.");}return c};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object ElementNode]"}}};i=doodle.ElementNode.isElementNode=function(p){if(!p||typeof p!=="object"||typeof p.toString!=="function")return false;return p.toString()==="[object ElementNode]"};doodle.ElementNode.inheritsElementNode=
function(p){for(;p;)if(i(p))return true;else{if(typeof p!=="object")break;p=Object.getPrototypeOf(p)}return false}})();
(function(){var s,v=0,i,g=doodle.utils.set_element_property;doodle.Layer=function(q,j){var o=typeof q==="string"?q:"layer"+String("00"+v).slice(-2);o=Object.create(doodle.ElementNode(undefined,o));Object.defineProperties(o,s);Object.defineProperties(o,function(){var z=0,b=0,p=null;return{width:{enumerable:true,configurable:true,get:function(){return z},set:function(a){z=g(this.element,"width",a,"html")}},height:{enumerable:true,configurable:true,get:function(){return b},set:function(a){b=g(this.element,
"height",a,"html")}},context:{enumerable:true,configurable:true,get:function(){return p}},__addDomElement:{enumerable:false,writable:false,value:function(a){g(a,"position","absolute");if(this.parent){this.width=this.parent.width;this.height=this.parent.height}p=a.getContext("2d")}},__removeDomElement:{enumerable:false,writable:false,value:function(){p=null}}}}());switch(arguments.length){case 0:break;case 1:if(typeof arguments[0]==="function"){arguments[0].call(o);q=undefined}break;case 2:o.element=
j;break;default:throw new SyntaxError("[object Layer](id, element): Invalid number of parameters.");}if(o.element===null)o.element=document.createElement("canvas");v+=1;return o};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object Layer]"}},__getBounds:{enumerable:true,configurable:true,value:function(){var q=doodle.geom.Rectangle(0,0,0,0);return function(){return q.compose(0,0,this.width,this.height)}}()}};i=doodle.Layer.isLayer=function(q){if(!q||typeof q!==
"object"||typeof q.toString!=="function")return false;return q.toString()==="[object Layer]"};doodle.Layer.inheritsLayer=function(q){for(;q;)if(i(q))return true;else{if(typeof q!=="object")break;q=Object.getPrototypeOf(q)}return false}})();
(function(){var s,v=0,i,g,q,j,o,z,b,p=doodle.utils.create_scene_path,a=doodle.Layer.isLayer,c=doodle.utils.get_element,f=doodle.utils.get_element_property,r=doodle.utils.set_element_property,w=doodle.Layer,e=doodle.events.Event(doodle.events.Event.ENTER_FRAME),l=doodle.events.MouseEvent(""),u=doodle.events.KeyboardEvent("");doodle.Display=function(n){var k,m;if(n&&typeof n!=="function"){n=c(n);m=f(n,"id")}m=typeof m==="string"?m:"display"+String("00"+v++).slice(-2);k=Object.create(doodle.ElementNode(undefined,
m));Object.defineProperties(k,s);Object.defineProperties(k,function(){function d(y){C(y,P,L,L.length,O,R,K)}function t(y){var D,I;O=D=F?y.offsetX:y.clientX-H.offsetLeft;R=I=F?y.offsetY:y.clientY-H.offsetTop;M(y,P,L,L.length,D,I,K)}function h(y){N(y,P,L,E,E.length,K)}function x(y){S(y,V,K)}function A(){T(E,E.length,J,J.length,U,L,L.length,K)}var G=0,B=0,H=null,E=k.children,J=doodle.EventDispatcher.dispatcher_queue,L=[],O=0,R=0,F=document.createEvent("MouseEvent").offsetX!==undefined,K=k,C=j,M=o,N=
z,S=b,T=i,U=e,P=l,V=u;K.addEventListener(doodle.events.Event.ADDED,A);K.addEventListener(doodle.events.Event.REMOVED,A);document.addEventListener(doodle.events.KeyboardEvent.KEY_PRESS,x,false);document.addEventListener(doodle.events.KeyboardEvent.KEY_DOWN,x,false);document.addEventListener(doodle.events.KeyboardEvent.KEY_UP,x,false);return{root:{enumerable:true,writable:false,configurable:false,value:K},mouseX:{enumerable:true,configurable:false,get:function(){return O}},mouseY:{enumerable:true,configurable:false,
get:function(){return R}},width:{get:function(){return G},set:function(y){var D=E.length;r(this.element,"width",y+"px");for(G=y;D--;)E[D].width=y;return y}},height:{get:function(){return B},set:function(y){var D=E.length;r(this.element,"height",y+"px");for(B=y;D--;)E[D].height=y;return y}},__addDomElement:{enumerable:false,writable:false,value:function(y){r(y,"position","relative");var D=f(y,"width","int",false)||y.width,I=f(y,"height","int",false)||y.height;if(typeof D==="number")this.width=D;if(typeof I===
"number")this.height=I;y.addEventListener(doodle.events.MouseEvent.MOUSE_MOVE,t,false);y.addEventListener(doodle.events.MouseEvent.MOUSE_OUT,h,false);y.addEventListener(doodle.events.MouseEvent.CLICK,d,false);y.addEventListener(doodle.events.MouseEvent.DOUBLE_CLICK,d,false);y.addEventListener(doodle.events.MouseEvent.MOUSE_DOWN,d,false);y.addEventListener(doodle.events.MouseEvent.MOUSE_UP,d,false);y.addEventListener(doodle.events.MouseEvent.CONTEXT_MENU,d,false);y.addEventListener(doodle.events.MouseEvent.MOUSE_WHEEL,
d,false);H=y}},__removeDomElement:{enumerable:false,writable:false,value:function(y){y.removeEventListener(doodle.events.MouseEvent.MOUSE_MOVE,t,false);y.removeEventListener(doodle.events.MouseEvent.MOUSE_OUT,h,false);y.removeEventListener(doodle.events.MouseEvent.CLICK,d,false);y.removeEventListener(doodle.events.MouseEvent.DOUBLE_CLICK,d,false);y.removeEventListener(doodle.events.MouseEvent.MOUSE_DOWN,d,false);y.removeEventListener(doodle.events.MouseEvent.MOUSE_UP,d,false);y.removeEventListener(doodle.events.MouseEvent.CONTEXT_MENU,
d,false);y.removeEventListener(doodle.events.MouseEvent.MOUSE_WHEEL,d,false);H=null}},allChildren:{enumerable:true,configurable:false,get:function(){return L}},__sortAllChildren:{enumerable:false,configurable:false,value:function(){p(this,L,true).reverse()}},getNodesUnderPoint:{enumerable:true,configurable:false,value:function(y){var D=[],I=L,Q=I.length,W=y.x;y=y.y;for(var X;Q--;){X=I[Q];X.__getBounds(this).contains(W,y)&&D.push(X)}return D}},addChildAt:{enumerable:true,configurable:false,value:function(){var y=
K.addChildAt;return function(D,I){D.width=this.width;D.height=this.height;this.element.appendChild(D.element);return y.call(this,D,I)}}()},removeChildAt:{enumerable:true,writable:false,configurable:false,value:function(){var y=K.removeChildAt;return function(D){this.element.removeChild(E[D].element);return y.call(this,D)}}()},swapChildrenAt:{enumerable:true,writable:false,configurable:false,value:function(){var y=K.swapChildrenAt;return function(D,I){D>I?this.element.insertBefore(E[I].element,E[D].element):
this.element.insertBefore(E[D].element,E[I].element);return y.call(this,D,I)}}()},frameRate:function(){var y=false,D;return{get:function(){return y},set:function(I){if(I===0||I===false){y=false;D!==undefined&&clearInterval(D)}else if(I!==y){D!==undefined&&clearInterval(D);D=setInterval(A,1E3/I);y=I}}}}()}}());switch(arguments.length){case 0:break;case 1:if(typeof arguments[0]==="function"){arguments[0].call(n);n=undefined}else k.element=n;break;default:throw new SyntaxError("[object Display](element): Invalid number of parameters.");
}i(k.children,k.children.length,doodle.EventDispatcher.dispatcher_queue,doodle.EventDispatcher.dispatcher_queue.length,e,k.allChildren,k.allChildren.length,k);return k};s={parent:{enumerable:true,writable:false,configurable:false,value:null},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Display]"}},addLayer:{value:function(n){return this.addChild(w(n))}},removeLayer:{value:function(n){return this.removeChildById(n)}},__getBounds:{enumerable:false,configurable:true,
value:function(){var n=doodle.geom.Rectangle(0,0,0,0);return function(){return n.compose(0,0,this.width,this.height)}}()}};i=function(){var n=0;return function(k,m,d,t,h,x,A){for(g(k,m);t--;)d[t].eventListeners.hasOwnProperty("enterFrame")&&d[t].handleEvent(h.__setTarget(d[t]));q(x,A);n++}}();g=function(n,k){for(var m;k--;){m=n[k].context;m.save();m.setTransform(1,0,0,1,0,0);m.clearRect(0,0,n[k].width,n[k].height);m.restore()}};q=function(n,k){for(var m,d;k--;){m=n[k];if((d=m.context)&&m.visible){d.save();
d.transform.apply(d,m.__allTransforms.__toArray());if(!a(m))if(m.alpha!==1)d.globalAlpha=m.alpha;typeof m.__draw==="function"&&m.__draw(d);d.restore()}}};j=function(n,k,m,d,t,h,x){for(;d--;)if(m[d].__getBounds(x).contains(t,h)){m[d].dispatchEvent(k.__copyMouseEventProperties(n,null));return true}return false};o=function(n,k,m,d,t,h,x){for(var A;d--;){A=m[d];if(A.__getBounds(x).contains(t,h)){if(!A.__pointInBounds){A.__pointInBounds=true;A.dispatchEvent(k.__copyMouseEventProperties(n,null,"mouseover"));
A.dispatchEvent(k.__copyMouseEventProperties(n,null,"mouseenter"));return true}A.dispatchEvent(k.__copyMouseEventProperties(n,null));return true}else if(A.__pointInBounds){A.__pointInBounds=false;A.dispatchEvent(k.__copyMouseEventProperties(n,null,"mouseout"));A.dispatchEvent(k.__copyMouseEventProperties(n,null,"mouseleave"));return true}}};z=function(n,k,m,d,t,h){if(t===0)h.__pointInBounds=false;else{h=d[t-1];for(t=m.length;t--;)m[t].__pointInBounds=false}h.dispatchEvent(k.__copyMouseEventProperties(n,
null,"mouseout"));h.dispatchEvent(k.__copyMouseEventProperties(n,null,"mouseleave"));return true};b=function(n,k,m){m.broadcastEvent(k.__copyKeyboardEventProperties(n,null));return true};doodle.Display.isDisplay=function(n){if(!n||typeof n!=="object"||typeof n.toString!=="function")return false;return n.toString()==="[object Display]"}})();
Object.defineProperty(doodle,"FontStyle",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{NORMAL:{enumerable:true,writable:false,configurable:false,value:"normal"},ITALIC:{enumerable:true,writable:false,configurable:false,value:"italic"},OBLIQUE:{enumerable:true,writable:false,configurable:false,value:"oblique"}})});
Object.defineProperty(doodle,"FontVariant",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{NORMAL:{enumerable:true,writable:false,configurable:false,value:"normal"},SMALL_CAPS:{enumerable:true,writable:false,configurable:false,value:"small-caps"}})});
Object.defineProperty(doodle,"FontWeight",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{NORMAL:{enumerable:true,writable:false,configurable:false,value:"normal"},BOLD:{enumerable:true,writable:false,configurable:false,value:"bold"},BOLDER:{enumerable:true,writable:false,configurable:false,value:"bolder"},LIGHTER:{enumerable:true,writable:false,configurable:false,value:"lighter"}})});
Object.defineProperty(doodle,"TextAlign",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{START:{enumerable:true,writable:false,configurable:false,value:"start"},END:{enumerable:true,writable:false,configurable:false,value:"end"},LEFT:{enumerable:true,writable:false,configurable:false,value:"left"},RIGHT:{enumerable:true,writable:false,configurable:false,value:"right"},CENTER:{enumerable:true,writable:false,configurable:false,value:"center"}})});
Object.defineProperty(doodle,"TextBaseline",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{TOP:{enumerable:true,writable:false,configurable:false,value:"top"},MIDDLE:{enumerable:true,writable:false,configurable:false,value:"middle"},BOTTOM:{enumerable:true,writable:false,configurable:false,value:"bottom"},HANGING:{enumerable:true,writable:false,configurable:false,value:"hanging"},ALPHABETIC:{enumerable:true,writable:false,configurable:false,value:"alphabetic"},IDEOGRAPHIC:{enumerable:true,
writable:false,configurable:false,value:"ideographic"}})});
(function(){var s,v=doodle.utils.hex_to_rgb_str,i=doodle.FontStyle,g=doodle.FontVariant,q=doodle.FontWeight,j=doodle.TextAlign,o=doodle.TextBaseline;doodle.Text=function(z){var b=Object.create(doodle.Sprite());Object.defineProperties(b,s);Object.defineProperties(b,function(){function p(){var h=b.context||document.createElement("canvas").getContext("2d"),x,A,G=b.graphics,B=0,H=0,E=0;h.save();h.font=w+" "+e+" "+l+" "+f+"px "+c;x=h.measureText(a).width;A=f;r=h.measureText("m").width;h.restore();b.graphics.clear();
b.graphics.draw(function(J){if(t){J.fillStyle=t;J.fillRect(0,0,x,A)}J.lineWidth=d;J.textAlign=u;J.textBaseline=n;J.font=w+" "+e+" "+l+" "+f+"px "+c;if(k){J.fillStyle=k;J.fillText(a,0,0)}if(m){J.strokeStyle=m;J.strokeText(a,0,0)}});b.width=x;b.height=A;switch(n){case o.TOP:H=f-r;E=f;break;case o.MIDDLE:H=-r/2;E=r/2;break;case o.BOTTOM:H=-f;break;case o.HANGING:H=f-r;E=f;break;case o.ALPHABETIC:H=-r;break;case o.IDEOGRAPHIC:H=-f}switch(u){case j.END:B=-x;break;case j.RIGHT:B=-x;break;case j.CENTER:B=
-x/2}G.__minX=B;G.__maxX=0;G.__minY=H;G.__maxY=E}var a="",c="sans-serif",f=10,r=f,w=i.NORMAL,e=g.NORMAL,l=q.NORMAL,u=j.START,n=o.ALPHABETIC,k="#000000",m="#000000",d=1,t;return{text:{enumerable:true,configurable:false,get:function(){return a},set:function(h){a=h;p()}},font:{enumerable:true,configurable:false,get:function(){return w+" "+e+" "+l+" "+f+"px "+c},set:function(h){var x;h=h.split(" ");x=h.length;if(x===2)h.unshift(i.NORMAL,g.NORMAL,q.NORMAL);else if(x===3)h.splice(1,0,g.NORMAL,q.NORMAL);
else x===4&&h.splice(1,0,g.NORMAL);b.fontStyle=h[0];b.fontVariant=h[1];b.fontWeight=h[2];b.fontSize=h[3];b.fontFamily=h[4]}},fontFamily:{enumerable:true,configurable:false,get:function(){return c},set:function(h){c=h;p()}},fontSize:{enumerable:true,configurable:false,get:function(){return f},set:function(h){if(typeof h==="string")h=parseInt(h,10);f=h;p()}},fontStyle:{enumerable:true,configurable:false,get:function(){return w},set:function(h){w=h;p()}},fontVariant:{enumerable:true,configurable:false,
get:function(){return e},set:function(h){e=h;p()}},fontWeight:{enumerable:true,configurable:false,get:function(){return l},set:function(h){l=h;p()}},align:{enumerable:true,configurable:false,get:function(){return u},set:function(h){u=h;p()}},baseline:{enumerable:true,configurable:false,get:function(){return n},set:function(h){n=h;p()}},strokeWidth:{enumerable:true,configurable:false,get:function(){return d},set:function(h){d=h}},color:{enumerable:true,configurable:false,get:function(){return k},set:function(h){if(typeof h===
"number")h=v(h);k=h}},strokeColor:{enumerable:true,configurable:false,get:function(){return m},set:function(h){if(typeof h==="number")h=v(h);m=h}},backgroundColor:{enumerable:true,configurable:false,get:function(){return t},set:function(h){if(typeof h==="number")h=v(h);t=h}}}}());switch(arguments.length){case 1:if(typeof arguments[0]==="function"){arguments[0].call(b);z=undefined}else b.text=z}return b};s={toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Text]"}}}})();
