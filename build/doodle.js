var doodle={};doodle.utils={};doodle.geom={};doodle.events={};(function(){var a=[],i=function(){var c=a.length,d=0;if(c>0){for(;d<c;d++)a[d](doodle);a.length=0}},g=function(){i();document.removeEventListener("DOMContentLoaded",g,!1)};doodle.ready=function(c){a.push(c);document.readyState==="complete"&&i()};document.readyState!=="complete"&&(document.addEventListener?document.addEventListener("DOMContentLoaded",g,!1):console.error("document.addEventListener not supported."))})();
if(typeof Function.prototype.bind!=="function")Function.prototype.bind=function(a){var i=this;return function(){return i.apply(a,arguments)}};
(function(){Object.defineProperties(doodle.utils,{hex_to_rgb:{enumerable:!0,writable:!1,configurable:!1,value:function(a){typeof a==="string"&&(a=a[0]==="#"?a.slice(1):a,a=parseInt(a,16));return[a>>16&255,a>>8&255,a&255]}},hex_to_rgb_str:{enumerable:!0,writable:!1,configurable:!1,value:function(a,i){var g=doodle.utils;i=i===void 0?1:i;a=g.hex_to_rgb(a);return g.rgb_to_rgb_str(a[0],a[1],a[2],i)}},rgb_str_to_hex:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var i=doodle.utils;a=i.rgb_str_to_rgb(a);
return i.rgb_to_hex(parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10))}},rgb_str_to_rgb:{enumerable:!0,writable:!1,configurable:!1,value:function(){var a=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?(.*)\)$/;return function(i){i=i.trim().match(a);var g=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)];i=parseFloat(i[4]);typeof i==="number"&&!isNaN(i)&&g.push(i);return g}}()},rgb_to_hex:{enumerable:!0,writable:!1,configurable:!1,value:function(a,i,g){a=(g|i<<8|a<<16).toString(16);
return"#"+String("000000"+a).slice(-6)}},rgb_to_rgb_str:{enumerable:!0,writable:!1,configurable:!1,value:function(a,i,g,c){c=c===void 0?1:c;c=c<0?0:c>1?1:c;return c===1?"rgb("+a+","+i+","+g+")":"rgba("+a+","+i+","+g+","+c+")"}},get_element:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return typeof a==="string"?(a=a[0]==="#"?a.slice(1):a,document.getElementById(a)):a&&a.tagName?a:null}},get_style_property:{enumerable:!0,writable:!1,configurable:!1,value:function(a,i,g){try{if(g===void 0&&
document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(a,null)[i];else if(a.currentStyle)return a.currentStyle[i];else if(a.style)return a.style[i];else throw new ReferenceError("get_style_property: Cannot read property '"+i+"' of "+a+".");}catch(c){throw new ReferenceError("get_style_property: Cannot read property '"+i+"' of "+a+".");}}},get_element_property:{enumerable:!0,writable:!1,configurable:!1,value:function(a,i,g,c){g=g||!1;var d;try{d=doodle.utils.get_style_property(a,
i,c)}catch(j){d=void 0}if(d===void 0||d===null||d==="")d=a.getAttribute(i);if(g!==!1)switch(g){case "int":d=parseInt(d,10);d=isNaN(d)?null:d;break;case "number":case "float":d=parseFloat(d);d=isNaN(d)?null:d;break;case "string":d=String(d)}return d}},set_element_property:{enumerable:!0,writable:!1,configurable:!1,value:function(a,i,g,c){switch(c===void 0?"css":c){case "css":a.style[i]=g;break;case "html":a.setAttribute(i,g);break;default:throw new SyntaxError("set_element_property: type must be 'css' property or 'html' attribute.");
}return g}},create_scene_path:{enumerable:!0,writable:!1,configurable:!1,value:function i(g,c,d){c=c===void 0?[]:c;var j=g.children.length;(d===void 0?0:d)&&c.splice(0,c.length);if(j!==0)for(;j--;)i(g.children[j],c,!1);c.push(g);return c}}})})();
Object.defineProperty(doodle,"Keyboard",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{BACKSPACE:{enumerable:!0,writable:!1,configurable:!1,value:8},TAB:{enumerable:!0,writable:!1,configurable:!1,value:9},ENTER:{enumerable:!0,writable:!1,configurable:!1,value:13},COMMAND:{enumerable:!0,writable:!1,configurable:!1,value:15},SHIFT:{enumerable:!0,writable:!1,configurable:!1,value:16},CONTROL:{enumerable:!0,writable:!1,configurable:!1,value:17},ALTERNATE:{enumerable:!0,writable:!1,
configurable:!1,value:18},PAUSE:{enumerable:!0,writable:!1,configurable:!1,value:19},CAPS_LOCK:{enumerable:!0,writable:!1,configurable:!1,value:20},NUMPAD:{enumerable:!0,writable:!1,configurable:!1,value:21},ESCAPE:{enumerable:!0,writable:!1,configurable:!1,value:27},SPACE:{enumerable:!0,writable:!1,configurable:!1,value:32},PAGE_UP:{enumerable:!0,writable:!1,configurable:!1,value:33},PAGE_DOWN:{enumerable:!0,writable:!1,configurable:!1,value:34},END:{enumerable:!0,writable:!1,configurable:!1,value:35},
HOME:{enumerable:!0,writable:!1,configurable:!1,value:36},LEFT:{enumerable:!0,writable:!1,configurable:!1,value:37},UP:{enumerable:!0,writable:!1,configurable:!1,value:38},RIGHT:{enumerable:!0,writable:!1,configurable:!1,value:39},DOWN:{enumerable:!0,writable:!1,configurable:!1,value:40},INSERT:{enumerable:!0,writable:!1,configurable:!1,value:45},DELETE:{enumerable:!0,writable:!1,configurable:!1,value:46},NUMBER_0:{enumerable:!0,writable:!1,configurable:!1,value:48},NUMBER_1:{enumerable:!0,writable:!1,
configurable:!1,value:49},NUMBER_2:{enumerable:!0,writable:!1,configurable:!1,value:50},NUMBER_3:{enumerable:!0,writable:!1,configurable:!1,value:51},NUMBER_4:{enumerable:!0,writable:!1,configurable:!1,value:52},NUMBER_5:{enumerable:!0,writable:!1,configurable:!1,value:53},NUMBER_6:{enumerable:!0,writable:!1,configurable:!1,value:54},NUMBER_7:{enumerable:!0,writable:!1,configurable:!1,value:55},NUMBER_8:{enumerable:!0,writable:!1,configurable:!1,value:56},NUMBER_9:{enumerable:!0,writable:!1,configurable:!1,
value:57},A:{enumerable:!0,writable:!1,configurable:!1,value:65},B:{enumerable:!0,writable:!1,configurable:!1,value:66},C:{enumerable:!0,writable:!1,configurable:!1,value:67},D:{enumerable:!0,writable:!1,configurable:!1,value:68},E:{enumerable:!0,writable:!1,configurable:!1,value:69},F:{enumerable:!0,writable:!1,configurable:!1,value:70},G:{enumerable:!0,writable:!1,configurable:!1,value:71},H:{enumerable:!0,writable:!1,configurable:!1,value:72},I:{enumerable:!0,writable:!1,configurable:!1,value:73},
J:{enumerable:!0,writable:!1,configurable:!1,value:74},K:{enumerable:!0,writable:!1,configurable:!1,value:75},L:{enumerable:!0,writable:!1,configurable:!1,value:76},M:{enumerable:!0,writable:!1,configurable:!1,value:77},N:{enumerable:!0,writable:!1,configurable:!1,value:78},O:{enumerable:!0,writable:!1,configurable:!1,value:79},P:{enumerable:!0,writable:!1,configurable:!1,value:80},Q:{enumerable:!0,writable:!1,configurable:!1,value:81},R:{enumerable:!0,writable:!1,configurable:!1,value:82},S:{enumerable:!0,
writable:!1,configurable:!1,value:83},T:{enumerable:!0,writable:!1,configurable:!1,value:84},U:{enumerable:!0,writable:!1,configurable:!1,value:85},V:{enumerable:!0,writable:!1,configurable:!1,value:86},W:{enumerable:!0,writable:!1,configurable:!1,value:87},X:{enumerable:!0,writable:!1,configurable:!1,value:88},Y:{enumerable:!0,writable:!1,configurable:!1,value:89},Z:{enumerable:!0,writable:!1,configurable:!1,value:90},WINDOWS_KEY:{enumerable:!0,writable:!1,configurable:!1,value:91},NUMPAD_0:{enumerable:!0,
writable:!1,configurable:!1,value:96},NUMPAD_1:{enumerable:!0,writable:!1,configurable:!1,value:97},NUMPAD_2:{enumerable:!0,writable:!1,configurable:!1,value:98},NUMPAD_3:{enumerable:!0,writable:!1,configurable:!1,value:99},NUMPAD_4:{enumerable:!0,writable:!1,configurable:!1,value:100},NUMPAD_5:{enumerable:!0,writable:!1,configurable:!1,value:101},NUMPAD_6:{enumerable:!0,writable:!1,configurable:!1,value:102},NUMPAD_7:{enumerable:!0,writable:!1,configurable:!1,value:103},NUMPAD_8:{enumerable:!0,writable:!1,
configurable:!1,value:104},NUMPAD_9:{enumerable:!0,writable:!1,configurable:!1,value:105},NUMPAD_MULTIPLY:{enumerable:!0,writable:!1,configurable:!1,value:106},NUMPAD_ADD:{enumerable:!0,writable:!1,configurable:!1,value:107},NUMPAD_ENTER:{enumerable:!0,writable:!1,configurable:!1,value:108},NUMPAD_SUBTRACT:{enumerable:!0,writable:!1,configurable:!1,value:109},NUMPAD_DECIMAL:{enumerable:!0,writable:!1,configurable:!1,value:110},NUMPAD_DIVIDE:{enumerable:!0,writable:!1,configurable:!1,value:111},F1:{enumerable:!0,
writable:!1,configurable:!1,value:112},F2:{enumerable:!0,writable:!1,configurable:!1,value:113},F3:{enumerable:!0,writable:!1,configurable:!1,value:114},F4:{enumerable:!0,writable:!1,configurable:!1,value:115},F5:{enumerable:!0,writable:!1,configurable:!1,value:116},F6:{enumerable:!0,writable:!1,configurable:!1,value:117},F7:{enumerable:!0,writable:!1,configurable:!1,value:118},F8:{enumerable:!0,writable:!1,configurable:!1,value:119},F9:{enumerable:!0,writable:!1,configurable:!1,value:120},F10:{enumerable:!0,
writable:!1,configurable:!1,value:121},F11:{enumerable:!0,writable:!1,configurable:!1,value:122},F12:{enumerable:!0,writable:!1,configurable:!1,value:123},F13:{enumerable:!0,writable:!1,configurable:!1,value:124},F14:{enumerable:!0,writable:!1,configurable:!1,value:125},F15:{enumerable:!0,writable:!1,configurable:!1,value:126},SCROLL:{enumerable:!0,writable:!1,configurable:!1,value:145},SEMICOLON:{enumerable:!0,writable:!1,configurable:!1,value:186},EQUAL:{enumerable:!0,writable:!1,configurable:!1,
value:187},COMMA:{enumerable:!0,writable:!1,configurable:!1,value:188},MINUS:{enumerable:!0,writable:!1,configurable:!1,value:189},PERIOD:{enumerable:!0,writable:!1,configurable:!1,value:190},SLASH:{enumerable:!0,writable:!1,configurable:!1,value:191},BACKQUOTE:{enumerable:!0,writable:!1,configurable:!1,value:192},LEFTBRACKET:{enumerable:!0,writable:!1,configurable:!1,value:219},BACKSLASH:{enumerable:!0,writable:!1,configurable:!1,value:220},RIGHTBRACKET:{enumerable:!0,writable:!1,configurable:!1,
value:221},QUOTE:{enumerable:!0,writable:!1,configurable:!1,value:222}})});Object.defineProperty(doodle,"GradientType",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{LINEAR:{enumerable:!0,writable:!1,configurable:!1,value:"linearGradient"},RADIAL:{enumerable:!0,writable:!1,configurable:!1,value:"radialGradient"}})});
Object.defineProperty(doodle,"Pattern",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{REPEAT:{enumerable:!0,writable:!1,configurable:!1,value:"repeat"},REPEAT_X:{enumerable:!0,writable:!1,configurable:!1,value:"repeat-x"},REPEAT_Y:{enumerable:!0,writable:!1,configurable:!1,value:"repeat-y"},NO_REPEAT:{enumerable:!0,writable:!1,configurable:!1,value:"no-repeat"}})});
Object.defineProperty(doodle,"LineCap",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{BUTT:{enumerable:!0,writable:!1,configurable:!1,value:"butt"},ROUND:{enumerable:!0,writable:!1,configurable:!1,value:"round"},SQUARE:{enumerable:!0,writable:!1,configurable:!1,value:"square"}})});
Object.defineProperty(doodle,"LineJoin",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{MITER:{enumerable:!0,writable:!1,configurable:!1,value:"miter"},ROUND:{enumerable:!0,writable:!1,configurable:!1,value:"round"},BEVEL:{enumerable:!0,writable:!1,configurable:!1,value:"bevel"}})});
(function(){var a,i,g;doodle.events.Event=function(c,d,j){var f=Object.create(a),k=arguments.length,h,b;Object.defineProperties(f,i);Object.defineProperties(f,function(){var e,a,d,c=!1,k=0,q=null,h=null,j=null,r=new Date,w=!0,f=!1,l=!1;b=function(b,s,g){s=s===void 0?!1:s;g=g===void 0?!1:g;s!==!1?h=q=s:(q=b.currentTarget,h=b.target);e=g?g:b.type;a=b.bubbles;d=b.cancelable;c=b.cancelBubble;k=b.eventPhase;j=b.srcElement;r=b.timeStamp;w=b.returnValue;b.__cancel&&(f=!0);b.__cancelNow&&(l=!0)};return{id:function(){var b=
null;return{enumerable:!0,configurable:!1,get:function(){return b===null?this.toString()+"[type="+this.type+"]":b},set:function(e){b=e}}}(),type:{enumerable:!0,configurable:!1,get:function(){return e}},__setType:{enumerable:!1,value:function(b){e=b}},bubbles:{enumerable:!0,configurable:!1,get:function(){return a}},cancelable:{enumerable:!0,configurable:!1,get:function(){return d}},cancelBubble:{enumerable:!0,configurable:!1,get:function(){return c},set:function(b){c=b}},__cancel:{enumerable:!1,configurable:!1,
get:function(){return f}},__cancelNow:{enumerable:!1,configurable:!1,get:function(){return l}},currentTarget:{enumerable:!0,configurable:!1,get:function(){return q}},__setCurrentTarget:{enumerable:!1,value:function(b){q=b;return this}},target:{enumerable:!0,configurable:!1,get:function(){return h}},__setTarget:{enumerable:!1,value:function(b){h=b;return this}},eventPhase:{enumerable:!0,configurable:!1,get:function(){return k}},__setEventPhase:{enumerable:!1,value:function(b){k=b;return this}},srcElement:{enumerable:!0,
configurable:!1,get:function(){return j}},timeStamp:{enumerable:!0,configurable:!1,get:function(){return r}},returnValue:{enumerable:!0,configurable:!1,get:function(){return w}},initEvent:{enumerable:!0,configurable:!1,value:function(b,l,c){e=b===void 0?"undefined":b;a=l===void 0?!1:l;d=c===void 0?!1:c;return this}},preventDefault:{enumerable:!0,configurable:!1,value:function(){}},stopPropagation:{enumerable:!0,configurable:!1,value:function(){if(this.cancelable)f=!0;else throw Error(this.id+" Event.stopPropagation: Event can not be cancelled.");
}},stopImmediatePropagation:{enumerable:!0,configurable:!1,value:function(){if(this.cancelable)l=f=!0;else throw Error(this.id+" Event.stopImmediatePropagation: Event can not be cancelled.");}},__copyEventProperties:{enumerable:!1,configurable:!1,value:function(e,a,d){b(e,a===void 0?!1:a,d===void 0?!1:d);return this}}}}());if(k===1&&(typeof arguments[0]==="function"||g(arguments[0])))h=arguments[0],c=void 0;h?typeof h==="function"?h.call(f):b(h,!1,!1):f.initEvent(c,d,j);return f};i={toString:{enumerable:!0,
writable:!1,configurable:!1,value:function(){return"[object Event]"}}};a=Object.create({},{CAPTURING_PHASE:{enumerable:!0,writable:!1,configurable:!1,value:1},AT_TARGET:{enumerable:!0,writable:!1,configurable:!1,value:2},BUBBLING_PHASE:{enumerable:!0,writable:!1,configurable:!1,value:3},MOUSEDOWN:{enumerable:!0,writable:!1,configurable:!1,value:1},MOUSEUP:{enumerable:!0,writable:!1,configurable:!1,value:2},MOUSEOVER:{enumerable:!0,writable:!1,configurable:!1,value:4},MOUSEOUT:{enumerable:!0,writable:!1,
configurable:!1,value:8},MOUSEMOVE:{enumerable:!0,writable:!1,configurable:!1,value:16},MOUSEDRAG:{enumerable:!0,writable:!1,configurable:!1,value:32},CLICK:{enumerable:!0,writable:!1,configurable:!1,value:64},DBLCLICK:{enumerable:!0,writable:!1,configurable:!1,value:128},KEYDOWN:{enumerable:!0,writable:!1,configurable:!1,value:256},KEYUP:{enumerable:!0,writable:!1,configurable:!1,value:512},KEYPRESS:{enumerable:!0,writable:!1,configurable:!1,value:1024},DRAGDROP:{enumerable:!0,writable:!1,configurable:!1,
value:2048},FOCUS:{enumerable:!0,writable:!1,configurable:!1,value:4096},BLUR:{enumerable:!0,writable:!1,configurable:!1,value:8192},SELECT:{enumerable:!0,writable:!1,configurable:!1,value:16384},CHANGE:{enumerable:!0,writable:!1,configurable:!1,value:32768}});g=doodle.events.Event.isEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Event]"||a.constructor&&a.constructor.name==="Event")return!0;else a=Object.getPrototypeOf(a);return!1}})();
(function(){var a,i=doodle.events.Event.isEvent;doodle.events.UIEvent=function(g,c,d,j,f){var k,h,b;i(arguments[0])?(h=arguments[0],g=void 0,k=Object.create(doodle.events.Event(h))):typeof arguments[0]==="function"?(h=arguments[0],g=void 0,k=Object.create(doodle.events.Event(""))):(c=c===void 0?!1:c,d=d===void 0?!1:d,k=Object.create(doodle.events.Event(g,c,d)));Object.defineProperties(k,a);Object.defineProperties(k,function(){var a=null,d=0,c=0,k=0,h=0,q=0,j=0,f=0,r=0;b=function(b){if(b.view!==void 0)a=
b.view;if(b.detail!==void 0)d=b.detail;if(b.which!==void 0)c=b.which;if(b.charCode!==void 0)k=b.charCode;if(b.keyCode!==void 0)h=b.keyCode;if(b.layerX!==void 0)q=b.layerX;if(b.layerY!==void 0)j=b.layerY;if(b.pageX!==void 0)f=b.pageX;if(b.pageY!==void 0)r=b.pageY};return{view:{enumerable:!0,configurable:!1,get:function(){return a}},detail:{enumerable:!0,configurable:!1,get:function(){return d}},which:{enumerable:!0,configurable:!1,get:function(){return c}},charCode:{enumerable:!0,configurable:!1,get:function(){return k}},
keyCode:{enumerable:!0,configurable:!1,get:function(){return h}},layerX:{enumerable:!0,configurable:!1,get:function(){return q}},layerY:{enumerable:!0,configurable:!1,get:function(){return j}},pageX:{enumerable:!0,configurable:!1,get:function(){return f}},pageY:{enumerable:!0,configurable:!1,get:function(){return r}},initUIEvent:{value:function(b,c,l,k,q){a=k===void 0?null:k;d=q===void 0?0:q;this.initEvent(b,c===void 0?!1:c,l===void 0?!1:l);return this}},__copyUIEventProperties:{enumerable:!1,configurable:!1,
value:function(a,e,d){e=e===void 0?!1:e;d=d===void 0?!1:d;b(a);return this.__copyEventProperties(a,e,d)}}}}());h?typeof h==="function"?h.call(k):b(h):k.initUIEvent(g,c,d,j,f);return k};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object UIEvent]"}}}})();doodle.events.UIEvent.isUIEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object UIEvent]"||a.constructor&&a.constructor.name==="UIEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=doodle.events.Event.isEvent;doodle.events.MouseEvent=function(g,c,d,j,f,k,h,b,e,n,m,t,p,q,o){var u,r,w;i(arguments[0])?(r=arguments[0],g=void 0,u=Object.create(doodle.events.UIEvent(r))):typeof arguments[0]==="function"?(r=arguments[0],g=void 0,u=Object.create(doodle.events.UIEvent(""))):(c=c===void 0?!1:c,d=d===void 0?!1:d,j=j===void 0?null:j,f=f===void 0?0:f,u=Object.create(doodle.events.UIEvent(g,c,d,j,f)));Object.defineProperties(u,a);Object.defineProperties(u,function(){var b=
0,a=0,e=0,d=0,n=0,c=0,k=0,q=0,h=!1,j=!1,m=!1,f=!1,r=0,g=null;w=function(o){b=o.x!==void 0?o.x:0;a=o.y!==void 0?o.y:0;e=o.offsetX!==void 0?o.offsetX:0;d=o.offsetY!==void 0?o.offsetY:0;if(o.screenX!==void 0)n=o.screenX;if(o.screenY!==void 0)c=o.screenY;if(o.clientX!==void 0)k=o.clientX;if(o.clientY!==void 0)q=o.clientY;if(o.ctrlKey!==void 0)h=o.ctrlKey;if(o.altKey!==void 0)j=o.altKey;if(o.shiftKey!==void 0)m=o.shiftKey;if(o.metaKey!==void 0)f=o.metaKey;if(o.button!==void 0)r=o.button;if(o.relatedTarget!==
void 0)g=o.relatedTarget};return{x:{enumerable:!0,configurable:!1,get:function(){return b}},y:{enumerable:!0,configurable:!1,get:function(){return a}},screenX:{enumerable:!0,configurable:!1,get:function(){return n}},screenY:{enumerable:!0,configurable:!1,get:function(){return c}},clientX:{enumerable:!0,configurable:!1,get:function(){return k}},clientY:{enumerable:!0,configurable:!1,get:function(){return q}},offsetX:{enumerable:!0,configurable:!1,get:function(){return e}},offsetY:{enumerable:!0,configurable:!1,
get:function(){return d}},ctrlKey:{enumerable:!0,configurable:!1,get:function(){return h}},altKey:{enumerable:!0,configurable:!1,get:function(){return j}},shiftKey:{enumerable:!0,configurable:!1,get:function(){return m}},metaKey:{enumerable:!0,configurable:!1,get:function(){return f}},button:{enumerable:!0,configurable:!1,get:function(){return r}},relatedTarget:{enumerable:!0,configurable:!1,get:function(){return g}},initMouseEvent:{value:function(b,a,e,d,l,s,w,i,v,u,y,t,p,E,D){o=D===void 0?null:
D;n=s===void 0?0:s;c=w===void 0?0:w;k=i===void 0?0:i;q=v===void 0?0:v;h=u===void 0?!1:u;j=y===void 0?!1:y;m=t===void 0?!1:t;f=p===void 0?!1:p;r=E===void 0?0:E;g=D;return this.initUIEvent(b,a===void 0?!1:a,e===void 0?!1:e,d===void 0?null:d,l===void 0?0:l)}},getModifierState:{value:function(b){switch(b){case "Alt":return j;case "Control":return h;case "Meta":return f;case "Shift":return m;default:return!1}}},__copyMouseEventProperties:{enumerable:!1,configurable:!1,value:function(b,a,e){a=a===void 0?
!1:a;e=e===void 0?!1:e;w(b);return this.__copyUIEventProperties(b,a,e)}}}}());r?typeof r==="function"?r.call(u):w(r):u.initMouseEvent(g,c,d,j,f,k,h,b,e,n,m,t,p,q,o);return u};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object MouseEvent]"}}}})();doodle.events.MouseEvent.isMouseEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object MouseEvent]"||a.constructor&&a.constructor.name==="MouseEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=doodle.events.Event.isEvent;doodle.events.TouchEvent=function(g,c,d,j,f,k,h,b,e,n,m,t,p,q,o,u,r,w){var v,l,y;i(arguments[0])?(l=arguments[0],g=void 0,v=Object.create(doodle.events.UIEvent(l))):typeof arguments[0]==="function"?(l=arguments[0],g=void 0,v=Object.create(doodle.events.UIEvent(""))):(c=c===void 0?!1:c,d=d===void 0?!1:d,j=j===void 0?null:j,f=f===void 0?0:f,v=Object.create(doodle.events.UIEvent(g,c,d,j,f)));Object.defineProperties(v,a);Object.defineProperties(v,function(){var b=
0,a=0,e=0,d=0,n=!1,l=!1,c=!1,k=!1,q=null,h=null,o=null,j=1,m=0;y=function(f){if(f.screenX!==void 0)b=f.screenX;if(f.screenY!==void 0)a=f.screenY;if(f.clientX!==void 0)e=f.clientX;if(f.clientY!==void 0)d=f.clientY;if(f.ctrlKey!==void 0)n=f.ctrlKey;if(f.altKey!==void 0)l=f.altKey;if(f.shiftKey!==void 0)c=f.shiftKey;if(f.metaKey!==void 0)k=f.metaKey;if(f.touches!==void 0)q=f.touches;if(f.targetTouches!==void 0)h=f.targetTouches;if(f.changedTouches!==void 0)o=f.changedTouches;if(f.scale!==void 0)j=f.scale;
if(f.rotation!==void 0)m=f.rotation};return{screenX:{enumerable:!0,configurable:!1,get:function(){return b}},screenY:{enumerable:!0,configurable:!1,get:function(){return a}},clientX:{enumerable:!0,configurable:!1,get:function(){return e}},clientY:{enumerable:!0,configurable:!1,get:function(){return d}},ctrlKey:{enumerable:!0,configurable:!1,get:function(){return n}},altKey:{enumerable:!0,configurable:!1,get:function(){return l}},shiftKey:{enumerable:!0,configurable:!1,get:function(){return c}},metaKey:{enumerable:!0,
configurable:!1,get:function(){return k}},touches:{enumerable:!0,configurable:!1,get:function(){return q}},targetTouches:{enumerable:!0,configurable:!1,get:function(){return h}},changedTouches:{enumerable:!0,configurable:!1,get:function(){return o}},scale:{enumerable:!0,configurable:!1,get:function(){return j}},rotation:{enumerable:!0,configurable:!1,get:function(){return m}},initTouchEvent:{value:function(f,r,g,w,i,v,u,y,t,L,p,E,D,M,N,O,P,Q){b=v===void 0?0:v;a=u===void 0?0:u;e=y===void 0?0:y;d=t===
void 0?0:t;n=L===void 0?!1:L;l=p===void 0?!1:p;c=E===void 0?!1:E;k=D===void 0?!1:D;q=M===void 0?null:M;h=N===void 0?null:N;o=O===void 0?null:O;j=P===void 0?1:P;m=Q===void 0?0:Q;this.initUIEvent(f,r===void 0?!1:r,g===void 0?!1:g,w===void 0?null:w,i===void 0?0:i);return this}},getModifierState:{value:function(b){switch(b){case "Alt":return l;case "Control":return n;case "Meta":return k;case "Shift":return c;default:return!1}}},__copyTouchEventProperties:{enumerable:!1,configurable:!1,value:function(b,
a,e){a=a===void 0?!1:a;e=e===void 0?!1:e;y(b);return this.__copyUIEventProperties(b,a,e)}}}}());l?typeof l==="function"?l.call(v):y(l):v.initTouchEvent(g,c,d,j,f,k,h,b,e,n,m,t,p,q,o,u,r,w);return v};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object TouchEvent]"}}}})();
doodle.events.TouchEvent.isTouchEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object TouchEvent]"||a.constructor&&a.constructor.name==="TouchEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=doodle.events.Event.isEvent;doodle.events.TextEvent=function(g,c,d,j,f,k){var h,b,e;i(arguments[0])?(b=arguments[0],g=void 0,h=Object.create(doodle.events.UIEvent(b))):typeof arguments[0]==="function"?(b=arguments[0],g=void 0,h=Object.create(doodle.events.UIEvent(""))):(c=c===void 0?!1:c,d=d===void 0?!1:d,j=j===void 0?null:j,h=Object.create(doodle.events.UIEvent(g,c,d,j)));Object.defineProperties(h,a);Object.defineProperties(h,function(){var b="",a=doodle.events.TextEvent.INPUT_METHOD_UNKNOWN;
e=function(e){if(e.data!==void 0)b=e.data;if(e.inputMode!==void 0)a=e.inputMode};return{data:{enumerable:!0,configurable:!1,get:function(){return b}},inputMode:{enumerable:!0,configurable:!1,get:function(){return a}},initTextEvent:{value:function(e,d,c,k,f,h){h=h===void 0?doodle.events.TextEvent.INPUT_METHOD_UNKNOWN:h;b=f===void 0?"":f;a=h;this.initUIEvent(e,d===void 0?!1:d,c===void 0?!1:c,k===void 0?null:k);return this}},__copyTextEventProperties:{enumerable:!1,configurable:!1,value:function(b,a,
d){a=a===void 0?!1:a;d=d===void 0?!1:d;e(b);return this.__copyUIEventProperties(b,a,d)}}}}());b?typeof b==="function"?b.call(h):e(b):h.initTextEvent(g,c,d,j,f,k);return h};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object TextEvent]"}}}})();doodle.events.TextEvent.isTextEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object TextEvent]"||a.constructor&&a.constructor.name==="TextEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=doodle.events.Event.isEvent;doodle.events.KeyboardEvent=function(g,c,d,j,f,k,h,b){var e,n,m;i(arguments[0])?(n=arguments[0],g=void 0,e=Object.create(doodle.events.UIEvent(n))):typeof arguments[0]==="function"?(n=arguments[0],g=void 0,e=Object.create(doodle.events.UIEvent(""))):(c=c===void 0?!1:c,d=d===void 0?!1:d,j=j===void 0?null:j,e=Object.create(doodle.events.UIEvent(g,c,d,j)));Object.defineProperties(e,a);Object.defineProperties(e,function(){var b="",a=0,e=!1,d=!1,n=!1,c=!1,
k=!1;m=function(h){if(h.keyIdentifier!==void 0)b=h.keyIdentifier;if(h.keyLocation!==void 0)a=h.keyLocation;if(h.repeat!==void 0)e=h.repeat;if(h.ctrlKey!==void 0)d=h.ctrlKey;if(h.altKey!==void 0)n=h.altKey;if(h.shiftKey!==void 0)c=h.shiftKey;if(h.metaKey!==void 0)k=h.metaKey;if(h.altGraphKey!==void 0)n=h.altGraphKey};return{keyIdentifier:{enumerable:!0,configurable:!1,get:function(){return b}},keyLocation:{enumerable:!0,configurable:!1,get:function(){return a}},repeat:{enumerable:!0,configurable:!1,
get:function(){return e}},ctrlKey:{enumerable:!0,configurable:!1,get:function(){return d}},altKey:{enumerable:!0,configurable:!1,get:function(){return n}},shiftKey:{enumerable:!0,configurable:!1,get:function(){return c}},metaKey:{enumerable:!0,configurable:!1,get:function(){return k}},altGraphKey:{enumerable:!0,configurable:!1,get:function(){return!1}},initKeyboardEvent:{value:function(h,l,f,j,m,g,i,J){l=l===void 0?!1:l;f=f===void 0?!1:f;j=j===void 0?null:j;b=m===void 0?"":m;a=g===void 0?0:g;e=J===
void 0?!1:J;(i===void 0?"":i).split(" ").forEach(function(b){switch(b){case "Alt":n=!0;break;case "Control":d=!0;break;case "Meta":k=!0;break;case "Shift":c=!0}});this.initUIEvent(h,l,f,j);return this}},getModifierState:{value:function(b){switch(b){case "Alt":return n;case "Control":return d;case "Meta":return k;case "Shift":return c;default:return!1}}},__copyKeyboardEventProperties:{enumerable:!1,configurable:!1,value:function(b,a,e){a=a===void 0?!1:a;e=e===void 0?!1:e;m(b);return this.__copyUIEventProperties(b,
a,e)}}}}());n?typeof n==="function"?n.call(e):m(n):e.initKeyboardEvent(g,c,d,j,f,k,h,b);return e};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object KeyboardEvent]"}}}})();doodle.events.KeyboardEvent.isKeyboardEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object KeyboardEvent]"||a.constructor&&a.constructor.name==="KeyboardEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
Object.defineProperties(doodle.events.Event,{CAPTURING_PHASE:{enumerable:!0,writable:!1,configurable:!1,value:1},AT_TARGET:{enumerable:!0,writable:!1,configurable:!1,value:2},BUBBLING_PHASE:{enumerable:!0,writable:!1,configurable:!1,value:3},ADDED:{enumerable:!0,writable:!1,configurable:!1,value:"added"},REMOVED:{enumerable:!0,writable:!1,configurable:!1,value:"removed"},ENTER_FRAME:{enumerable:!0,writable:!1,configurable:!1,value:"enterFrame"},LOAD:{enumerable:!0,writable:!1,configurable:!1,value:"load"},
CHANGE:{enumerable:!0,writable:!1,configurable:!1,value:"change"}});Object.defineProperties(doodle.events.UIEvent,{FOCUS_IN:{enumerable:!0,writable:!1,configurable:!1,value:"focusIn"}});
Object.defineProperties(doodle.events.MouseEvent,{CLICK:{enumerable:!0,writable:!1,configurable:!1,value:"click"},DOUBLE_CLICK:{enumerable:!0,writable:!1,configurable:!1,value:"dblclick"},CONTEXT_MENU:{enumerable:!0,writable:!1,configurable:!1,value:"contextmenu"},MOUSE_DOWN:{enumerable:!0,writable:!1,configurable:!1,value:"mousedown"},MOUSE_UP:{enumerable:!0,writable:!1,configurable:!1,value:"mouseup"},MOUSE_WHEEL:{enumerable:!0,writable:!1,configurable:!1,value:"mousewheel"},MOUSE_MOVE:{enumerable:!0,
writable:!1,configurable:!1,value:"mousemove"},MOUSE_OUT:{enumerable:!0,writable:!1,configurable:!1,value:"mouseout"},MOUSE_OVER:{enumerable:!0,writable:!1,configurable:!1,value:"mouseover"},MOUSE_ENTER:{enumerable:!0,writable:!1,configurable:!1,value:"mouseenter"},MOUSE_LEAVE:{enumerable:!0,writable:!1,configurable:!1,value:"mouseleave"}});
Object.defineProperties(doodle.events.TouchEvent,{TOUCH_START:{enumerable:!0,writable:!1,configurable:!1,value:"touchstart"},TOUCH_MOVE:{enumerable:!0,writable:!1,configurable:!1,value:"touchmove"},TOUCH_END:{enumerable:!0,writable:!1,configurable:!1,value:"touchend"},TOUCH_CANCEL:{enumerable:!0,writable:!1,configurable:!1,value:"touchcancel"}});
Object.defineProperties(doodle.events.KeyboardEvent,{KEY_PRESS:{enumerable:!0,writable:!1,configurable:!1,value:"keypress"},KEY_UP:{enumerable:!0,writable:!1,configurable:!1,value:"keyup"},KEY_DOWN:{enumerable:!0,writable:!1,configurable:!1,value:"keydown"},KEY_LOCATION_STANDARD:{enumerable:!0,writable:!1,configurable:!1,value:0},KEY_LOCATION_LEFT:{enumerable:!0,writable:!1,configurable:!1,value:1},KEY_LOCATION_RIGHT:{enumerable:!0,writable:!1,configurable:!1,value:2},KEY_LOCATION_NUMPAD:{enumerable:!0,
writable:!1,configurable:!1,value:3},KEY_LOCATION_MOBILE:{enumerable:!0,writable:!1,configurable:!1,value:4},KEY_LOCATION_JOYSTICK:{enumerable:!0,writable:!1,configurable:!1,value:5}});
Object.defineProperties(doodle.events.TextEvent,{TEXT_INPUT:{enumerable:!0,writable:!1,configurable:!1,value:"textInput"},INPUT_METHOD_UNKNOWN:{enumerable:!0,writable:!1,configurable:!1,value:0},INPUT_METHOD_KEYBOARD:{enumerable:!0,writable:!1,configurable:!1,value:1},INPUT_METHOD_PASTE:{enumerable:!0,writable:!1,configurable:!1,value:2},INPUT_METHOD_DROP:{enumerable:!0,writable:!1,configurable:!1,value:3},INPUT_METHOD_IME:{enumerable:!0,writable:!1,configurable:!1,value:4},INPUT_METHOD_OPTION:{enumerable:!0,
writable:!1,configurable:!1,value:5},INPUT_METHOD_HANDWRITING:{enumerable:!0,writable:!1,configurable:!1,value:6},INPUT_METHOD_VOICE:{enumerable:!0,writable:!1,configurable:!1,value:7},INPUT_METHOD_MULTIMODAL:{enumerable:!0,writable:!1,configurable:!1,value:8},INPUT_METHOD_SCRIPT:{enumerable:!0,writable:!1,configurable:!1,value:9}});
(function(){var a,i,g=Array(2),c={x:0,y:0},d=Math.cos,j=Math.sin,f=Math.sqrt;doodle.geom.Point=function(d,h){var b={},e=arguments.length;Object.defineProperties(b,a);Object.defineProperties(b,function(){var b=0,a=0;return{x:{enumerable:!0,configurable:!1,get:function(){return b},set:function(a){b=a}},y:{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}},__toArray:{enumerable:!1,writable:!1,configurable:!1,value:function(){g[0]=b;g[1]=a;return g}},id:function(){var b=null;
return{enumerable:!0,configurable:!1,get:function(){return b===null?this.toString():b},set:function(a){b=a}}}()}}());switch(e){case 2:b.compose(d,h);break;case 1:e=arguments[0],d=void 0,typeof e==="function"?e.call(b):Array.isArray(e)?b.compose.apply(b,e):b.compose(e.x,e.y)}return b};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"(x="+this.x+",y="+this.y+")"}},toArray:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.__toArray().concat()}},length:{enumerable:!0,
configurable:!1,get:function(){return i(c,this)}},compose:{enumerable:!0,writable:!1,configurable:!1,value:function(a,d){this.x=a;this.y=d;return this}},clone:{enumerable:!0,writable:!1,configurable:!1,value:function(){return Point(this.x,this.y)}},equals:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.x===a.x&&this.y===a.y}},add:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return Point(this.x+a.x,this.y+a.y)}},subtract:{enumerable:!0,writable:!1,configurable:!1,
value:function(a){return Point(this.x-a.x,this.y-a.y)}},offset:{enumerable:!0,writable:!1,configurable:!1,value:function(a,d){this.x+=a;this.y+=d;return this}},normalize:{enumerable:!0,writable:!1,configurable:!1,value:function(a){this.x=this.x/this.length*a;this.y=this.y/this.length*a;return this}},interpolate:{enumerable:!0,writable:!1,configurable:!1,value:function(a,d,b){return Point(a.x+(d.x-a.x)*b,a.y+(d.y-a.y)*b)}},polar:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){return Point(a*
d(c),a*j(c))}}};i=doodle.geom.Point.distance=function(a,d){var b=d.x-a.x,e=d.y-a.y;return f(b*b+e*e)}})();doodle.geom.Point.isPoint=function(a){return typeof a==="object"&&typeof a.x==="number"&&typeof a.y==="number"};
(function(){var a,i=Array(6),g={x:null,y:null},c={a:null,b:null,c:null,d:null,tx:null,ty:null},d=doodle.geom.Point,j=Math.sin,f=Math.cos,k=Math.atan2,h=Math.tan;doodle.geom.Matrix=function(b,e,d,c,h,f){var q={},j=arguments.length;Object.defineProperties(q,a);Object.defineProperties(q,function(){var b=1,a=0,e=0,d=1,c=0,n=0;return{a:{enumerable:!0,configurable:!1,get:function(){return b},set:function(a){b=a}},b:{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}},c:{enumerable:!0,
configurable:!1,get:function(){return e},set:function(b){e=b}},d:{enumerable:!0,configurable:!1,get:function(){return d},set:function(b){d=b}},tx:{enumerable:!0,configurable:!1,get:function(){return c},set:function(b){c=b}},ty:{enumerable:!0,configurable:!1,get:function(){return n},set:function(b){n=b}},__toArray:{enumerable:!1,writable:!1,configurable:!1,value:function(){i[0]=b;i[1]=a;i[2]=e;i[3]=d;i[4]=c;i[5]=n;return i}},id:function(){var b=null;return{enumerable:!0,configurable:!1,get:function(){return b===
null?this.toString():b},set:function(a){b=a}}}()}}());switch(j){case 6:q.compose(b,e,d,c,h,f);break;case 1:j=arguments[0],b=void 0,typeof j==="function"?j.call(q):Array.isArray(j)?q.compose.apply(q,j):q.compose(j.a,j.b,j.c,j.d,j.tx,j.ty)}return q};a={compose:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a,d,c,h,f){this.a=b;this.b=a;this.c=d;this.d=c;this.tx=h;this.ty=f;return this}},toArray:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.__toArray().concat()}},
toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"(a="+this.a+",b="+this.b+",c="+this.c+",d="+this.d+",tx="+this.tx+",ty="+this.ty+")"}},equals:{enumerable:!0,writable:!1,configurable:!1,value:function(b){return this.a===b.a&&this.b===b.b&&this.c===b.c&&this.d===b.d&&this.tx===b.tx&&this.ty===b.ty}},identity:{enumerable:!0,writable:!1,configurable:!1,value:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this}},clone:{enumerable:!0,writable:!1,configurable:!1,
value:function(){return Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty)}},multiply:{enumerable:!0,writable:!1,configurable:!1,value:function(b){return this.compose(this.a*b.a+this.c*b.b,this.b*b.a+this.d*b.b,this.a*b.c+this.c*b.d,this.b*b.c+this.d*b.d,this.a*b.tx+this.c*b.ty+this.tx,this.b*b.tx+this.d*b.ty+this.ty)}},rotate:{enumerable:!0,writable:!1,configurable:!1,value:function(b){var a=f(b);b=j(b);c.a=a;c.b=b;c.c=-b;c.d=a;c.tx=0;c.ty=0;return this.multiply(c)}},deltaRotate:{enumerable:!0,
writable:!1,configurable:!1,value:function(b){var a=this.tx,d=this.ty;this.rotate(b);this.tx=a;this.ty=d;return this}},rotation:{enumerable:!0,configurable:!1,get:function(){return k(this.b,this.a)},set:function(b){var a=f(b);b=j(b);this.compose(a,b,-b,a,this.tx,this.ty)}},scale:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){c.a=b;c.b=0;c.c=0;c.d=a;c.tx=0;c.ty=0;return this.multiply(c)}},deltaScale:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){var d=this.tx,c=this.ty;
this.scale(b,a);this.tx=d;this.ty=c;return this}},translate:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){this.tx+=b;this.ty+=a;return this}},skew:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){var d=h(b),f=h(a);c.a=1;c.b=f;c.c=d;c.d=1;c.tx=0;c.ty=0;return this.multiply(c)}},deltaSkew:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){var d=this.tx,c=this.ty;this.skew(b,a);this.tx=d;this.ty=c;return this}},add:{enumerable:!0,writable:!1,configurable:!1,
value:function(b){this.a+=b.a;this.b+=b.b;this.c+=b.c;this.d+=b.d;this.tx+=b.tx;this.ty+=b.ty;return this}},invert:{enumerable:!0,writable:!1,configurable:!1,value:function(){var b=this.a*this.d-this.b*this.c;return this.compose(this.d/b,-this.b/b,-this.c/b,this.a/b,(this.ty*this.c-this.d*this.tx)/b,-(this.ty*this.a-this.b*this.tx)/b)}},transformPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(b){return d(this.a*b.x+this.c*b.y+this.tx,this.b*b.x+this.d*b.y+this.ty)}},__transformPoint:{enumerable:!1,
writable:!1,configurable:!1,value:function(b){var a=b.x,d=b.y;b.x=this.a*a+this.c*d+this.tx;b.y=this.b*a+this.d*d+this.ty;return b}},deltaTransformPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(b){return d(this.a*b.x+this.c*b.y,this.b*b.x+this.d*b.y)}},__deltaTransformPoint:{enumerable:!1,writable:!1,configurable:!1,value:function(b){var a=b.x,d=b.y;b.x=this.a*a+this.c*d;b.y=this.b*a+this.d*d;return b}},rotateAroundExternalPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(b,
a){var d=f(a),h=j(a);c.a=d;c.b=h;c.c=-h;c.d=d;c.tx=0;c.ty=0;this.translate(-b.x,-b.y);g.x=c.a*this.tx+c.c*this.ty+c.tx;g.y=c.b*this.tx+c.d*this.ty+c.ty;this.tx=g.x;this.ty=g.y;return this.multiply(c).translate(b.x,b.y)}},rotateAroundInternalPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){g.x=this.a*b.x+this.c*b.y+this.tx;g.y=this.b*b.x+this.d*b.y+this.ty;return this.rotateAroundExternalPoint(g,a)}},matchInternalPointWithExternal:{enumerable:!0,writable:!1,configurable:!1,value:function(b,
a){g.x=this.a*b.x+this.c*b.y+this.tx;g.y=this.b*b.x+this.d*b.y+this.ty;return this.translate(a.x-g.x,a.y-g.y)}},interpolate:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){this.a+=(b.a-this.a)*a;this.b+=(b.b-this.b)*a;this.c+=(b.c-this.c)*a;this.d+=(b.d-this.d)*a;this.tx+=(b.tx-this.tx)*a;this.ty+=(b.ty-this.ty)*a;return this}}}})();
doodle.geom.Matrix.isMatrix=function(a){return typeof a==="object"&&typeof a.a==="number"&&typeof a.b==="number"&&typeof a.c==="number"&&typeof a.d==="number"&&typeof a.tx==="number"&&typeof a.ty==="number"};
(function(){var a,i=Array(4),g=Math.max,c=Math.min;doodle.geom.Rectangle=function(d,c,f,k){var h={},b=arguments.length;Object.defineProperties(h,a);Object.defineProperties(h,function(){var b=0,a=0,d=0,c=0;return{x:{enumerable:!0,configurable:!1,get:function(){return b},set:function(a){b=a}},y:{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}},width:{enumerable:!0,configurable:!1,get:function(){return d},set:function(b){d=b}},height:{enumerable:!0,configurable:!1,get:function(){return c},
set:function(b){c=b}},__toArray:{enumerable:!1,writable:!1,configurable:!1,value:function(){i[0]=b;i[1]=a;i[2]=d;i[3]=c;return i}},id:function(){var b=null;return{enumerable:!0,configurable:!1,get:function(){return b===null?this.toString():b},set:function(a){b=a}}}()}}());switch(b){case 4:h.compose(d,c,f,k);break;case 1:b=arguments[0],d=void 0,typeof b==="function"?b.call(h):Array.isArray(b)?h.compose.apply(h,b):h.compose(b.x,b.y,b.width,b.height)}return h};a={top:{enumerable:!0,configurable:!1,get:function(){return this.y},
set:function(a){this.y=a;this.height-=a}},right:{enumerable:!0,configurable:!1,get:function(){return this.x+this.width},set:function(a){this.width=a-this.x}},bottom:{enumerable:!0,configurable:!1,get:function(){return this.y+this.height},set:function(a){this.height=a-this.y}},left:{enumerable:!0,configurable:!1,get:function(){return this.x},set:function(a){this.x=a;this.width-=a}},toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"(x="+this.x+",y="+this.y+",w="+this.width+
",h="+this.height+")"}},toArray:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.__toArray().concat()}},compose:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c,f,k){this.x=a;this.y=c;this.width=f;this.height=k;return this}},__compose:{enumerable:!1,writable:!1,configurable:!1,value:function(a){this.compose.apply(this,a.__toArray());return this}},clone:{enumerable:!0,writable:!1,configurable:!1,value:function(){return Rectangle(this.x,this.y,this.width,this.height)}},
offset:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){this.x+=a;this.y+=c;return this}},inflate:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){this.x-=a;this.width+=2*a;this.y-=c;this.height+=2*c;return this}},equals:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height}},isEmpty:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.width>=0||this.height>=0}},contains:{enumerable:!1,
writable:!1,configurable:!1,value:function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom}},containsPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.contains(a.x,a.y)}},containsRect:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var c=a.x+a.width,f=a.y+a.height;return this.contains(a.x,a.y)&&this.contains(c,a.y)&&this.contains(c,f)&&this.contains(a.x,f)}},intersects:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var c=
a.x+a.width,f=a.y+a.height;return this.contains(a.x,a.y)||this.contains(c,a.y)||this.contains(c,f)||this.contains(a.x,a.bot)}},intersection:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var j=Rectangle(0,0,0,0);if(this.intersects(a))j.left=g(this.left,a.x),j.top=g(this.top,a.y),j.right=c(this.right,a.x+a.width),j.bottom=c(this.bottom,a.y+a.height);return j}},__intersection:{enumerable:!1,writable:!1,configurable:!1,value:function(a){if(this.intersects(a))this.left=g(this.left,a.x),
this.top=g(this.top,a.y),this.right=c(this.right,a.x+a.width),this.bottom=c(this.bottom,a.y+a.height);return this}},union:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var j=Rectangle(0,0,0,0);j.left=c(this.left,a.x);j.top=c(this.top,a.y);j.right=g(this.right,a.x+a.width);j.bottom=g(this.bottom,a.y+a.height);return j}},__union:{enumerable:!1,writable:!1,configurable:!1,value:function(a){var j=c(this.left,a.x),f=c(this.top,a.y),k=g(this.right,a.x+a.width);a=g(this.bottom,a.y+a.height);
this.left=j;this.top=f;this.right=k;this.bottom=a;return this}}}})();doodle.geom.Rectangle.isRectangle=function(a){return typeof a==="object"&&typeof a.x==="number"&&typeof a.y==="number"&&typeof a.width==="number"&&typeof a.height==="number"};
(function(){var a,i,g=doodle.events.Event.CAPTURING_PHASE,c=doodle.events.Event.AT_TARGET,d=doodle.events.Event.BUBBLING_PHASE,j=Array.prototype.indexOf,f=Array.prototype.splice;doodle.EventDispatcher=function(c){var h={};Object.defineProperties(h,a);Object.defineProperties(h,{id:function(){var b=null;return{enumerable:!0,configurable:!1,get:function(){return b===null?this.toString():b},set:function(a){b=a}}}(),eventListeners:function(){var b={};return{enumerable:!0,configurable:!1,get:function(){return b}}}()});
typeof c==="function"&&c.call(h);return h};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object EventDispatcher]"}},addEventListener:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c,b){b=b===void 0?!1:b;var e=this.eventListeners;e.hasOwnProperty(a)||(e[a]={capture:[],bubble:[]});e[a][b?"capture":"bubble"].push(c);i.indexOf(this)===-1&&i.push(this)}},on:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){this.addEventListener(a,c,!1)}},removeEventListener:{enumerable:!0,
writable:!1,configurable:!1,value:function(a,c,b){b=b===void 0?!1:b;var e=this.eventListeners,d=e.hasOwnProperty(a)?e[a]:!1;d&&(b=d[b?"capture":"bubble"],f.call(b,j.call(b,c),1),d.capture.length===0&&d.bubble.length===0&&delete e[a],Object.keys(e).length===0&&(a=i,f.call(a,j.call(a,this),1)))}},handleEvent:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var c=a.eventPhase===g?"capture":"bubble",b=this.eventListeners[a.type],e=0,d;if((b=b&&b[c])&&b.length>0){a.__setCurrentTarget(this);
e=b.length;for(d=0;d<e;d+=1){c=b[d].call(this,a);if(c===!1||a.returnValue===!1)a.__cancel||a.stopPropagation();if(a.__cancelNow)break}}return e>0?!0:!1}},dispatchEvent:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var f,b=a.type,e=Object.prototype.hasOwnProperty,j=e.call(this.eventListeners,b),m,i=[];if(a.__cancel)return!1;a.target||a.__setTarget(this);f=a.target;for(m=f.parent||null;m;)j||(j=e.call(m.eventListeners,b)),i.push(m),m=m.parent;if(!j)return!0;a.__setEventPhase(g);for(e=
b=i.length;e--;)if(i[e].handleEvent(a),a.__cancel)return!0;a.__setEventPhase(c);f.handleEvent(a);if(a.__cancel)return!0;if(!a.bubbles||a.cancelBubble)return!0;a.__setEventPhase(d);for(e=0;e<b;e+=1)if(i[e].handleEvent(a),a.__cancel||a.cancelBubble)break;return!0}},broadcastEvent:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var c=a.type,b=Object.prototype.hasOwnProperty,e=i,d=e.length;if(a.__cancel)throw Error(this+".broadcastEvent: Can not dispatch a cancelled event.");for(a.target||
a.__setTarget(this);d--;)if(b.call(e[d].eventListeners,c)&&e[d].handleEvent(a),a.__cancel)break;return!0}},hasEventListener:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.eventListeners.hasOwnProperty(a)}},willTrigger:{enumerable:!0,writable:!1,configurable:!1,value:function(a){if(this.eventListeners.hasOwnProperty(a))return!0;for(var c=this.children,b=c?c.length:0;b--;)if(c[b].willTrigger(a))return!0;return!1}}};i=doodle.EventDispatcher.dispatcher_queue=[]})();
doodle.EventDispatcher.isEventDispatcher=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object EventDispatcher]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a=0,i,g=doodle.events.Event(doodle.events.Event.ADDED,!0),c=doodle.events.Event(doodle.events.Event.REMOVED,!0),d=doodle.geom.Point,j=doodle.geom.Matrix,f=doodle.geom.Rectangle,k=doodle.utils.create_scene_path,h=Math.PI;doodle.Node=function(b){var c=Object.create(doodle.EventDispatcher());Object.defineProperties(c,i);Object.defineProperties(c,{id:function(){var c=typeof b==="string"?b:"node"+String("000"+a).slice(-3);a+=1;return{enumerable:!0,configurable:!0,get:function(){return c},
set:function(a){c=a}}}(),root:function(){var a=null;return{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}}}(),parent:function(){var a=null;return{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}}}(),children:function(){var a=[];return{enumerable:!0,configurable:!1,get:function(){return a}}}(),transform:function(){var a=j(1,0,0,1,0,0);return{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}}}(),visible:function(){var a=
!0;return{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}}}(),alpha:function(){var a=1;return{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b>1?1:b<0?0:b}}}(),getBounds:{enumerable:!0,writable:!0,configurable:!1,value:function(a){return this.__getBounds(a).clone()}},__getBounds:{enumerable:!1,writable:!0,configurable:!1,value:function(){var a=f(0,0,0,0);return function(b){for(var c=null,e,d=this.children,f=d.length;f--;)e=d[f].__getBounds(b),
e!==null&&(c===null?c=a.__compose(e):c.__union(e));return c}}()}});typeof b==="function"&&(b.call(c),b=void 0);return c};i={x:{enumerable:!0,configurable:!1,get:function(){return this.transform.tx},set:function(a){this.transform.tx=a}},y:{enumerable:!0,configurable:!1,get:function(){return this.transform.ty},set:function(a){this.transform.ty=a}},rotate:{enumerable:!0,configurable:!1,value:function(a){this.transform.rotate(a*h/180)}},rotation:{enumerable:!0,configurable:!0,get:function(){return this.transform.rotation*
180/h},set:function(a){this.transform.rotation=a*h/180}},scaleX:{enumerable:!0,configurable:!1,get:function(){return this.transform.a},set:function(a){this.transform.a=a}},scaleY:{enumerable:!0,configurable:!1,get:function(){return this.transform.d},set:function(a){this.transform.d=a}},context:{enumerable:!0,configurable:!0,get:function(){for(var a=this.parent;a;){if(a.context)return a.context;a=a.parent}return null}},__allTransforms:{enumerable:!1,configurable:!1,get:function(){var a=j(1,0,0,1,0,
0);return function(){var c=this.parent;for(a.compose.apply(a,this.transform.__toArray());c;)a.multiply(c.transform),c=c.parent;return a}}()},toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object Node]"}},addChildAt:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){var d=this.children,f=this.root,h=a.parent;if(d.indexOf(a)!==-1)return!1;h!==null&&h!==this&&a.parent.removeChild(a);a.parent=this;d.splice(c,0,a);if(f&&a.root!==f){f.__sortAllChildren();d=k(a,
[]);for(h=d.length;h--;)a=d[h],a.root=f,a.dispatchEvent(g.__setTarget(null))}return a}},addChild:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.addChildAt(a,this.children.length)}},removeChildAt:{enumerable:!0,writable:!1,configurable:!1,value:function(a){a=this.children.splice(a,1)[0];var e=k(a),d=e.length,f=d;if(this.root){for(;d--;)e[d].dispatchEvent(c.__setTarget(null));for(;f--;)e[f].root=null}a.parent=null;this.root&&this.root.__sortAllChildren();return a}},removeChild:{enumerable:!1,
writable:!1,configurable:!1,value:function(a){return this.removeChildAt(this.children.indexOf(a))}},removeChildById:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.removeChild(this.getChildById(a))}},removeAllChildren:{enumerable:!0,writable:!1,configurable:!1,value:function(){var a=this.children,e=this.root,d=k(this,[]),f=a.length,h,j;d.pop();h=j=d.length;if(e)for(;h--;)d[h].dispatchEvent(c.__setTarget(null));for(;j--;)d[j].root=null;for(;f--;)a[f].parent=null;a.length=0;
e&&e.__sortAllChildren()}},getChildById:{enumerable:!0,writable:!1,configurable:!1,value:function(a){for(var c=this.children,d=c.length,f=0;f<d;f++)if(c[f].id===a)return c[f]}},setChildIndex:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){var d=this.children,f=d.indexOf(a);d.splice(f,1);d.splice(c,0,a);this.root&&this.root.__sortAllChildren()}},swapChildrenAt:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){var d=this.children,f;f=d.splice(a,1,void 0)[0];d.splice(a,1,
d.splice(c,1,void 0)[0]);d[d.indexOf(void 0)]=f;this.root&&this.root.__sortAllChildren()}},swapChildren:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){var d=this.children;this.swapChildrenAt(d.indexOf(a),d.indexOf(c))}},swapDepths:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var c=this.parent,d;d=c.children;c.swapChildrenAt(d.indexOf(this),d.indexOf(a))}},swapDepthAt:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var c=this.parent;c.swapChildrenAt(c.children.indexOf(this),
a)}},contains:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return k(this,[]).indexOf(a)!==-1?!0:!1}},localToGlobal:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var c=this.parent;for(a=this.transform.transformPoint(a);c;)c.transform.__transformPoint(a),c=c.parent;return a}},__localToGlobal:{enumerable:!1,writable:!1,configurable:!1,value:function(a){for(var c=this;c;)c.transform.__transformPoint(a),c=c.parent;return a}},globalToLocal:{enumerable:!0,writable:!1,configurable:!1,
value:function(a){var c={x:0,y:0};this.__localToGlobal(c);return d(a.x-c.x,a.y-c.y)}},__globalToLocal:{enumerable:!1,writable:!1,configurable:!1,value:function(a){var c={x:0,y:0};this.__localToGlobal(c);a.x-=c.x;a.y-=c.y;return a}}}})();doodle.Node.isNode=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Node]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=doodle.geom.Rectangle;doodle.Sprite=function(g){var c=Object.create(doodle.Node(typeof g==="string"?g:void 0));Object.defineProperties(c,a);Object.defineProperties(c,function(){var a=[];return{graphics:{enumerable:!1,configurable:!1,value:Object.create(doodle.Graphics.call(c,a))},width:function(){var a=0;return{enumerable:!0,configurable:!1,get:function(){return a},set:function(c){a=c}}}(),height:function(){var a=0;return{enumerable:!0,configurable:!1,get:function(){return a},
set:function(c){a=c}}}(),getBounds:{enumerable:!0,writable:!0,configurable:!1,value:function(a){return this.__getBounds(a).clone()}},__getBounds:{enumerable:!1,writable:!0,configurable:!1,value:function(){var a=i(0,0,0,0);return function(c){var d=this.children,h=d.length,b,e=this.width,g=this.height,i=this.graphics;b={x:i.__minX,y:i.__minY};var t={x:i.__minX+e,y:i.__minY};e={x:i.__minX+e,y:i.__minY+g};g={x:i.__minX,y:i.__minY+g};i=Math.min;var p=Math.max;this.__localToGlobal(b);this.__localToGlobal(t);
this.__localToGlobal(e);this.__localToGlobal(g);c.__globalToLocal(b);c.__globalToLocal(t);c.__globalToLocal(e);c.__globalToLocal(g);a.left=i(b.x,t.x,e.x,g.x);a.right=p(b.x,t.x,e.x,g.x);a.top=i(b.y,t.y,e.y,g.y);for(a.bottom=p(b.y,t.y,e.y,g.y);h--;)b=d[h].__getBounds(c),b!==null&&a.__union(b);return a}}()},hitTestObject:{enumerable:!0,writable:!0,configurable:!1,value:function(a){return this.getBounds(this).intersects(a.getBounds(this))}},hitTestPoint:{enumerable:!0,writable:!0,configurable:!1,value:function(a){return this.getBounds(this).containsPoint(this.globalToLocal(a))}},
__draw:{enumerable:!1,writable:!1,configurable:!1,value:function(g){for(var f=0,i=a.length;f<i;f++)a[f].call(c,g)}}}}());typeof g==="function"&&g.call(c);return c};a={rotation:function(){var a=180/Math.PI,c=Math.PI/180;return{enumerable:!0,configurable:!1,get:function(){return this.transform.rotation*a},set:function(a){this.transform.rotation=a*c}}}(),toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Sprite]"}},compose:{enumerable:!1,writable:!1,configurable:!1,value:function(a,
c,d,j){this.x=a;this.y=c;this.width=d;this.height=j;return this}}}})();doodle.Sprite.isSprite=function(a){if(typeof a==="object")for(;a;)if(a.toLocaleString()==="[object Sprite]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=doodle.utils.hex_to_rgb_str,g=doodle.utils.get_element,c=doodle.events.Event,d=doodle.GradientType.LINEAR,j=doodle.GradientType.RADIAL;doodle.Graphics=function(f){var k={},h=this,b=0,e=0,n=1,m=doodle.LineCap.BUTT,t=doodle.LineJoin.MITER,p=10;Object.defineProperties(k,a);Object.defineProperties(k,{__minX:{enumerable:!1,configurable:!1,value:0},__minY:{enumerable:!1,configurable:!1,value:0},__maxX:{enumerable:!1,configurable:!1,value:0},__maxY:{enumerable:!1,configurable:!1,value:0},
lineWidth:{enumerable:!0,configurable:!1,get:function(){return n}},lineCap:{enumerable:!0,configurable:!1,get:function(){return m}},lineJoin:{enumerable:!0,configurable:!1,get:function(){return t}},lineMiter:{enumerable:!0,configurable:!1,get:function(){return p}},draw:{enumerable:!1,writable:!1,configurable:!1,value:function(a){f.push(a)}},clear:{enumerable:!1,writable:!1,configurable:!1,value:function(){f.length=0;h.width=0;b=e=this.__minX=this.__minY=this.__maxX=this.__maxY=h.height=0}},rect:{enumerable:!1,
writable:!1,configurable:!1,value:function(a,b,c,d){this.__minX=Math.min(0,a,this.__minX);this.__minY=Math.min(0,b,this.__minY);this.__maxX=Math.max(0,a,a+c,this.__maxX);this.__maxY=Math.max(0,b,b+d,this.__maxY);h.width=-this.__minX+this.__maxX;h.height=-this.__minY+this.__maxY;f.push(function(f){f.beginPath();f.rect(a,b,c,d);f.closePath();f.stroke()})}},circle:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b,c){this.__minX=Math.min(0,-c+a,this.__minX);this.__minY=Math.min(0,-c+b,this.__minY);
this.__maxX=Math.max(0,a,a+c,this.__maxX);this.__maxY=Math.max(0,b,b+c,this.__maxY);h.width=-this.__minX+this.__maxX;h.height=-this.__minY+this.__maxY;f.push(function(d){d.beginPath();d.arc(a,b,c,0,6.283185307179586,!0);d.closePath();d.stroke()})}},ellipse:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b,c,d){var e=c/2,g=(d===void 0?c:d)/2,l=0.5522847498*e,j=0.5522847498*g;this.__minX=Math.min(0,-e+a,this.__minX);this.__minY=Math.min(0,-g+b,this.__minY);this.__maxX=Math.max(0,a,a+e,this.__maxX);
this.__maxY=Math.max(0,b,b+g,this.__maxY);h.width=-this.__minX+this.__maxX;h.height=-this.__minY+this.__maxY;f.push(function(c){c.beginPath();c.moveTo(a+e,b);c.bezierCurveTo(a+e,b-j,a+l,b-g,a,b-g);c.bezierCurveTo(a-l,b-g,a-e,b-j,a-e,b);c.bezierCurveTo(a-e,b+j,a-l,b+g,a,b+g);c.bezierCurveTo(a+l,b+g,a+e,b+j,a+e,b);c.closePath();c.stroke()})}},roundRect:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b,c,d,e,g){e=e===void 0?0:e;g=g===void 0?0:g;var l=a+c,j=l-e,i=a+e,k=b+d,n=k-g,m=b+g;this.__minX=
Math.min(0,a,this.__minX);this.__minY=Math.min(0,b,this.__minY);this.__maxX=Math.max(0,a,a+c,this.__maxX);this.__maxY=Math.max(0,b,b+d,this.__maxY);h.width=-this.__minX+this.__maxX;h.height=-this.__minY+this.__maxY;f.push(function(c){c.beginPath();c.moveTo(i,b);c.beginPath();c.lineTo(j,b);c.quadraticCurveTo(l,b,l,m);c.lineTo(l,n);c.quadraticCurveTo(l,k,j,k);c.lineTo(i,k);c.quadraticCurveTo(a,k,a,n);c.lineTo(a,m);c.quadraticCurveTo(a,b,i,b);c.closePath();c.stroke()})}},moveTo:{enumerable:!1,writable:!1,
configurable:!1,value:function(a,c){f.push(function(b){b.moveTo(a,c)});b=a;e=c}},lineTo:{enumerable:!1,writable:!1,configurable:!1,value:function(a,c){this.__minX=Math.min(0,a,b,this.__minX);this.__minY=Math.min(0,c,e,this.__minY);this.__maxX=Math.max(0,a,b,this.__maxX);this.__maxY=Math.max(0,c,e,this.__maxY);h.width=this.__maxX-this.__minX;h.height=this.__maxY-this.__minY;f.push(function(b){b.lineTo(a,c)});b=a;e=c}},curveTo:{enumerable:!1,writable:!1,configurable:!1,value:function(a,c){var d=b,g=
e,j=a.x,i=a.y,l=c.x,k=c.y,s,n=0,m=0;s=(d-j)/(d-2*j+l);0<=s&&s<=1&&(n=(1-s)*(1-s)*d+2*(1-s)*s*j+s*s*l);s=(g-i)/(g-2*i+k);0<=s&&s<=1&&(m=(1-s)*(1-s)*g+2*(1-s)*s*i+s*s*k);this.__minX=Math.min(0,d,n,l,this.__minX);this.__minY=Math.min(0,g,m,k,this.__minY);this.__maxX=Math.max(0,d,n,l,this.__maxX);this.__maxY=Math.max(0,g,m,k,this.__maxY);h.width=-this.__minX+this.__maxX;h.height=-this.__minY+this.__maxY;f.push(function(a){a.quadraticCurveTo(j,i,l,k)});b=l;e=k}},bezierCurveTo:{enumerable:!1,writable:!1,
configurable:!1,value:function(a,c,d){var g=Math.pow,j=Math.max,i=Math.min,l=b,k=e,s=a.x,n=a.y,m=c.x,t=c.y,p=d.x,z=d.y,x,F=d=c=0,C=0;for(a=0.1;a<1;a+=0.1)x=g(1-a,3)*l+3*g(1-a,2)*a*s+3*g(1-a,1)*g(a,2)*m+g(a,3)*p,x>c&&(c=x),x<d&&(d=x),x=g(1-a,3)*k+3*g(1-a,2)*a*n+3*g(1-a,1)*g(a,2)*t+g(a,3)*z,x>F&&(F=x),x<C&&(C=x);this.__minX=i(0,l,d,p,this.__minX);this.__minY=i(0,k,C,z,this.__minY);this.__maxX=j(0,l,c,p,this.__maxX);this.__maxY=j(0,k,F,z,this.__maxY);h.width=-this.__minX+this.__maxX;h.height=-this.__minY+
this.__maxY;f.push(function(a){a.bezierCurveTo(s,n,m,t,p,z)});b=p;e=z}},beginFill:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b){b=b===void 0?1:b;f.push(function(c){c.fillStyle=i(a,b)})}},beginGradientFill:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b,c,e,g,i){f.push(function(f){var k=doodle.utils.hex_to_rgb_str,s,n=e.length,m=0;if(a===d)s=f.createLinearGradient(b.x,b.y,c.x,c.y);else if(a===j)s=f.createRadialGradient(b.x,b.y,b.radius,c.x,c.y,c.radius);else throw new TypeError(h.id+
" Graphics.beginGradientFill(*type*, point1, point2, ratios, colors, alphas): Unknown gradient type.");for(;m<n;m+=1)s.addColorStop(e[m],k(g[m],i[m]));f.fillStyle=s})}},beginPatternFill:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b){var d=null,e;e=doodle.Pattern;b=b===void 0?e.REPEAT:b;typeof a==="string"&&(a[0]==="#"?a=g(a):function(){var b=encodeURI(a);a=new Image;a.src=b}());a.complete?d=a:(a.onload=function(){d=a;h.dispatchEvent(c(c.LOAD))},e=function(){throw new URIError(h.id+
"Graphics.beginPatternFill(*image*,repeat): Unable to load "+a.src);},a.onerror=e,a.onabort=e);f.push(function(a){a.fillStyle=d?a.createPattern(d,b):"rgba(0,0,0,0)"})}},lineStyle:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b,c,d,e,g){b=b===void 0?"#000000":b;c=c===void 0?1:c;d=d===void 0?doodle.LineCap.BUTT:d;e=e===void 0?doodle.LineJoin.MITER:e;n=a===void 0?1:a;t=e;m=d;p=g===void 0?10:g;if(typeof b==="string"||typeof b==="number")b=i(b,c);else throw new TypeError(h+" Graphics.lineStyle(thickness,*color*,alpha,caps,joints,miterLimit): Color must be a hex value.");
f.push(function(a){a.lineWidth=n;a.strokeStyle=b;a.lineCap=m;a.lineJoin=t;a.miterLimit=p})}},beginPath:{enumerable:!1,writable:!1,configurable:!1,value:function(){f.push(function(a){a.beginPath();a.moveTo(b,e)})}},closePath:{enumerable:!1,writable:!1,configurable:!1,value:function(){f.push(function(a){a.closePath();a.stroke()});e=b=0}},endFill:{enumerable:!1,writable:!1,configurable:!1,value:function(){f.push(function(a){a.fill()})}},stroke:{enumerable:!1,writable:!1,configurable:!1,value:function(){f.push(function(a){a.stroke()});
e=b=0}}});return k};a={toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Graphics]"}}}})();
(function(){var a,i=/^url\((.*)\)/,g=doodle.geom.Rectangle,c=doodle.utils.rgb_str_to_hex,d=doodle.utils.hex_to_rgb_str,j=doodle.utils.get_element,f=doodle.utils.get_element_property,k=doodle.utils.set_element_property;doodle.ElementNode=function(h,b){var e=Object.create(doodle.Node(typeof b==="string"?b:void 0));Object.defineProperties(e,a);Object.defineProperties(e,function(){var a=null,b=e.id,h=e.alpha,p=e.visible,q=0,o=0,u=null,r=null,w="repeat",v=!0;return{element:{enumerable:!0,configurable:!0,
get:function(){return a},set:function(d){d===null?(a!==null&&(typeof this.__removeDomElement==="function"&&this.__removeDomElement(a),r=u=null,w="repeat",this.parent||(o=q=0)),a=null):(a=d=j(d),this.__addDomElement(a),(d=f(a,"id"))?b=d:this.id=b,w=f(a,"backgroundRepeat")||w,u=(d=f(a,"backgroundColor",!1,!1))?c(d):u,d=f(a,"backgroundImage"),r=(d=!d||d==="none"?null:r.match(i))?d[1]:r)}},id:{enumerable:!0,configurable:!0,get:function(){return b},set:function(a){b=k(this.element,"id",a,"html")}},width:{enumerable:!0,
configurable:!0,get:function(){return q},set:function(a){k(this.element,"width",a+"px");q=a}},height:{enumerable:!0,configurable:!0,get:function(){return o},set:function(a){k(this.element,"height",a+"px");o=a}},backgroundColor:{enumerable:!0,configurable:!0,get:function(){return u},set:function(a){typeof a==="number"&&(a=d(a));k(this.element,"backgroundColor",a);u=c(f(this.element,"backgroundColor"))}},backgroundImage:{enumerable:!0,configurable:!0,get:function(){return r},set:function(a){if(a){if(typeof a===
"string"){if(a[0]==="#")a=j(a).src}else if(a&&a.tagName==="IMG")a=a.src;i.test(a)||(a="url("+encodeURI(a)+")");r=k(this.element,"backgroundImage",a)}else r=k(this.element,"backgroundImage",null)}},backgroundRepeat:{enumerable:!0,configurable:!0,get:function(){return w},set:function(a){w=k(this.element,"backgroundRepeat",a)}},alpha:{enumerable:!0,configurable:!0,get:function(){return h},set:function(a){k(this.element,"opacity",a)}},visible:{enumerable:!0,configurable:!0,get:function(){return p},set:function(a){a?
k(this.element,"visibility","visible"):k(this.element,"visibility","hidden");p=a}},clearBitmap:{enumerable:!1,configurable:!0,get:function(){return v},set:function(a){v=a}},__addDomElement:{enumerable:!1,configurable:!0,value:function(a){var b=f(a,"width","int")||a.width;a=f(a,"height","int")||a.height;typeof b==="number"&&(q=b);typeof a==="number"&&(o=a)}},__getBounds:{enumerable:!0,configurable:!0,value:function(){var a=g(0,0,0,0);return function(b){var c=this.children,d=c.length,e,f=this.width,
g=this.height;e={x:0,y:0};var h={x:f,y:0};f={x:f,y:g};g={x:0,y:g};var j=Math.min,i=Math.max;this.__localToGlobal(e);this.__localToGlobal(h);this.__localToGlobal(f);this.__localToGlobal(g);b.__globalToLocal(e);b.__globalToLocal(h);b.__globalToLocal(f);b.__globalToLocal(g);a.left=j(e.x,h.x,f.x,g.x);a.right=i(e.x,h.x,f.x,g.x);a.top=j(e.y,h.y,f.y,g.y);for(a.bottom=i(e.y,h.y,f.y,g.y);d--;)e=c[d].__getBounds(b),e!==null&&a.__union(e);return a}}()}}}());switch(arguments.length){case 0:break;case 1:typeof arguments[0]===
"function"?(arguments[0].call(e),h=void 0):e.element=h;break;case 2:if(h)e.element=h;break;default:throw new SyntaxError("[object ElementNode](element, id): Invalid number of parameters.");}return e};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object ElementNode]"}}}})();doodle.ElementNode.isElementNode=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object ElementNode]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=0,g=doodle.utils.set_element_property;doodle.Layer=function(c,d){var j=typeof c==="string"?c:"layer"+String("00"+i).slice(-2);j=Object.create(doodle.ElementNode(void 0,j));Object.defineProperties(j,a);Object.defineProperties(j,function(){var a=0,c=0,d=null;return{width:{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=g(this.element,"width",b,"html")}},height:{enumerable:!0,configurable:!0,get:function(){return c},set:function(a){c=g(this.element,"height",
a,"html")}},context:{enumerable:!0,configurable:!0,get:function(){return d}},__addDomElement:{enumerable:!1,writable:!1,value:function(a){g(a,"position","absolute");if(this.parent)this.width=this.parent.width,this.height=this.parent.height;d=a.getContext("2d")}},__removeDomElement:{enumerable:!1,writable:!1,value:function(){d=null}}}}());switch(arguments.length){case 0:break;case 1:typeof arguments[0]==="function"&&(arguments[0].call(j),c=void 0);break;case 2:j.element=d;break;default:throw new SyntaxError("[object Layer](id, element): Invalid number of parameters.");
}if(j.element===null)j.element=document.createElement("canvas");i+=1;return j};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object Layer]"}},__getBounds:{enumerable:!0,configurable:!0,value:function(){var a=doodle.geom.Rectangle(0,0,0,0);return function(){return a.compose(0,0,this.width,this.height)}}()}}})();doodle.Layer.isLayer=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Layer]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=0,g,c,d,j,f,k,h,b=doodle.utils.create_scene_path,e=doodle.Layer.isLayer,n=doodle.utils.get_element,m=doodle.utils.get_element_property,t=doodle.utils.set_element_property,p=doodle.Layer,q=doodle.events.Event(doodle.events.Event.ENTER_FRAME),o=doodle.events.MouseEvent(""),u=doodle.events.KeyboardEvent("");doodle.Display=function(c){var d,e,l=typeof arguments[arguments.length-1]==="object"?Array.prototype.pop.call(arguments):!1;c&&typeof c!=="function"&&(c=n(c),e=m(c,"id"));e=typeof e===
"string"?e:"display"+String("00"+i++).slice(-2);d=Object.create(doodle.ElementNode(void 0,e));Object.defineProperties(d,a);Object.defineProperties(d,function(){function a(b){R(b,I,A,A.length,G,H,B)}function c(a){var b,d;G=b=K?a.offsetX:a.clientX-v.offsetLeft;H=d=K?a.offsetY:a.clientY-v.offsetTop;S(a,I,A,A.length,b,d,B)}function e(a){T(a,I,A,p,p.length,B)}function i(a){U(a,X,B)}function l(){V(p,p.length,C,C.length,W,A,A.length,B)}var n=0,r=0,v=null,p=d.children,C=doodle.EventDispatcher.dispatcher_queue,
A=[],G=0,H=0,K=document.createEvent("MouseEvent").offsetX!==void 0,B=d,R=j,S=f,T=k,U=h,V=g,W=q,I=o,X=u;document.addEventListener(doodle.events.KeyboardEvent.KEY_PRESS,i,!1);document.addEventListener(doodle.events.KeyboardEvent.KEY_DOWN,i,!1);document.addEventListener(doodle.events.KeyboardEvent.KEY_UP,i,!1);return{root:{enumerable:!0,writable:!1,configurable:!1,value:B},mouseX:{enumerable:!0,configurable:!1,get:function(){return G}},mouseY:{enumerable:!0,configurable:!1,get:function(){return H}},
width:{get:function(){return n},set:function(a){var b=p.length;t(this.element,"width",a+"px");for(n=a;b--;)p[b].width=a;return a}},height:{get:function(){return r},set:function(a){var b=p.length;t(this.element,"height",a+"px");for(r=a;b--;)p[b].height=a;return a}},__addDomElement:{enumerable:!1,writable:!1,value:function(b){t(b,"position","relative");var d=m(b,"width","int",!1)||b.width,f=m(b,"height","int",!1)||b.height;if(typeof d==="number")this.width=d;if(typeof f==="number")this.height=f;b.addEventListener(doodle.events.MouseEvent.MOUSE_MOVE,
c,!1);b.addEventListener(doodle.events.MouseEvent.MOUSE_OUT,e,!1);b.addEventListener(doodle.events.MouseEvent.CLICK,a,!1);b.addEventListener(doodle.events.MouseEvent.DOUBLE_CLICK,a,!1);b.addEventListener(doodle.events.MouseEvent.MOUSE_DOWN,a,!1);b.addEventListener(doodle.events.MouseEvent.MOUSE_UP,a,!1);b.addEventListener(doodle.events.MouseEvent.CONTEXT_MENU,a,!1);b.addEventListener(doodle.events.MouseEvent.MOUSE_WHEEL,a,!1);v=b}},__removeDomElement:{enumerable:!1,writable:!1,value:function(b){b.removeEventListener(doodle.events.MouseEvent.MOUSE_MOVE,
c,!1);b.removeEventListener(doodle.events.MouseEvent.MOUSE_OUT,e,!1);b.removeEventListener(doodle.events.MouseEvent.CLICK,a,!1);b.removeEventListener(doodle.events.MouseEvent.DOUBLE_CLICK,a,!1);b.removeEventListener(doodle.events.MouseEvent.MOUSE_DOWN,a,!1);b.removeEventListener(doodle.events.MouseEvent.MOUSE_UP,a,!1);b.removeEventListener(doodle.events.MouseEvent.CONTEXT_MENU,a,!1);b.removeEventListener(doodle.events.MouseEvent.MOUSE_WHEEL,a,!1);v=null}},allChildren:{enumerable:!0,configurable:!1,
get:function(){return A}},__sortAllChildren:{enumerable:!1,configurable:!1,value:function(){b(this,A,!0).reverse()}},getNodesUnderPoint:{enumerable:!0,configurable:!1,value:function(a){var b=[],c=A,d=c.length,e=a.x;a=a.y;for(var f;d--;)f=c[d],f.__getBounds(this).contains(e,a)&&b.push(f);return b}},addChildAt:{enumerable:!0,configurable:!1,value:function(){var a=B.addChildAt;return function(b,c){b.width=this.width;b.height=this.height;this.element.appendChild(b.element);return a.call(this,b,c)}}()},
removeChildAt:{enumerable:!0,writable:!1,configurable:!1,value:function(){var a=B.removeChildAt;return function(b){this.element.removeChild(p[b].element);return a.call(this,b)}}()},swapChildrenAt:{enumerable:!0,writable:!1,configurable:!1,value:function(){var a=B.swapChildrenAt;return function(b,c){b>c?this.element.insertBefore(p[c].element,p[b].element):this.element.insertBefore(p[b].element,p[c].element);return a.call(this,b,c)}}()},frameRate:function(){var a=!1,b;return{get:function(){return a},
set:function(c){c===0||c===!1?(a=!1,b!==void 0&&clearInterval(b)):c!==a&&(b!==void 0&&clearInterval(b),b=setInterval(l,1E3/c),a=c)}}}()}}());switch(arguments.length){case 0:break;case 1:typeof arguments[0]==="function"?(arguments[0].call(c),c=void 0):d.element=c;break;default:throw new SyntaxError("[object Display](element): Invalid number of parameters.");}g(d.children,d.children.length,doodle.EventDispatcher.dispatcher_queue,doodle.EventDispatcher.dispatcher_queue.length,q,d.allChildren,d.allChildren.length,
d);if(l){if(l.width!==void 0)d.width=l.width;if(l.height!==void 0)d.height=l.height;if(l.backgroundColor!==void 0)d.backgroundColor=l.backgroundColor;if(l.frameRate!==void 0)d.frameRate=l.frameRate}return d};a={parent:{enumerable:!0,writable:!1,configurable:!1,value:null},toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Display]"}},addLayer:{value:function(a){return this.addChild(p(a))}},removeLayer:{value:function(a){return this.removeChildById(a)}},__getBounds:{enumerable:!1,
configurable:!0,value:function(){var a=doodle.geom.Rectangle(0,0,0,0);return function(){return a.compose(0,0,this.width,this.height)}}()}};g=function(){var a=0;return function(b,e,f,g,h,j,i,k){for(k.clearBitmap===!0&&c(b,e);g--;)f[g].eventListeners.hasOwnProperty("enterFrame")&&f[g].handleEvent(h.__setTarget(f[g]));d(j,i);a++}}();c=function(a,b){for(var c,d;b--;)if(c=a[b],c.clearBitmap===!0)d=c.context,d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,c.width,c.height),d.restore()};d=function(a){for(var b,
c=a.length,d,f=1;f<c;f++)if(b=a[f],(d=b.context)&&b.visible){d.save();d.transform.apply(d,b.__allTransforms.__toArray());if(!e(b)&&b.alpha!==1)d.globalAlpha=b.alpha;typeof b.__draw==="function"&&b.__draw(d);d.restore()}};j=function(a,b,c,d,e,f,g){for(;d--;)if(c[d].__getBounds(g).contains(e,f))return c[d].dispatchEvent(b.__copyMouseEventProperties(a,null)),!0;return!1};f=function(a,b,c,d,e,f,g){for(var h;d--;)if(h=c[d],h.__getBounds(g).contains(e,f)){if(!h.__pointInBounds)return h.__pointInBounds=
!0,h.dispatchEvent(b.__copyMouseEventProperties(a,null,"mouseover")),h.dispatchEvent(b.__copyMouseEventProperties(a,null,"mouseenter")),!0;h.dispatchEvent(b.__copyMouseEventProperties(a,null));return!0}else if(h.__pointInBounds)return h.__pointInBounds=!1,h.dispatchEvent(b.__copyMouseEventProperties(a,null,"mouseout")),h.dispatchEvent(b.__copyMouseEventProperties(a,null,"mouseleave")),!0};k=function(a,b,c,d,e,f){if(e===0)f.__pointInBounds=!1;else{f=d[e-1];for(e=c.length;e--;)c[e].__pointInBounds=
!1}f.dispatchEvent(b.__copyMouseEventProperties(a,null,"mouseout"));f.dispatchEvent(b.__copyMouseEventProperties(a,null,"mouseleave"));return!0};h=function(a,b,c){c.broadcastEvent(b.__copyKeyboardEventProperties(a,null));return!0}})();doodle.Display.isDisplay=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Display]")return!0;else a=Object.getPrototypeOf(a);return!1};
Object.defineProperty(doodle,"FontStyle",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{NORMAL:{enumerable:!0,writable:!1,configurable:!1,value:"normal"},ITALIC:{enumerable:!0,writable:!1,configurable:!1,value:"italic"},OBLIQUE:{enumerable:!0,writable:!1,configurable:!1,value:"oblique"}})});
Object.defineProperty(doodle,"FontVariant",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{NORMAL:{enumerable:!0,writable:!1,configurable:!1,value:"normal"},SMALL_CAPS:{enumerable:!0,writable:!1,configurable:!1,value:"small-caps"}})});
Object.defineProperty(doodle,"FontWeight",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{NORMAL:{enumerable:!0,writable:!1,configurable:!1,value:"normal"},BOLD:{enumerable:!0,writable:!1,configurable:!1,value:"bold"},BOLDER:{enumerable:!0,writable:!1,configurable:!1,value:"bolder"},LIGHTER:{enumerable:!0,writable:!1,configurable:!1,value:"lighter"}})});
Object.defineProperty(doodle,"TextAlign",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{START:{enumerable:!0,writable:!1,configurable:!1,value:"start"},END:{enumerable:!0,writable:!1,configurable:!1,value:"end"},LEFT:{enumerable:!0,writable:!1,configurable:!1,value:"left"},RIGHT:{enumerable:!0,writable:!1,configurable:!1,value:"right"},CENTER:{enumerable:!0,writable:!1,configurable:!1,value:"center"}})});
Object.defineProperty(doodle,"TextBaseline",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{TOP:{enumerable:!0,writable:!1,configurable:!1,value:"top"},MIDDLE:{enumerable:!0,writable:!1,configurable:!1,value:"middle"},BOTTOM:{enumerable:!0,writable:!1,configurable:!1,value:"bottom"},HANGING:{enumerable:!0,writable:!1,configurable:!1,value:"hanging"},ALPHABETIC:{enumerable:!0,writable:!1,configurable:!1,value:"alphabetic"},IDEOGRAPHIC:{enumerable:!0,writable:!1,configurable:!1,
value:"ideographic"}})});
(function(){var a,i=doodle.utils.hex_to_rgb_str,g=doodle.FontStyle,c=doodle.FontVariant,d=doodle.FontWeight,j=doodle.TextAlign,f=doodle.TextBaseline;doodle.Text=function(k){var h=Object.create(doodle.Sprite());Object.defineProperties(h,a);Object.defineProperties(h,function(){function a(){var b=h.context||document.createElement("canvas").getContext("2d"),c,d,g=h.graphics,i=0,z=0,x=0;b.save();b.font=p+" "+q+" "+o+" "+m+"px "+k;c=b.measureText(e).width;d=m;t=b.measureText("m").width;b.restore();h.graphics.clear();
h.graphics.draw(function(a){if(y)a.fillStyle=y,a.fillRect(0,0,c,d);a.lineWidth=l;a.textAlign=u;a.textBaseline=r;a.font=p+" "+q+" "+o+" "+m+"px "+k;if(w)a.fillStyle=w,a.fillText(e,0,0);if(v)a.strokeStyle=v,a.strokeText(e,0,0)});h.width=c;h.height=d;switch(r){case f.TOP:z=m-t;x=m;break;case f.MIDDLE:z=-t/2;x=t/2;break;case f.BOTTOM:z=-m;break;case f.HANGING:z=m-t;x=m;break;case f.ALPHABETIC:z=-t;break;case f.IDEOGRAPHIC:z=-m}switch(u){case j.END:i=-c;break;case j.RIGHT:i=-c;break;case j.CENTER:i=-c/
2}g.__minX=i;g.__maxX=0;g.__minY=z;g.__maxY=x}var e="",k="sans-serif",m=10,t=m,p=g.NORMAL,q=c.NORMAL,o=d.NORMAL,u=j.START,r=f.ALPHABETIC,w="#000000",v="#000000",l=1,y;return{text:{enumerable:!0,configurable:!1,get:function(){return e},set:function(c){e=c;a()}},font:{enumerable:!0,configurable:!1,get:function(){return p+" "+q+" "+o+" "+m+"px "+k},set:function(a){var b;a=a.split(" ");b=a.length;b===2?a.unshift(g.NORMAL,c.NORMAL,d.NORMAL):b===3?a.splice(1,0,c.NORMAL,d.NORMAL):b===4&&a.splice(1,0,c.NORMAL);
h.fontStyle=a[0];h.fontVariant=a[1];h.fontWeight=a[2];h.fontSize=a[3];h.fontFamily=a[4]}},fontFamily:{enumerable:!0,configurable:!1,get:function(){return k},set:function(c){k=c;a()}},fontSize:{enumerable:!0,configurable:!1,get:function(){return m},set:function(c){typeof c==="string"&&(c=parseInt(c,10));m=c;a()}},fontStyle:{enumerable:!0,configurable:!1,get:function(){return p},set:function(c){p=c;a()}},fontVariant:{enumerable:!0,configurable:!1,get:function(){return q},set:function(c){q=c;a()}},fontWeight:{enumerable:!0,
configurable:!1,get:function(){return o},set:function(c){o=c;a()}},align:{enumerable:!0,configurable:!1,get:function(){return u},set:function(c){u=c;a()}},baseline:{enumerable:!0,configurable:!1,get:function(){return r},set:function(c){r=c;a()}},strokeWidth:{enumerable:!0,configurable:!1,get:function(){return l},set:function(a){l=a}},color:{enumerable:!0,configurable:!1,get:function(){return w},set:function(a){typeof a==="number"&&(a=i(a));w=a}},strokeColor:{enumerable:!0,configurable:!1,get:function(){return v},
set:function(a){typeof a==="number"&&(a=i(a));v=a}},backgroundColor:{enumerable:!0,configurable:!1,get:function(){return y},set:function(a){typeof a==="number"&&(a=i(a));y=a}}}}());switch(arguments.length){case 1:typeof arguments[0]==="function"?(arguments[0].call(h),k=void 0):h.text=k}return h};a={toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Text]"}}}})();
(function(){var a,i=doodle.utils.get_element,g=doodle.events.Event,c=doodle.events.Event.LOAD,d=doodle.events.Event.CHANGE;doodle.Image=function(j){var f=Object.create(doodle.Sprite());Object.defineProperties(f,a);Object.defineProperties(f,function(){function a(b){e=b;if(e.id!=="")f.id=e.id;f.width=e.width;f.height=e.height;f.graphics.draw(function(a){a.drawImage(e,0,0)});f.dispatchEvent(g(c))}function h(){e!==null&&(e=null,f.graphics.clear(),f.dispatchEvent(g(d)))}function b(b){var c=i(b);if(typeof b===
"string")f.id=b;c.complete?a(c):(c.onload=function(){a(c)},c.onerror=function(){throw new URIError("[object Image](imageSrc): Unable to load "+c.src);},c.onabort=function(){throw new URIError("[object Image](imageSrc): Unable to load "+c.src);})}var e=null;return{element:{enumerable:!0,configurable:!1,get:function(){return e},set:function(a){a===null||a===!1?h():b(a)}},src:{enumerable:!0,configurable:!1,get:function(){return e===null?null:e.src},set:function(a){if(a===null||a===!1)h();else{var c=
new Image;c.src=encodeURI(a);b(c)}}}}}());switch(arguments.length){case 1:typeof arguments[0]==="function"?(arguments[0].call(f),j=void 0):typeof j!=="string"?f.element=j:typeof j==="string"&&j[0]==="#"?f.element=j:f.src=j}return f};a={toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Image]"}}}})();
