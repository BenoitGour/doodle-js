var doodle={};doodle.geom={};if(typeof Function.prototype.bind!=="function")Function.prototype.bind=function(y){var h=this;return function(){return h.apply(y,arguments)}};
(function(){var y;doodle.utils={rgb_to_hex:function(h,c,b){if(typeof h!=="number"||typeof c!=="number"||typeof b!=="number")throw new TypeError("rgb_to_hex: Color values must be numbers.");h=(b|c<<8|h<<16).toString(16);return"#"+String("000000"+h).slice(-6)},rgb_str_to_hex:function(h){if(typeof h!=="string")throw new TypeError("rgb_str_to_hex(rgb_str): Parameter must be a string.");h=h.trim().match(/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?.*\)$/);if(Array.isArray(h))return doodle.utils.rgb_to_hex(parseInt(h[1]),
parseInt(h[2]),parseInt(h[3]));else throw new SyntaxError('rgb_str_to_hex(rgb_str): Parameter must be in the format: "rgb(n, n, n)".');},hex_to_rgb:function(h){if(typeof h==="string"){h=h[0]==="#"?h.slice(1):h;h=parseInt(h,16)}if(typeof h!=="number")throw new TypeError("hex_to_rgb: Color in invalid hex format.");return[h>>16&255,h>>8&255,h&255]},hex_to_rgb_str:function(h,c){c=c===undefined?1:c;if(typeof c!=="number")throw new TypeError("hex_to_rgb_str(color,*alpha*): Parameter must be a number.");
c=c<0?0:c>1?1:c;h=doodle.utils.hex_to_rgb(h);return c===1?"rgb("+h[0]+","+h[1]+","+h[2]+")":"rgba("+h[0]+","+h[1]+","+h[2]+","+c+")"}};doodle.utils.types={check_number_type:function(h,c,b){var d;c=c===undefined?"check_number_type":c;b=b===undefined?"":"("+b+")";if(typeof h==="number")return true;else if(h&&h.length){for(d=h.length;(d-=1)>=0;)if(typeof h[d]!=="number")throw new TypeError(c+b+": Parameter must be a number.");return true}else throw new TypeError(c+b+": Parameter must be a number, or array of numbers.");
},check_boolean_type:function(h,c,b){if(typeof h==="boolean")return true;else{c=c===undefined?"check_boolean_type":c;b=b===undefined?"":"("+b+")";throw new TypeError(c+b+": Parameter must be a boolean.");}},check_string_type:function(h,c,b){if(typeof h==="string")return true;else{c=c===undefined?"check_string_type":c;b=b===undefined?"":"("+b+")";throw new TypeError(c+b+": Parameter must be a string.");}},check_function_type:function(h,c,b){if(typeof h==="function")return true;else{c=c===undefined?
"check_function_type":c;b=b===undefined?"":"("+b+")";throw new TypeError(c+b+": Parameter must be a function.");}},check_array_type:function(h,c,b){if(Array.isArray(h))return true;else{c=c===undefined?"check_array_type":c;b=b===undefined?"":"("+b+")";throw new TypeError(c+b+": Parameter must be an array.");}},check_event_type:function(h,c,b){if(h&&(h.toString()==="[object Event]"||h.toString()==="[object UIEvent]"||h.toString()==="[object MouseEvent]"||h.toString()==="[object KeyboardEvent]"||h.toString()===
"[object TextEvent]"))return true;else{c=c===undefined?"check_event_type":c;b=b===undefined?"":"("+b+")";throw new TypeError(c+b+": Parameter must be an event.");}},check_canvas_type:function(h,c,b){if(h&&h.toString()==="[object HTMLCanvasElement]")return true;else{c=c===undefined?"check_canvas_type":c;b=b===undefined?"":"("+b+")";throw new TypeError(c+b+": Parameter must be an canvas element.");}},check_context_type:function(h,c,b){if(h&&h.toString()==="[object CanvasRenderingContext2D]")return true;
else{c=c===undefined?"check_context_type":c;b=b===undefined?"":"("+b+")";throw new TypeError(c+b+": Parameter must be an canvas context.");}},check_block_element:function(h,c,b){if(y(h,"display")==="block")return true;else{c=c===undefined?"check_block_element":c;b=b===undefined?"":"("+b+")";throw new TypeError(c+b+": HTML element must have display: block.");}}};doodle.utils.get_element=function(h,c){var b;if(typeof h==="string"){h=h[0]==="#"?h.slice(1):h;b=document.getElementById(h)}else b=h;if(!b){c=
c===undefined?"get_element":c;throw new ReferenceError(c+": Unable to get HTML element: "+h);}return b};y=doodle.utils.get_style_property=function(h,c){if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(h,null)[c];else if(h.currentStyle)return h.currentStyle[c];else if(h.style)return h.style[c];else throw Error("get_style_property: Could not determine style.");}})();
var Stats=function(){function y(q,m){var n,p,t;for(p=0;p<30;p++)for(n=0;n<73;n++){t=(n+p*74)*4;q[t]=q[t+4];q[t+1]=q[t+5];q[t+2]=q[t+6]}for(p=0;p<30;p++){t=(73+p*74)*4;if(p<m){q[t]=16;q[t+1]=16;q[t+2]=48}else{q[t]=0;q[t+1]=255;q[t+2]=255}}}var h,c="fps",b=0,d=(new Date).getTime(),i=d,j=d,e=0,a=1E3,g=0,o,l,u,r,v=0,A=1E3,w=0,B,s,f,k;h=document.createElement("div");h.style.fontFamily="Helvetica, Arial, sans-serif";h.style.fontSize="9px";h.style.backgroundColor="#000020";h.style.opacity="0.9";h.style.width=
"80px";h.style.paddingTop="2px";h.style.cursor="pointer";h.addEventListener("click",function(){switch(c){case "fps":c="ms";o.style.display="none";l.style.display="none";B.style.display="block";s.style.display="block";break;case "ms":c="fps";o.style.display="block";l.style.display="block";B.style.display="none";s.style.display="none";break}},false);o=document.createElement("div");o.innerHTML="<strong>FPS</strong>";o.style.color="#00ffff";o.style.marginLeft="3px";o.style.marginBottom="3px";h.appendChild(o);
l=document.createElement("canvas");l.width=74;l.height=30;l.style.display="block";l.style.marginLeft="3px";l.style.marginBottom="3px";h.appendChild(l);u=l.getContext("2d");u.fillStyle="#101030";u.fillRect(0,0,l.width,l.height);r=u.getImageData(0,0,l.width,l.height);B=document.createElement("div");B.innerHTML="<strong>MS</strong>";B.style.color="#00ffff";B.style.marginLeft="3px";B.style.marginBottom="3px";B.style.display="none";h.appendChild(B);s=document.createElement("canvas");s.width=74;s.height=
30;s.style.display="block";s.style.marginLeft="3px";s.style.marginBottom="3px";s.style.display="none";h.appendChild(s);f=s.getContext("2d");f.fillStyle="#101030";f.fillRect(0,0,s.width,s.height);k=f.getImageData(0,0,s.width,s.height);return{domElement:h,update:function(){b++;d=(new Date).getTime();v=d-i;A=Math.min(A,v);w=Math.max(w,v);y(k.data,Math.min(30,30-v/200*30));B.innerHTML="<strong>"+v+" MS</strong> ("+A+"-"+w+")";f.putImageData(k,0,0);i=d;if(d>j+1E3){e=Math.round(b*1E3/(d-j));a=Math.min(a,
e);g=Math.max(g,e);y(r.data,Math.min(30,30-e/100*30));o.innerHTML="<strong>"+e+" FPS</strong> ("+a+"-"+g+")";u.putImageData(r,0,0);j=d;b=0}}}};
Object.defineProperty(doodle,"Keyboard",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{BACKSPACE:{enumerable:true,writable:false,configurable:false,value:8},TAB:{enumerable:true,writable:false,configurable:false,value:9},ENTER:{enumerable:true,writable:false,configurable:false,value:13},COMMAND:{enumerable:true,writable:false,configurable:false,value:15},SHIFT:{enumerable:true,writable:false,configurable:false,value:16},CONTROL:{enumerable:true,writable:false,configurable:false,
value:17},ALTERNATE:{enumerable:true,writable:false,configurable:false,value:18},PAUSE:{enumerable:true,writable:false,configurable:false,value:19},CAPS_LOCK:{enumerable:true,writable:false,configurable:false,value:20},NUMPAD:{enumerable:true,writable:false,configurable:false,value:21},ESCAPE:{enumerable:true,writable:false,configurable:false,value:27},SPACE:{enumerable:true,writable:false,configurable:false,value:32},PAGE_UP:{enumerable:true,writable:false,configurable:false,value:33},PAGE_DOWN:{enumerable:true,
writable:false,configurable:false,value:34},END:{enumerable:true,writable:false,configurable:false,value:35},HOME:{enumerable:true,writable:false,configurable:false,value:36},LEFT:{enumerable:true,writable:false,configurable:false,value:37},UP:{enumerable:true,writable:false,configurable:false,value:38},RIGHT:{enumerable:true,writable:false,configurable:false,value:39},DOWN:{enumerable:true,writable:false,configurable:false,value:40},INSERT:{enumerable:true,writable:false,configurable:false,value:45},
DELETE:{enumerable:true,writable:false,configurable:false,value:46},NUMBER_0:{enumerable:true,writable:false,configurable:false,value:48},NUMBER_1:{enumerable:true,writable:false,configurable:false,value:49},NUMBER_2:{enumerable:true,writable:false,configurable:false,value:50},NUMBER_3:{enumerable:true,writable:false,configurable:false,value:51},NUMBER_4:{enumerable:true,writable:false,configurable:false,value:52},NUMBER_5:{enumerable:true,writable:false,configurable:false,value:53},NUMBER_6:{enumerable:true,
writable:false,configurable:false,value:54},NUMBER_7:{enumerable:true,writable:false,configurable:false,value:55},NUMBER_8:{enumerable:true,writable:false,configurable:false,value:56},NUMBER_9:{enumerable:true,writable:false,configurable:false,value:57},A:{enumerable:true,writable:false,configurable:false,value:65},B:{enumerable:true,writable:false,configurable:false,value:66},C:{enumerable:true,writable:false,configurable:false,value:67},D:{enumerable:true,writable:false,configurable:false,value:68},
E:{enumerable:true,writable:false,configurable:false,value:69},F:{enumerable:true,writable:false,configurable:false,value:70},G:{enumerable:true,writable:false,configurable:false,value:71},H:{enumerable:true,writable:false,configurable:false,value:72},I:{enumerable:true,writable:false,configurable:false,value:73},J:{enumerable:true,writable:false,configurable:false,value:74},K:{enumerable:true,writable:false,configurable:false,value:75},L:{enumerable:true,writable:false,configurable:false,value:76},
M:{enumerable:true,writable:false,configurable:false,value:77},N:{enumerable:true,writable:false,configurable:false,value:78},O:{enumerable:true,writable:false,configurable:false,value:79},P:{enumerable:true,writable:false,configurable:false,value:80},Q:{enumerable:true,writable:false,configurable:false,value:81},R:{enumerable:true,writable:false,configurable:false,value:82},S:{enumerable:true,writable:false,configurable:false,value:83},T:{enumerable:true,writable:false,configurable:false,value:84},
U:{enumerable:true,writable:false,configurable:false,value:85},V:{enumerable:true,writable:false,configurable:false,value:86},W:{enumerable:true,writable:false,configurable:false,value:87},X:{enumerable:true,writable:false,configurable:false,value:88},Y:{enumerable:true,writable:false,configurable:false,value:89},Z:{enumerable:true,writable:false,configurable:false,value:90},WINDOWS_KEY:{enumerable:true,writable:false,configurable:false,value:91},NUMPAD_0:{enumerable:true,writable:false,configurable:false,
value:96},NUMPAD_1:{enumerable:true,writable:false,configurable:false,value:97},NUMPAD_2:{enumerable:true,writable:false,configurable:false,value:98},NUMPAD_3:{enumerable:true,writable:false,configurable:false,value:99},NUMPAD_4:{enumerable:true,writable:false,configurable:false,value:100},NUMPAD_5:{enumerable:true,writable:false,configurable:false,value:101},NUMPAD_6:{enumerable:true,writable:false,configurable:false,value:102},NUMPAD_7:{enumerable:true,writable:false,configurable:false,value:103},
NUMPAD_8:{enumerable:true,writable:false,configurable:false,value:104},NUMPAD_9:{enumerable:true,writable:false,configurable:false,value:105},NUMPAD_MULTIPLY:{enumerable:true,writable:false,configurable:false,value:106},NUMPAD_ADD:{enumerable:true,writable:false,configurable:false,value:107},NUMPAD_ENTER:{enumerable:true,writable:false,configurable:false,value:108},NUMPAD_SUBTRACT:{enumerable:true,writable:false,configurable:false,value:109},NUMPAD_DECIMAL:{enumerable:true,writable:false,configurable:false,
value:110},NUMPAD_DIVIDE:{enumerable:true,writable:false,configurable:false,value:111},F1:{enumerable:true,writable:false,configurable:false,value:112},F2:{enumerable:true,writable:false,configurable:false,value:113},F3:{enumerable:true,writable:false,configurable:false,value:114},F4:{enumerable:true,writable:false,configurable:false,value:115},F5:{enumerable:true,writable:false,configurable:false,value:116},F6:{enumerable:true,writable:false,configurable:false,value:117},F7:{enumerable:true,writable:false,
configurable:false,value:118},F8:{enumerable:true,writable:false,configurable:false,value:119},F9:{enumerable:true,writable:false,configurable:false,value:120},F10:{enumerable:true,writable:false,configurable:false,value:121},F11:{enumerable:true,writable:false,configurable:false,value:122},F12:{enumerable:true,writable:false,configurable:false,value:123},F13:{enumerable:true,writable:false,configurable:false,value:124},F14:{enumerable:true,writable:false,configurable:false,value:125},F15:{enumerable:true,
writable:false,configurable:false,value:126},SCROLL:{enumerable:true,writable:false,configurable:false,value:145},SEMICOLON:{enumerable:true,writable:false,configurable:false,value:186},EQUAL:{enumerable:true,writable:false,configurable:false,value:187},COMMA:{enumerable:true,writable:false,configurable:false,value:188},MINUS:{enumerable:true,writable:false,configurable:false,value:189},PERIOD:{enumerable:true,writable:false,configurable:false,value:190},SLASH:{enumerable:true,writable:false,configurable:false,
value:191},BACKQUOTE:{enumerable:true,writable:false,configurable:false,value:192},LEFTBRACKET:{enumerable:true,writable:false,configurable:false,value:219},BACKSLASH:{enumerable:true,writable:false,configurable:false,value:220},RIGHTBRACKET:{enumerable:true,writable:false,configurable:false,value:221},QUOTE:{enumerable:true,writable:false,configurable:false,value:222}})});
Object.defineProperty(doodle,"GradientType",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{LINEAR:{enumerable:true,writable:false,configurable:false,value:"linearGradient"},RADIAL:{enumerable:true,writable:false,configurable:false,value:"radialGradient"}})});
Object.defineProperty(doodle,"Pattern",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{REPEAT:{enumerable:true,writable:false,configurable:false,value:"repeat"},REPEAT_X:{enumerable:true,writable:false,configurable:false,value:"repeat-x"},REPEAT_Y:{enumerable:true,writable:false,configurable:false,value:"repeat-y"},NO_REPEAT:{enumerable:true,writable:false,configurable:false,value:"no-repeat"}})});
Object.defineProperty(doodle,"LineCap",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{BUTT:{enumerable:true,writable:false,configurable:false,value:"butt"},ROUND:{enumerable:true,writable:false,configurable:false,value:"round"},SQUARE:{enumerable:true,writable:false,configurable:false,value:"square"}})});
Object.defineProperty(doodle,"LineJoin",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{MITER:{enumerable:true,writable:false,configurable:false,value:"miter"},ROUND:{enumerable:true,writable:false,configurable:false,value:"round"},BEVEL:{enumerable:true,writable:false,configurable:false,value:"bevel"}})});
(function(){var y={},h,c;doodle.Event=function(b,d,i){var j=arguments.length,e=Object.create(y),a=false,g=false,o=false,l=false,u=0,r=null,v=null,A=new Date,w=null,B=true;if(j===1&&c(arguments[0])){j=arguments[0];b=j.type;d=j.bubbles;i=j.cancelable;o=j.cancelBubble;l=j.defaultPrevented;u=j.eventPhase;r=j.target;v=j.currentTarget;A=j.timeStamp;w=j.srcElement;B=j.returnValue;if(j.__cancel)a=j.__cancel;if(j.__cancelNow)g=j.__cancelNow}else if(j===0||j>3)throw new SyntaxError("[object Event]: Invalid number of parameters.");
Object.defineProperties(e,h);Object.defineProperties(e,{bubbles:{enumerable:true,configurable:false,get:function(){return d}},cancelBubble:{enumerable:true,configurable:false,get:function(){return o},set:function(s){o=s}},cancelable:{enumerable:true,configurable:false,get:function(){return i}},__cancel:{enumerable:false,configurable:false,get:function(){return a}},__cancelNow:{enumerable:false,configurable:false,get:function(){return g}},currentTarget:{enumerable:true,configurable:false,get:function(){return v}},
__setCurrentTarget:{enumerable:false,value:function(s){v=s}},target:{enumerable:true,configurable:false,get:function(){return r}},__setTarget:{enumerable:false,value:function(s){r=s}},eventPhase:{enumerable:true,configurable:false,get:function(){return u}},__setEventPhase:{enumerable:false,value:function(s){u=s}},srcElement:{enumerable:true,configurable:false,get:function(){return w}},timeStamp:{enumerable:true,configurable:false,get:function(){return A}},type:{enumerable:true,configurable:false,
get:function(){return b}},__setType:{enumerable:false,value:function(s){b=s}},returnValue:{enumerable:true,configurable:false,get:function(){return B}},initEvent:{enumerable:true,configurable:false,value:function(s,f,k){f=f===true;k=k===true;b=s;d=f;i=k;return this}},preventDefault:{enumerable:true,configurable:false,value:function(){l=true}},stopPropagation:{enumerable:true,configurable:false,value:function(){if(this.cancelable)a=true;else throw Error(this+".stopPropagation: Event can not be cancelled.");
}},stopImmediatePropagation:{enumerable:true,configurable:false,value:function(){if(this.cancelable)g=a=true;else throw Error(this+".stopImmediatePropagation: Event can not be cancelled.");}}});e.initEvent(b,d,i);return e};(function(){var b=Object.getPrototypeOf(document.createEvent("Event"));for(var d in b)if(typeof b[d]!=="function")y[d]=b[d];h={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object Event]"}}}})();c=doodle.Event.isEvent=function(b){if(typeof b!==
"object")return false;else b=b.toString();return b==="[object Event]"||b==="[object UIEvent]"||b==="[object MouseEvent]"||b==="[object KeyboardEvent]"||b==="[object TextEvent]"||b==="[object WheelEvent]"}})();
(function(){var y,h=doodle.Event.isEvent;doodle.UIEvent=function(c,b,d,i,j){var e=arguments.length,a=0,g=0,o=0,l=0,u=0,r=0,v=0;if(e===1&&h(arguments[0])){e=arguments[0];c=e.type;b=e.bubbles;d=e.cancelable;i=e.view;j=e.detail;a=e.which||0;g=e.charCode||0;o=e.keyCode||0;l=e.layerX||0;u=e.layerY||0;r=e.pageX||0;v=e.pageY||0;e=Object.create(doodle.Event(e))}else if(e===0||e>5)throw new SyntaxError("[object UIEvent]: Invalid number of parameters.");else{b=b===true;d=d===true;e=Object.create(doodle.Event(c,
b,d))}Object.defineProperties(e,y);Object.defineProperties(e,{view:{enumerable:true,configurable:false,get:function(){return i}},detail:{enumerable:true,configurable:false,get:function(){return j}},which:{enumerable:true,configurable:false,get:function(){return a}},charCode:{enumerable:true,configurable:false,get:function(){return g}},keyCode:{enumerable:true,configurable:false,get:function(){return o}},layerX:{enumerable:true,configurable:false,get:function(){return l}},layerY:{enumerable:true,configurable:false,
get:function(){return u}},pageX:{enumerable:true,configurable:false,get:function(){return r}},pageY:{enumerable:true,configurable:false,get:function(){return v}},initUIEvent:{value:function(A,w,B,s,f){c=A;b=w===true;d=B===true;i=s===undefined?null:s;j=f===undefined?0:f;this.initEvent(c,b,d);return this}}});e.initUIEvent(c,b,d,i,j);return e};y={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object UIEvent]"}}}})();
(function(){var y,h=doodle.Event.isEvent,c=doodle.utils.types.check_string_type;doodle.MouseEvent=function(b,d,i,j,e,a,g,o,l,u,r,v,A,w,B){var s=arguments.length,f=0,k=0,q=0,m=0;if(s===1&&h(arguments[0])){s=arguments[0];b=s.type;d=s.bubbles;i=s.cancelable;j=s.view;e=s.detail;a=s.screenX;g=s.screenY;o=s.clientX;l=s.clientY;u=s.ctrlKey;r=s.altKey;v=s.shiftKey;A=s.metaKey;w=s.button;B=s.relatedTarget;f=s.x||0;k=s.y||0;q=s.offsetX||0;m=s.offsetY||0;s=Object.create(doodle.UIEvent(s))}else if(s===0||s>15)throw new SyntaxError("[object MouseEvent]: Invalid number of parameters.");
else{d=d===true;i=i===true;j=j===undefined?null:j;e=e===undefined?0:e;s=Object.create(doodle.UIEvent(b,d,i,j,e))}Object.defineProperties(s,y);Object.defineProperties(s,{x:{enumerable:true,configurable:false,get:function(){return f}},y:{enumerable:true,configurable:false,get:function(){return k}},screenX:{enumerable:true,configurable:false,get:function(){return a}},screenY:{enumerable:true,configurable:false,get:function(){return g}},clientX:{enumerable:true,configurable:false,get:function(){return o}},
clientY:{enumerable:true,configurable:false,get:function(){return l}},offsetX:{enumerable:true,configurable:false,get:function(){return q}},offsetY:{enumerable:true,configurable:false,get:function(){return m}},ctrlKey:{enumerable:true,configurable:false,get:function(){return u}},altKey:{enumerable:true,configurable:false,get:function(){return r}},shiftKey:{enumerable:true,configurable:false,get:function(){return v}},metaKey:{enumerable:true,configurable:false,get:function(){return A}},button:{enumerable:true,
configurable:false,get:function(){return w}},relatedTarget:{enumerable:true,configurable:false,get:function(){return B}},initMouseEvent:{value:function(n,p,t,C,x,D,E,F,z,H,G,I,J,K,L){d=p===true;i=t===true;j=C===undefined?null:C;e=x===undefined?0:x;a=D===undefined?0:D;g=E===undefined?0:E;o=F===undefined?0:F;l=z===undefined?0:z;u=H===true;r=G===true;v=I===true;A=J===true;w=K===undefined?0:K;B=L===undefined?null:L;this.initUIEvent(b,d,i,j,e);return this}},getModifierState:{value:function(n){c(n,this+
".getModifierState");switch(n){case "Alt":return r;case "Control":return u;case "Meta":return A;case "Shift":return v;default:return false}}}});s.initMouseEvent(b,d,i,j,e,a,g,o,l,u,r,v,A,w,B);return s};y={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object MouseEvent]"}}}})();
(function(){var y,h=doodle.Event.isEvent;doodle.TextEvent=function(c,b,d,i,j,e){var a=arguments.length;if(a===1&&h(arguments[0])){a=arguments[0];c=a.type;b=a.bubbles;d=a.cancelable;i=a.view;j=a.data;e=a.inputMode;a=Object.create(doodle.UIEvent(a))}else if(a===0||a>6)throw new SyntaxError("[object TextEvent]: Invalid number of parameters.");else{b=b===true;d=d===true;i=viewArg===undefined?null:i;a=Object.create(doodle.UIEvent(c,b,d,i))}Object.defineProperties(a,y);Object.defineProperties(a,{data:{enumerable:true,
configurable:false,get:function(){return j}},inputMode:{enumerable:true,configurable:false,get:function(){return e}},initTextEvent:{value:function(g,o,l,u,r,v){c=g;b=o===true;d=l===true;i=u===undefined?null:u;j=r===undefined?"":r;e=v===undefined?doodle.TextEvent.INPUT_METHOD_UNKNOWN:v;this.initUIEvent(c,b,d,i);return this}}});a.initTextEvent(c,b,d,i,j,e);return a};y={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object TextEvent]"}}}})();
(function(){var y,h=doodle.Event.isEvent,c=doodle.utils.types.check_string_type;doodle.KeyboardEvent=function(b,d,i,j,e,a,g,o){var l=arguments.length,u=false,r=false,v=false,A=false;if(l===1&&h(arguments[0])){l=arguments[0];b=l.type;d=l.bubbles;i=l.cancelable;j=l.view;e=l.keyIdentifier;a=l.keyLocation;o=l.repeat;u=l.ctrlKey||false;r=l.shiftKey||false;v=l.altKey||false;A=l.metaKey||false;l=Object.create(doodle.UIEvent(l))}else if(l===0||l>8)throw new SyntaxError("[object KeyboardEvent]: Invalid number of parameters.");
else{d=d===true;i=i===true;j=j===undefined?null:j;l=Object.create(doodle.UIEvent(b,d,i,j))}Object.defineProperties(l,y);Object.defineProperties(l,{keyIdentifier:{enumerable:true,configurable:false,get:function(){return e}},keyLocation:{enumerable:true,configurable:false,get:function(){return a}},repeat:{enumerable:true,configurable:false,get:function(){return o}},altKey:{enumerable:true,configurable:false,get:function(){return v}},ctrlKey:{enumerable:true,configurable:false,get:function(){return u}},
metaKey:{enumerable:true,configurable:false,get:function(){return A}},shiftKey:{enumerable:true,configurable:false,get:function(){return r}},initKeyboardEvent:{value:function(w,B,s,f,k,q,m,n){b=w;d=B===true;i=s===true;j=f===undefined?null:f;e=k===undefined?"":k;a=q===undefined?0:q;g=m===undefined?"":m;o=n===true;g.split(" ").forEach(function(p){switch(p){case "Alt":v=true;break;case "Control":u=true;break;case "Meta":A=true;break;case "Shift":r=true;break}});this.initUIEvent(b,d,i,j);return this}},
getModifierState:{value:function(w){c(w,this+".getModifierState");switch(w){case "Alt":return v;case "Control":return u;case "Meta":return A;case "Shift":return r;default:return false}}}});l.initKeyboardEvent(b,d,i,j,e,a,g,o);return l};y={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object KeyboardEvent]"}}}})();
Object.defineProperties(doodle.Event,{CAPTURING_PHASE:{enumerable:true,writable:false,configurable:false,value:1},AT_TARGET:{enumerable:true,writable:false,configurable:false,value:2},BUBBLING_PHASE:{enumerable:true,writable:false,configurable:false,value:3},ADDED:{enumerable:true,writable:false,configurable:false,value:"added"},REMOVED:{enumerable:true,writable:false,configurable:false,value:"removed"},ENTER_FRAME:{enumerable:true,writable:false,configurable:false,value:"enterFrame"},LOAD:{enumerable:true,
writable:false,configurable:false,value:"load"},CHANGE:{enumerable:true,writable:false,configurable:false,value:"change"}});Object.defineProperties(doodle.UIEvent,{FOCUS_IN:{enumerable:true,writable:false,configurable:false,value:"focusIn"}});
Object.defineProperties(doodle.MouseEvent,{CLICK:{enumerable:true,writable:false,configurable:false,value:"click"},DOUBLE_CLICK:{enumerable:true,writable:false,configurable:false,value:"dblclick"},CONTEXT_MENU:{enumerable:true,writable:false,configurable:false,value:"contextmenu"},MOUSE_DOWN:{enumerable:true,writable:false,configurable:false,value:"mousedown"},MOUSE_UP:{enumerable:true,writable:false,configurable:false,value:"mouseup"},MOUSE_WHEEL:{enumerable:true,writable:false,configurable:false,
value:"mousewheel"},MOUSE_MOVE:{enumerable:true,writable:false,configurable:false,value:"mousemove"},MOUSE_OUT:{enumerable:true,writable:false,configurable:false,value:"mouseout"},MOUSE_OVER:{enumerable:true,writable:false,configurable:false,value:"mouseover"},MOUSE_ENTER:{enumerable:true,writable:false,configurable:false,value:"mouseenter"},MOUSE_LEAVE:{enumerable:true,writable:false,configurable:false,value:"mouseleave"}});
Object.defineProperties(doodle.KeyboardEvent,{KEY_PRESS:{enumerable:true,writable:false,configurable:false,value:"keypress"},KEY_UP:{enumerable:true,writable:false,configurable:false,value:"keyup"},KEY_DOWN:{enumerable:true,writable:false,configurable:false,value:"keydown"},KEY_LOCATION_STANDARD:{enumerable:true,writable:false,configurable:false,value:0},KEY_LOCATION_LEFT:{enumerable:true,writable:false,configurable:false,value:1},KEY_LOCATION_RIGHT:{enumerable:true,writable:false,configurable:false,
value:2},KEY_LOCATION_NUMPAD:{enumerable:true,writable:false,configurable:false,value:3},KEY_LOCATION_MOBILE:{enumerable:true,writable:false,configurable:false,value:4},KEY_LOCATION_JOYSTICK:{enumerable:true,writable:false,configurable:false,value:5}});
Object.defineProperties(doodle.TextEvent,{TEXT_INPUT:{enumerable:true,writable:false,configurable:false,value:"textInput"},INPUT_METHOD_UNKNOWN:{enumerable:true,writable:false,configurable:false,value:0},INPUT_METHOD_KEYBOARD:{enumerable:true,writable:false,configurable:false,value:1},INPUT_METHOD_PASTE:{enumerable:true,writable:false,configurable:false,value:2},INPUT_METHOD_DROP:{enumerable:true,writable:false,configurable:false,value:3},INPUT_METHOD_IME:{enumerable:true,writable:false,configurable:false,
value:4},INPUT_METHOD_OPTION:{enumerable:true,writable:false,configurable:false,value:5},INPUT_METHOD_HANDWRITING:{enumerable:true,writable:false,configurable:false,value:6},INPUT_METHOD_VOICE:{enumerable:true,writable:false,configurable:false,value:7},INPUT_METHOD_MULTIMODAL:{enumerable:true,writable:false,configurable:false,value:8},INPUT_METHOD_SCRIPT:{enumerable:true,writable:false,configurable:false,value:9}});
(function(){var y,h;doodle.geom.Point=function(c,b){var d=arguments.length,i,j={};if(d===1&&typeof arguments[0]==="function"){i=arguments[0];c=undefined}else if(d>2)throw new SyntaxError("[object Point]: Invalid number of parameters.");Object.defineProperties(j,y);Object.defineProperties(j,{x:{enumerable:true,configurable:false,get:function(){return c},set:function(e){c=e}},y:{enumerable:true,configurable:false,get:function(){return b},set:function(e){b=e}}});if(i)if(typeof i==="function"){j.compose(0,
0);i.call(j)}else if(Array.isArray(i)&&i.length===2)j.compose.apply(j,i);else if(h(i))j.compose(i.x,i.y);else throw new SyntaxError(this+": Passed an invalid initializer object.");else switch(d){case 0:j.compose(0,0);break;case 2:j.compose(c,b);break;default:throw new SyntaxError(this+": Invalid number of parameters.");}return j};h=doodle.geom.Point.isPoint=function(c){return c&&typeof c.x==="number"&&typeof c.y==="number"};doodle.utils.types.check_point_type=function(c,b,d){if(h(c))return true;else{b=
b===undefined?"check_point_type":b;d=d===undefined?"":"("+d+")";throw new TypeError(b+d+": Parameter must be a point.");}};(function(){var c=doodle.geom.Point;y={length:{enumerable:true,configurable:false,get:function(){return this.distance({x:0,y:0},this)}},compose:{enumerable:false,writable:false,configurable:false,value:function(b,d){this.x=b;this.y=d;return this}},clone:{enumerable:false,writable:false,configurable:false,value:function(){return c(this.x,this.y)}},toArray:{enumerable:false,writable:false,
configurable:false,value:function(){var b=Array(2);b[0]=this.x;b[1]=this.y;return b}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"(x="+this.x+", y="+this.y+")"}},distance:{enumerable:false,writable:false,configurable:false,value:function(b,d){var i=d.x-b.x,j=d.y-b.x;return Math.sqrt(i*i+j*j)}},normalize:{enumerable:false,writable:false,configurable:false,value:function(b){var d=this.length;this.x=this.x/d*b;this.y=this.y/d*b;return this}},equals:{enumerable:false,
writable:false,configurable:false,value:function(b){return this&&point&&this.x===b.x&&this.y===b.y||!this&&!b}},interpolate:{enumerable:false,writable:false,configurable:false,value:function(b,d,i){return c(b.x+(d.x-b.x)*i,b.y+(d.y-b.y)*i)}},polar:{enumerable:false,writable:false,configurable:false,value:function(b,d){return c(b*Math.cos(d),b*Math.sin(d))}},add:{enumerable:false,writable:false,configurable:false,value:function(b){return c(this.x+b.x,this.y+b.y)}},subtract:{enumerable:false,writable:false,
configurable:false,value:function(b){return c(this.x-b.x,this.y-b.y)}},offset:{enumerable:false,writable:false,configurable:false,value:function(b,d){this.x+=b;this.y+=d;return this}}}})()})();
(function(){var y,h;doodle.geom.Matrix=function(c,b,d,i,j,e){var a=arguments.length,g,o={};if(a===1){g=arguments[0];c=undefined}else if(a>6)throw new SyntaxError("[object Matrix]: Invalid number of parameters.");Object.defineProperties(o,y);Object.defineProperties(o,{a:{enumerable:true,configurable:false,get:function(){return c},set:function(l){c=l}},b:{enumerable:true,configurable:false,get:function(){return b},set:function(l){b=l}},c:{enumerable:true,configurable:false,get:function(){return d},
set:function(l){d=l}},d:{enumerable:true,configurable:false,get:function(){return i},set:function(l){i=l}},tx:{enumerable:true,configurable:false,get:function(){return j},set:function(l){j=l}},ty:{enumerable:true,configurable:false,get:function(){return e},set:function(l){e=l}}});if(g)if(typeof g==="function"){o.identity();g.call(o)}else if(Array.isArray(g)&&g.length===6)o.compose.apply(o,g);else if(h(g))o.compose(g.a,g.b,g.c,g.d,g.tx,g.ty);else throw new SyntaxError("[object Matrix]: Passed an invalid initializer object.");
else switch(a){case 0:o.identity();break;case 6:o.compose(c,b,d,i,j,e);break;default:throw new SyntaxError("[object Matrix]: Invalid number of parameters.");}return o};h=doodle.geom.Matrix.isMatrix=function(c){return c!==undefined&&c!==null&&typeof c.a==="number"&&typeof c.b==="number"&&typeof c.c==="number"&&typeof c.d==="number"&&typeof c.tx==="number"&&typeof c.ty==="number"};doodle.utils.types.check_matrix_type=function(c,b){if(h(c))return true;else{b=b===undefined?"check_matrix_type":b;throw new TypeError(b+
": Parameter must be a matrix.");}};(function(){var c=doodle.geom.Matrix,b=doodle.geom.Point,d=Math.sin,i=Math.cos,j=Math.atan2,e=Math.tan;y={compose:{enumerable:false,writable:false,configurable:false,value:function(a,g,o,l,u,r){this.a=a;this.b=g;this.c=o;this.d=l;this.tx=u;this.ty=r;return this}},toArray:{enumerable:false,writable:false,configurable:false,value:function(){var a=Array(6);a[0]=this.a;a[1]=this.b;a[2]=this.c;a[3]=this.d;a[4]=this.tx;a[5]=this.ty;return a}},toString:{enumerable:false,
writable:false,configurable:false,value:function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}},equals:{enumerable:false,writable:false,configurable:false,value:function(a){return this&&a&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d&&this.tx===a.tx&&this.ty===a.ty||!this&&!a}},identity:{enumerable:false,writable:false,configurable:false,value:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this}},clone:{enumerable:false,
writable:false,configurable:false,value:function(){return c(this.a,this.b,this.c,this.d,this.tx,this.ty)}},multiply:{enumerable:false,writable:false,configurable:false,value:function(a){return this.compose(this.a*a.a+this.c*a.b,this.b*a.a+this.d*a.b,this.a*a.c+this.c*a.d,this.b*a.c+this.d*a.d,this.a*a.tx+this.c*a.ty+this.tx,this.b*a.tx+this.d*a.ty+this.ty)}},rotate:{enumerable:false,writable:false,configurable:false,value:function(a){var g=i(a);a=d(a);return this.multiply(c(g,a,-a,g,0,0))}},deltaRotate:{enumerable:false,
writable:false,configurable:false,value:function(a){var g=this.tx,o=this.ty;this.rotate(a);this.tx=g;this.ty=o;return this}},rotation:{enumerable:true,configurable:false,get:function(){return j(this.b,this.a)},set:function(a){var g=i(a);a=d(a);return this.compose(g,a,-a,g,this.tx,this.ty)}},scale:{enumerable:false,writable:false,configurable:false,value:function(a,g){return this.multiply(c(a,0,0,g,0,0))}},deltaScale:{enumerable:false,writable:false,configurable:false,value:function(a,g){var o=this.tx,
l=this.ty;this.scale(a,g);this.tx=o;this.ty=l;return this}},translate:{enumerable:false,writable:false,configurable:false,value:function(a,g){this.tx+=a;this.ty+=g;return this}},skew:{enumerable:false,writable:false,configurable:false,value:function(a,g){var o=e(a),l=e(g);return this.multiply(c(1,l,o,1,0,0))}},deltaSkew:{enumerable:false,writable:false,configurable:false,value:function(a,g){var o=this.tx,l=this.ty;this.skew(a,g);this.tx=o;this.ty=l;return this}},add:{enumerable:false,writable:false,
configurable:false,value:function(a){this.a+=a.a;this.b+=a.b;this.c+=a.c;this.d+=a.d;this.tx+=a.tx;this.ty+=a.ty;return this}},invert:{enumerable:false,writable:false,configurable:false,value:function(){var a=this.a*this.d-this.b*this.c;return this.compose(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.ty*this.c-this.d*this.tx)/a,-(this.ty*this.a-this.b*this.tx)/a)}},transformPoint:{enumerable:false,writable:false,configurable:false,value:function(a){return b(this.a*a.x+this.c*a.y+this.tx,this.b*a.x+
this.d*a.y+this.ty)}},deltaTransformPoint:{enumerable:false,writable:false,configurable:false,value:function(a){return b(this.a*a.x+this.c*a.y,this.b*a.x+this.d*a.y)}},rotateAroundExternalPoint:{enumerable:false,writable:false,configurable:false,value:function(a,g){var o=c().rotate(g),l,u=a.x,r=a.y;this.translate(-u,-r);l=o.transformPoint({x:this.tx,y:this.ty});this.tx=l.x;this.ty=l.y;return this.multiply(o).translate(u,r)}},rotateAroundInternalPoint:{enumerable:false,writable:false,configurable:false,
value:function(a,g){return this.rotateAroundExternalPoint(this.transformPoint(a),g)}},matchInternalPointWithExternal:{enumerable:false,writable:false,configurable:false,value:function(a,g){var o=this.transformPoint(a);return this.translate(g.x-o.x,g.y-o.y)}},interpolate:{enumerable:false,writable:false,configurable:false,value:function(a,g){this.a+=(a.a-this.a)*g;this.b+=(a.b-this.b)*g;this.c+=(a.c-this.c)*g;this.d+=(a.d-this.d)*g;this.tx+=(a.tx-this.tx)*g;this.ty+=(a.ty-this.ty)*g;return this}}}})()})();
(function(){var y,h;doodle.geom.Rectangle=function(c,b,d,i){var j=arguments.length,e,a={};if(j===1&&typeof arguments[0]==="function"){e=arguments[0];c=undefined}else if(j>4)throw new SyntaxError("[object Rectangle]: Invalid number of parameters.");Object.defineProperties(a,y);Object.defineProperties(a,{x:{enumerable:true,configurable:false,get:function(){return c},set:function(g){c=g}},y:{enumerable:true,configurable:false,get:function(){return b},set:function(g){b=g}},width:{enumerable:true,configurable:false,
get:function(){return d},set:function(g){d=g}},height:{enumerable:true,configurable:false,get:function(){return i},set:function(g){i=g}}});if(e)if(typeof e==="function"){a.identity();e.call(a)}else if(isRectangle(e))a.compose(e.x,e.y,e.width,e.height);else throw new SyntaxError("[object Rectangle]: Passed an invalid initializer object.");else switch(j){case 0:a.compose(0,0,0,0);break;case 4:a.compose(c,b,d,i);break;default:throw new SyntaxError("[object Rectangle]: Invalid number of parameters.");
}return a};h=doodle.geom.Rectangle.isRect=function(c){return typeof c.x==="number"&&typeof c.y==="number"&&typeof c.width==="number"&&typeof c.height==="number"&&typeof c.top==="number"&&typeof c.bottom==="number"&&typeof c.left==="number"&&typeof c.right==="number"};doodle.utils.types.check_rect_type=function(c,b){if(h(c))return true;else{b=b===undefined?"check_rect_type":b;throw new TypeError(b+": Parameter must be a rectangle.");}};(function(){var c=doodle.geom.Rectangle;y={top:{enumerable:true,
configurable:false,get:function(){return this.y},set:function(b){this.y=b;this.height-=b}},right:{enumerable:true,configurable:false,get:function(){return this.x+this.width},set:function(b){this.width=b-this.x}},bottom:{enumerable:true,configurable:false,get:function(){return this.y+this.height},set:function(b){this.height=b-this.y}},left:{enumerable:true,configurable:false,get:function(){return this.x},set:function(b){this.x=b;this.width-=b}},clone:{enumerable:false,writable:false,configurable:false,
value:function(){return c(this.x,this.y,this.width,this.height)}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"(x="+this.x+", y="+this.y+", w="+this.width+", h="+this.height+")"}},toArray:{enumerable:false,writable:false,configurable:false,value:function(){return[this.top,this.right,this.bottom,this.left]}},compose:{enumerable:false,writable:false,configurable:false,value:function(b,d,i,j){this.x=b;this.y=d;this.width=i;this.height=j;return this}},offset:{enumerable:false,
writable:false,configurable:false,value:function(b,d){this.x+=b;this.y+=d;return this}},inflate:{enumerable:false,writable:false,configurable:false,value:function(b,d){this.x-=b;this.width+=2*b;this.y-=d;this.height+=2*d;return this}},equals:{enumerable:false,writable:false,configurable:false,value:function(b){return this.x===b.x&&this.y===b.y&&this.width===b.width&&this.height===b.height}},isEmpty:{enumerable:false,writable:false,configurable:false,value:function(){return this.width>=0||this.height>=
0}},containsPoint:{enumerable:false,writable:false,configurable:false,value:function(b){var d=b.x;b=b.y;return d>=this.left&&d<=this.right&&b>=this.top&&b<=this.bottom}},containsRect:{enumerable:false,writable:false,configurable:false,value:function(b){return this.containsPoint({x:b.x,y:b.y})&&this.containsPoint({x:b.right,y:b.y})&&this.containsPoint({x:b.right,y:b.bottom})&&this.containsPoint({x:b.x,y:b.bottom})}},intersects:{enumerable:false,writable:false,configurable:false,value:function(b){return this.containsPoint({x:b.x,
y:b.y})||this.containsPoint({x:b.right,y:b.y})||this.containsPoint({x:b.right,y:b.bottom})||this.containsPoint({x:b.x,y:b.bottom})}},intersection:{enumerable:false,writable:false,configurable:false,value:function(b){var d=c();if(this.intersects(b)){d.left=Math.max(this.left,b.left);d.top=Math.max(this.top,b.top);d.right=Math.min(this.right,b.right);d.bottom=Math.min(this.bottom,b.bottom)}return d}},union:{enumerable:false,writable:false,configurable:false,value:function(b){var d=c();d.left=Math.min(this.left,
b.left);d.top=Math.min(this.top,b.top);d.right=Math.max(this.right,b.right);d.bottom=Math.max(this.bottom,b.bottom);return d}}}})()})();
(function(){var y,h;doodle.EventDispatcher=function(){var c=arguments.length,b,d={},i={};if(c===1&&typeof arguments[0]==="function")b=arguments[0];else if(c>0)throw new SyntaxError("[object EventDispatcher]: Invalid number of parameters.");Object.defineProperties(d,y);Object.defineProperties(d,{eventListeners:{enumerable:true,configurable:false,get:function(){return i}}});b&&b.call(d);return d};doodle.EventDispatcher.dispatcher_queue=[];h=doodle.EventDispatcher.isEventDispatcher=function(c){return c.toString()===
"[object EventDispatcher]"};doodle.EventDispatcher.inheritsEventDispatcher=function(c){for(;c;)if(h(c))return true;else{if(typeof c!=="object")return false;c=Object.getPrototypeOf(c)}return false};doodle.utils.types.check_eventdispatcher_type=function(c,b){if(inheritsEventDispatcher(c))return true;else{b=b===undefined?"check_eventdispatcher_type":b;throw new TypeError(b+": Parameter must be an eventdispatcher.");}};(function(){var c=doodle.EventDispatcher.dispatcher_queue,b=doodle.utils.types.check_function_type;
y={toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object EventDispatcher]"}},modify:{enumerable:false,writable:false,configurable:false,value:function(d){d.call(this);return this}},addEventListener:{enumerable:false,writable:false,configurable:false,value:function(d,i,j){j=j===true;var e=this;this.eventListeners[d]||(this.eventListeners[d]={capture:[],bubble:[]});this.eventListeners[d][j?"capture":"bubble"].push(i);c.every(function(a){return e!==a})&&c.push(e)}},
removeEventListener:{enumerable:false,writable:false,configurable:false,value:function(d,i,j){j=j===true;if(this.eventListeners[d]){var e=this.eventListeners[d];j=e[j?"capture":"bubble"];j.splice(j.indexOf(i),1);e.capture.length===0&&e.bubble.length===0&&delete this.eventListeners[d];Object.keys(this.eventListeners).length===0&&c.splice(c.indexOf(this),1)}}},handleEvent:{enumerable:false,writable:false,configurable:false,value:function(d){var i=d.eventPhase===doodle.Event.CAPTURING_PHASE?"capture":
"bubble",j=this.eventListeners[d.type],e=0,a;if((j=j&&j[i])&&j.length>0){d.__setCurrentTarget(this);e=j.length;for(a=0;a<e;a+=1){b(j[a],this+".handleEvent::listeners["+a+"]");i=j[a].call(this,d);if(i===false||d.returnValue===false)d.__cancel||d.stopPropagation();if(d.__cancelNow)break}}return e>0?true:false}},dispatchEvent:{enumerable:true,writable:false,configurable:false,value:function(d){var i,j,e=[],a;if(d.__cancel)return false;d.target||d.__setTarget(this);i=d.target;for(j=i.parent||null;j;){e.push(j);
j=j.parent}d.__setEventPhase(d.CAPTURING_PHASE);for(a=j=e.length;(a-=1)>=0;){e[a].handleEvent(d);if(d.__cancel)return true}d.__setEventPhase(d.AT_TARGET);i.handleEvent(d);if(d.__cancel)return true;if(!d.bubbles||d.cancelBubble)return true;d.__setEventPhase(d.BUBBLING_PHASE);for(a=0;a<j;a+=1){e[a].handleEvent(d);if(d.__cancel||d.cancelBubble)return true}return true}},broadcastEvent:{enumerable:true,writable:false,configurable:false,value:function(d){var i,j,e;if(d.__cancel)throw Error(this+".broadcastEvent: Can not dispatch a cancelled event.");
d.target||d.__setTarget(this);i=c.filter(function(a){return a.hasEventListener(d.type)});e=0;for(j=i.length;e<j;e+=1){i[e].handleEvent(d);if(d.__cancel)break}return true}},hasEventListener:{enumerable:false,writable:false,configurable:false,value:function(d){return this.eventListeners!==null&&this.eventListeners.hasOwnProperty(d)}},willTrigger:{enumerable:false,writable:false,configurable:false,value:function(d){if(this.hasEventListener(d))return true;else if(!this.children||this.children.length===
0)return false;else for(var i in this.children)if(this.children[i].willTrigger(d))return true;return false}}}})()})();
(function(){var y,h=0,c,b,d;doodle.Node=function(i){var j=arguments.length,e,a=Object.create(doodle.EventDispatcher()),g=[],o=doodle.geom.Matrix(),l=null,u=null;if(j===1&&typeof arguments[0]==="function"){e=arguments[0];i=undefined}else if(j>1)throw new SyntaxError("[object Node]: Invalid number of parameters.");Object.defineProperties(a,y);Object.defineProperties(a,{id:{enumerable:true,configurable:false,get:function(){return i},set:function(r){i=r}},root:{enumerable:true,configurable:false,get:function(){return l},
set:function(r){l=r}},parent:{enumerable:true,configurable:false,get:function(){return u},set:function(r){u=r}},children:{enumerable:false,configurable:false,get:function(){return g}},transform:{enumerable:false,configurable:false,get:function(){return o},set:function(r){o=r}},visible:function(){var r=true;return{enumerable:true,configurable:false,get:function(){return r},set:function(v){r=v}}}(),alpha:function(){var r=1;return{enumerable:true,configurable:false,get:function(){return r},set:function(v){r=
v>1?1:v<0?0:v}}}()});if(e){a.id="node"+String("000"+h).slice(-3);e.call(a)}else a.id=i!==undefined?i:"node"+String("000"+h).slice(-3);h+=1;return a};c=doodle.Node.isNode=function(i){return i.toString()==="[object Node]"};b=doodle.Node.inheritsNode=function(i){for(;i;)if(c(i))return true;else{if(typeof i!=="object")return false;i=Object.getPrototypeOf(i)}return false};doodle.utils.types.check_node_type=function(i,j){if(b(i))return true;else{j=j===undefined?"check_node_type":j;throw new TypeError(j+
": Parameter must be a node.");}};d=doodle.Node.inDisplayList=function(i){for(;i;){if(i.context)return true;i=i.parent}return false};(function(){function i(a,g,o){a.children.forEach(function(l){typeof o==="function"&&o(l);l.dispatchEvent(e(g,true));i(l,g,o)})}var j=doodle.geom.Point,e=doodle.Event;to_degrees=180/Math.PI;to_radians=Math.PI/180;y={x:{enumerable:true,configurable:false,get:function(){return this.transform.tx},set:function(a){this.transform.tx=a}},y:{enumerable:true,configurable:false,
get:function(){return this.transform.ty},set:function(a){this.transform.ty=a}},axis:{value:{x:this.x,y:this.y}},rotate:{value:function(a){this.axis.x!==undefined&&this.axis.y!==undefined?this.transform.rotateAroundInternalPoint(this.axis,a*to_radians):this.transform.rotate(a*to_radians)}},rotation:{enumerable:true,configurable:false,get:function(){return this.transform.rotation*to_degrees},set:function(a){this.transform.rotation=a*to_radians}},scaleX:{enumerable:true,configurable:false,get:function(){return this.transform.a},
set:function(a){this.transform.a=a}},scaleY:{enumerable:true,configurable:false,get:function(){return this.transform.d},set:function(a){this.transform.d=a}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Node]"}},addChildAt:{enumerable:false,writable:false,configurable:false,value:function(a,g){if(this.children.indexOf(a)!==-1)return false;if(a.root!==this.root)a.root=this.root;a.parent!==null&&a.parent!==this&&a.parent.removeChild(a);a.parent=this;this.children.splice(g,
0,a);if(d(a)){a.dispatchEvent(e(e.ADDED,true));i(a,e.ADDED)}return a}},addChild:{enumerable:false,writable:false,configurable:false,value:function(a){return this.addChildAt(a,this.children.length)}},removeChildAt:{enumerable:false,writable:false,configurable:false,value:function(a){function g(u){var r=u.getBounds(u.root);l&&l.clearRect(r.x,r.y,r.width,r.height);u.root=null}var o=this.children[a],l=o.context;this.children.splice(a,1);if(l){g(o);o.dispatchEvent(e(e.REMOVED,true));i(o,e.REMOVED,g)}o.root=
null;o.parent=null}},removeChild:{enumerable:false,writable:false,configurable:false,value:function(a){this.removeChildAt(this.children.indexOf(a))}},removeChildById:{enumerable:false,writable:false,configurable:false,value:function(a){this.removeChild(this.getChildById(a))}},removeAllChildren:{enumerable:false,writable:false,configurable:false,value:function(){for(var a=this.children.length;(a-=1)>=0;)this.removeChildAt(a)}},getChildById:{enumerable:false,writable:false,configurable:false,value:function(a){return this.children.filter(function(g){return g.id===
a})[0]}},setChildIndex:{enumerable:true,writable:false,configurable:false,value:function(a,g){var o=this.children,l=o.length,u=o.indexOf(a);if(u===-1)throw new ReferenceError(this+".setChildIndex(*child*, index): "+a+" does not exist on child list.");if(g>l||g<-l)throw new RangeError(this+".setChildIndex(child, *index*): "+g+" does not exist on child list.");o.splice(u,1);o.splice(g,0,a)}},swapChildrenAt:{enumerable:false,writable:false,configurable:false,value:function(a,g){var o=this.children;o[a]=
o.splice(g,1,o[a])[0]}},swapChildren:{enumerable:false,writable:false,configurable:false,value:function(a,g){this.swapChildrenAt(this.children.indexOf(a),this.children.indexOf(g))}},swapDepths:{enumerable:false,writable:false,configurable:false,value:function(a){var g=this.parent;if(!g||!Array.isArray(g.children))throw Error(this+".swapDepths: no parent found.");else g.swapChildren(this,a)}},swapDepthAt:{enumerable:false,writable:false,configurable:false,value:function(a){var g=this.parent;if(!g||
!Array.isArray(g.children))throw Error(this+".swapDepthAt: no parent found.");else g.swapChildrenAt(a,g.children.indexOf(this))}},contains:{enumerable:false,writable:false,configurable:false,value:function(a){for(;a;){if(a===this)return true;a=a.parent}return false}},localToGlobal:{enumerable:false,writable:false,configurable:false,value:function(a){for(var g=this;g;){a=g.transform.transformPoint(a);g=g.parent}return a}},globalToLocal:{enumerable:false,writable:false,configurable:false,value:function(a){var g=
this.localToGlobal({x:0,y:0});return j(a.x-g.x,a.y-g.y)}}}})()})();
(function(){var y,h,c,b=doodle.utils.hex_to_rgb_str,d=doodle.utils.rgb_str_to_hex,i=doodle.utils.types.check_context_type,j=doodle.utils.get_element,e=doodle.geom.Rectangle;doodle.Sprite=function(a){var g=arguments.length,o,l,u=[],r=0,v=0,A=0,w=0,B=0,s=0;dc_check=u;l=typeof a==="string"?Object.create(doodle.Node(a)):Object.create(doodle.Node());if(g===1&&typeof arguments[0]==="function"){o=arguments[0];a=undefined}else if(g>1)throw new SyntaxError("[object Sprite]: Invalid number of parameters.");Object.defineProperties(l,
y);Object.defineProperties(l,{width:function(){var f=0;return{enumerable:true,configurable:false,get:function(){return f},set:function(k){f=k}}}(),height:function(){var f=0;return{enumerable:true,configurable:false,get:function(){return f},set:function(k){f=k}}}(),getBounds:{enumerable:true,writable:true,configurable:false,value:function(f){var k=e(),q=this.width,m=this.height,n=this.localToGlobal({x:r,y:v}),p=this.localToGlobal({x:r+q,y:v});q=this.localToGlobal({x:r+q,y:v+m});m=this.localToGlobal({x:r,
y:v+m});n=f.globalToLocal(n);p=f.globalToLocal(p);q=f.globalToLocal(q);m=f.globalToLocal(m);k.left=Math.min(n.x,p.x,q.x,m.x);k.right=Math.max(n.x,p.x,q.x,m.x);k.top=Math.min(n.y,p.y,q.y,m.y);k.bottom=Math.max(n.y,p.y,q.y,m.y);return k}},hitArea:function(){var f=null;return{enumerable:true,configurable:false,get:function(){return f===null?this.getBounds(this):f},set:function(k){f=k=k===false?null:k}}}(),hitTestObject:{enumerable:true,writable:true,configurable:false,value:function(f){return this.getBounds(this).intersects(f.getBounds(this))}},
hitTestPoint:{enumerable:true,writable:true,configurable:false,value:function(f){return this.getBounds(this).containsPoint(this.globalToLocal(f))}},context:{get:function(){for(var f=this.parent;f;){if(f.context){f=f.context;i(f,this+".context (traversal)");return f}f=f.parent}return null}},__draw:{enumerable:false,writable:false,configurable:false,value:function(f){u.forEach(function(k){k.call(l,f)})}},debug:{enumerable:true,configurable:false,value:Object.create(null,{boundingBox:function(){var f=
"rgb(0, 0, 255)";return{enumerable:true,configurable:false,get:function(){return d(f)},set:function(k){f=b(k)}}}()})},graphics:{value:Object.create(null,{draw:{enumerable:false,writable:false,configurable:false,value:function(f){u.push(f)}.bind(l)},clear:{enumerable:false,writable:false,configurable:false,value:function(){for(var f=u.length;(f-=1)>=0;)u.splice(f,1);B=s=r=v=A=w=this.height=this.width=0}.bind(l)},rect:{enumerable:false,writable:false,configurable:false,value:function(f,k,q,m){r=Math.min(0,
f,r);v=Math.min(0,k,v);A=Math.max(0,f,f+q,A);w=Math.max(0,k,k+m,w);this.width=-r+A;this.height=-v+w;u.push(function(n){n.beginPath();n.rect(f,k,q,m);n.closePath();n.stroke()})}.bind(l)},circle:{enumerable:false,writable:false,configurable:false,value:function(f,k,q){r=Math.min(0,-q+f,r);v=Math.min(0,-q+k,v);A=Math.max(0,f,f+q,A);w=Math.max(0,k,k+q,w);this.width=-r+A;this.height=-v+w;u.push(function(m){m.beginPath();m.arc(f,k,q,0,6.283185307179586,true);m.closePath();m.stroke()})}.bind(l)},ellipse:{enumerable:false,
writable:false,configurable:false,value:function(f,k,q,m){m=m===undefined?q:m;var n=q/2,p=m/2,t=0.5522847498*n,C=0.5522847498*p;r=Math.min(0,-n+f,r);v=Math.min(0,-p+k,v);A=Math.max(0,f,f+n,A);w=Math.max(0,k,k+p,w);this.width=-r+A;this.height=-v+w;u.push(function(x){x.beginPath();x.moveTo(f+n,k);x.bezierCurveTo(f+n,k-C,f+t,k-p,f,k-p);x.bezierCurveTo(f-t,k-p,f-n,k-C,f-n,k);x.bezierCurveTo(f-n,k+C,f-t,k+p,f,k+p);x.bezierCurveTo(f+t,k+p,f+n,k+C,f+n,k);x.closePath();x.stroke()})}.bind(l)},roundRect:{enumerable:false,
writable:false,configurable:false,value:function(f,k,q,m,n,p){n=n===undefined?0:n;p=p===undefined?0:p;var t=f+q,C=t-n,x=f+n,D=k+m,E=D-p,F=k+p;r=Math.min(0,f,r);v=Math.min(0,k,v);A=Math.max(0,f,f+q,A);w=Math.max(0,k,k+m,w);this.width=-r+A;this.height=-v+w;u.push(function(z){z.beginPath();z.moveTo(x,k);z.beginPath();z.lineTo(C,k);z.quadraticCurveTo(t,k,t,F);z.lineTo(t,E);z.quadraticCurveTo(t,D,C,D);z.lineTo(x,D);z.quadraticCurveTo(f,D,f,E);z.lineTo(f,F);z.quadraticCurveTo(f,k,x,k);z.closePath();z.stroke()})}.bind(l)},
moveTo:{enumerable:false,writable:false,configurable:false,value:function(f,k){u.push(function(q){q.moveTo(f,k)});B=f;s=k}.bind(l)},lineTo:{enumerable:false,writable:false,configurable:false,value:function(f,k){r=Math.min(0,f,B,r);v=Math.min(0,k,s,v);A=Math.max(0,f,B,A);w=Math.max(0,k,s,w);this.width=A-r;this.height=w-v;u.push(function(q){q.lineTo(f,k)});B=f;s=k}.bind(l)},curveTo:{enumerable:false,writable:false,configurable:false,value:function(f,k){var q=B,m=s,n=f.x,p=f.y,t=k.x,C=k.y,x,D=0,E=0;
x=(q-n)/(q-2*n+t);if(0<=x&&x<=1)D=(1-x)*(1-x)*q+2*(1-x)*x*n+x*x*t;x=(m-p)/(m-2*p+C);if(0<=x&&x<=1)E=(1-x)*(1-x)*m+2*(1-x)*x*p+x*x*C;r=Math.min(0,q,D,t,r);v=Math.min(0,m,E,C,v);A=Math.max(0,q,D,t,A);w=Math.max(0,m,E,C,w);this.width=-r+A;this.height=-v+w;u.push(function(F){F.quadraticCurveTo(n,p,t,C)});B=t;s=C}.bind(l)},bezierCurveTo:{enumerable:false,writable:false,configurable:false,value:function(f,k,q){var m=Math.pow,n=Math.max,p=Math.min,t=B,C=s,x=f.x,D=f.y,E=k.x,F=k.y,z=q.x,H=q.y,G,I=q=k=0,J=
0;for(f=0.1;f<1;f+=0.1){G=m(1-f,3)*t+3*m(1-f,2)*f*x+3*m(1-f,1)*m(f,2)*E+m(f,3)*z;if(G>k)k=G;if(G<q)q=G;G=m(1-f,3)*C+3*m(1-f,2)*f*D+3*m(1-f,1)*m(f,2)*F+m(f,3)*H;if(G>I)I=G;if(G<J)J=G}r=p(0,t,q,z,r);v=p(0,C,J,H,v);A=n(0,t,k,z,A);w=n(0,C,I,H,w);this.width=-r+A;this.height=-v+w;u.push(function(K){K.bezierCurveTo(x,D,E,F,z,H)});B=z;s=H}.bind(l)},beginFill:{enumerable:false,writable:false,configurable:false,value:function(f,k){k=k===undefined?1:k;u.push(function(q){q.fillStyle=b(f,k)})}.bind(l)},beginGradientFill:{enumerable:true,
writable:false,configurable:false,value:function(){var f=doodle.GradientType.LINEAR,k=doodle.GradientType.RADIAL;return function(q,m,n,p,t,C){u.push(function(x){var D=doodle.utils.hex_to_rgb_str,E,F=p.length,z=0;if(q===f)E=x.createLinearGradient(m.x,m.y,n.x,n.y);else if(q===k)E=x.createRadialGradient(m.x,m.y,m.radius,n.x,n.y,n.radius);else throw new TypeError(this+".graphics.beginGradientFill(*type*, point1, point2, ratios, colors, alphas): Unknown gradient type.");for(;z<F;z+=1)E.addColorStop(p[z],
D(t[z],C[z]));x.fillStyle=E})}.bind(l)}()},beginPatternFill:{enumerable:true,writable:false,configurable:false,value:function(f,k){var q=null,m,n;n=doodle.Pattern;var p=doodle.Event;k=k===undefined?n.REPEAT:k;if(k!==n.REPEAT&&k!==n.NO_REPEAT&&k!==n.REPEAT_X&&k!==n.REPEAT_Y)throw new SyntaxError(this+".graphics.beginPatternFill(image,*repeat*): Invalid pattern repeat type.");if(typeof f==="string"&&f[0]==="#")f=j(f,this+".beginPatternFill");if(typeof f==="string"){m=new Image;m.src=encodeURI(f)}else if(f&&
f.tagName==="IMG")m=f;else throw new TypeError(this+".graphics.beginPatternFill(*image*,repeat): Parameter must be an src url, image object, or element id.");if(m.complete)q=m;else{m.onload=function(){q=m;this.dispatchEvent(p(p.LOAD))}.bind(this);n=function(){throw new URIError(this+".graphics.beginPatternFill(*image*,repeat): Unable to load "+m.src);}.bind(this);m.onerror=n;m.onabort=n}u.push(function(t){t.fillStyle=q?t.createPattern(q,k):"rgba(0,0,0,0)"})}.bind(l)},lineStyle:{enumerable:true,writable:false,
configurable:false,value:function(f,k,q,m,n,p){f=f===undefined?1:f;k=k===undefined?"#000000":k;q=q===undefined?1:q;m=m===undefined?doodle.LineCap.BUTT:m;n=n===undefined?doodle.LineJoin.MITER:n;p=p===undefined?10:p;if(typeof k==="string"||typeof k==="number")k=b(k,q);else throw new TypeError(this+".graphics.lineStyle(thickness,*color*,alpha,caps,joints,miterLimit): Color must be a hex value.");u.push(function(t){t.lineWidth=f;t.strokeStyle=k;t.lineCap=m;t.lineJoin=n;t.miterLimit=p})}.bind(l)},beginPath:{enumerable:false,
writable:false,configurable:false,value:function(){u.push(function(f){f.beginPath();f.moveTo(B,s)})}},closePath:{enumerable:false,writable:false,configurable:false,value:function(){u.push(function(f){f.closePath();f.stroke()});s=B=0}},endFill:{enumerable:false,writable:false,configurable:false,value:function(){u.push(function(f){f.fill()})}},stroke:{enumerable:false,writable:false,configurable:false,value:function(){u.push(function(f){f.stroke()});s=B=0}}})}});o&&o.call(l);return l};h=doodle.Sprite.isSprite=
function(a){return a.toString()==="[object Sprite]"};c=doodle.Sprite.inheritsSprite=function(a){for(;a;)if(h(a))return true;else{if(typeof a!=="object")return false;a=Object.getPrototypeOf(a)}return false};doodle.utils.types.check_sprite_type=function(a,g,o){if(c(a))return true;else{g=g===undefined?"check_sprite_type":g;o=o===undefined?"":"("+o+")";throw new TypeError(g+o+": Parameter must inherit from Sprite.");}};(function(){y={rotation:{enumerable:true,configurable:false,get:function(){return this.transform.rotation*
180/Math.PI},set:function(a){this.transform.rotation=a*Math.PI/180}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Sprite]"}},compose:{enumerable:false,writable:false,configurable:false,value:function(a,g,o,l){this.x=a;this.y=g;this.width=o;this.height=l;return this}}}})()})();
(function(){var y;doodle.ElementNode=function(h){var c=arguments.length,b,d=Object.create(doodle.Node());if(c===1&&typeof arguments[0]==="function"){b=arguments[0];h=undefined}else if(c>1)throw new SyntaxError("[object ElementNode]: Invalid number of parameters.");Object.defineProperties(d,y);Object.defineProperties(d,{element:{get:function(){return h},set:function(i){h=i}}});b&&b.call(d);return d};(function(){var h=doodle.utils.get_style_property;y={id:{get:function(){return this.element.id},set:function(c){this.element.id=
c}},width:{get:function(){return this.element.width},set:function(c){this.element.width=c}},height:{get:function(){return this.element.height},set:function(c){this.element.height=c}},alpha:{get:function(){var c=this.element.style.backgroundColor,b=1;if(/rgba\(.*\)/.test(c))b=parseFloat(parseFloat(c.split(/,/g)[3]).toFixed(2));return b},set:function(c){var b=this.element.style.backgroundColor.match(/(\d{1,3})/g);this.element.style.backgroundColor="rgba("+b[0]+","+b[1]+","+b[2]+","+c+")"}},visible:{get:function(){switch(h(this.element,
"visibility")){case "visible":return true;case "hidden":return false;default:throw Error(this+".visible: Unable to determine visibility.");}},set:function(c){this.element.style.visibility=c?"visible":"hidden"}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object ElementNode]"}}}})()})();
(function(){var y,h,c,b=0;doodle.Layer=function(d,i){var j=arguments.length,e,a=Object.create(doodle.ElementNode());if(j===1&&typeof arguments[0]==="function"){e=arguments[0];d=undefined}else if(j>2)throw new SyntaxError("[object Layer]: Invalid number of parameters.");Object.defineProperties(a,y);Object.defineProperties(a,{element:{get:function(){return i},set:function(g){i=g}}});a.element=i||document.createElement("canvas");a.element.style.position="absolute";e&&e.call(a);if(!a.id){a.id=typeof d===
"string"?d:"layer"+String("00"+b).slice(-2);b+=1}return a};h=doodle.Layer.isLayer=function(d){return d.toString()==="[object Layer]"};c=doodle.Layer.inheritsLayer=function(d){for(;d;)if(h(d))return true;else{if(typeof d!=="object")return false;d=Object.getPrototypeOf(d)}return false};doodle.utils.types.check_layer_type=function(d,i){if(c(d))return true;else{i=i===undefined?"check_layer_type":i;throw new TypeError(i+": Parameter must be a layer.");}};(function(){y={context:{get:function(){return this.element.getContext("2d")}},
toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Layer]"}}}})()})();
(function(){var y,h=doodle.utils.get_element,c=doodle.Sprite.inheritsSprite,b=doodle.Event,d=b.ENTER_FRAME,i=b(d),j=doodle.EventDispatcher.dispatcher_queue;doodle.Display=function(e){function a(){g(w);j.forEach(function(m){if(m.hasEventListener(d)){i.__setTarget(m);m.handleEvent(i)}});o(w);B+=1;k&&k.update()}function g(){w.children.forEach(function(m){var n=m.context;n.save();n.setTransform(1,0,0,1,0,0);n.clearRect(0,0,m.width,m.height);n.restore()})}function o(m,n){var p;m.children.forEach(function(t){if(t.visible){n=
n||t.context;p=t.transform.toArray();n.save();n.transform(p[0],p[1],p[2],p[3],p[4],p[5]);if(q){var C=n;if(typeof t.getBounds==="function"){var x=t.getBounds(w);C.save();C.setTransform(1,0,0,1,0,0);C.lineWidth=0.5;C.strokeStyle=t.debug.boundingBox;C.strokeRect(x.x,x.y,x.width,x.height);C.restore()}}if(t.alpha!==1)n.globalAlpha=t.alpha;typeof t.__draw==="function"&&t.__draw(n);o(t,n);n.restore()}})}function l(){g(w);o(w)}function u(m){var n=doodle.EventDispatcher.dispatcher_queue,p=doodle.MouseEvent,
t=p.MOUSE_OVER,C=p.MOUSE_OUT,x=p.MOUSE_MOVE,D=p(m),E=D.type,F=false;n.forEach(function(z){if(c(z)){var H=z.getBounds(w).containsPoint({x:D.offsetX,y:D.offsetY});D.__setTarget(null);if(H&&z.hasEventListener(E)){z.dispatchEvent(D);F=true}if(H&&z.hasEventListener(t))if(!z.__mouse_over){z.__mouse_over=true;D.__setType(t);z.dispatchEvent(D);F=true}if(!H&&z.hasEventListener(C))if(z.__mouse_over){z.__mouse_over=false;D.__setType(C);z.dispatchEvent(D);F=true}}else if(z.hasEventListener(E)){D.__setTarget(null);
z.dispatchEvent(D);F=true}});n.forEach(function(z){if(z===w&&!F&&z.hasEventListener(x)){E===x&&D.__setType(x);D.__setTarget(null);z.dispatchEvent(D);F=true}})}function r(m){var n=doodle.EventDispatcher.dispatcher_queue,p=doodle.KeyboardEvent(m);n.forEach(function(t){t.hasEventListener(p.type)&&t.handleEvent(p)})}var v=arguments.length,A,w=Object.create(doodle.ElementNode()),B=0,s=0,f=0,k=null,q=false;if(v===1&&typeof arguments[0]==="function"){A=arguments[0];e=undefined}else if(v>1)throw new SyntaxError("[object Display]: Invalid number of parameters.");
Object.defineProperties(w,y);Object.defineProperties(w,{element:{get:function(){return e},set:function(m){var n=h(m,"[object Display]"),p;e=n;e.style.position="relative";this.root=this;m=n.getAttribute("width");n=n.getAttribute("height");if(m)this.width=parseInt(m);if(n)this.height=parseInt(n);for(p in doodle.MouseEvent)e.addEventListener(doodle.MouseEvent[p],u,false);e.addEventListener(doodle.MouseEvent.MOUSE_MOVE,function(t){s=t.offsetX;f=t.offsetY});document.addEventListener(doodle.KeyboardEvent.KEY_PRESS,
r,false);document.addEventListener(doodle.KeyboardEvent.KEY_DOWN,r,false);document.addEventListener(doodle.KeyboardEvent.KEY_UP,r,false)}},frameRate:function(){var m=false,n;return{get:function(){return m},set:function(p){if(p===0||p===false){m=false;clearInterval(n)}else if(typeof p==="number"&&isFinite(1E3/p)){m=p;clearInterval(n);n=setInterval(a,1E3/m)}else throw new TypeError("[object Display].frameRate: Parameter must be a valid number or false.");}}}(),mouseX:{enumerable:false,configurable:false,
get:function(){return s}},mouseY:{enumerable:false,configurable:false,get:function(){return f}},debug:{enumerable:true,configurable:false,value:Object.create(null,{stats:{enumerable:true,configurable:false,get:function(){return k?true:false},set:function(m){if(m&&!k){k=new Stats;w.element.appendChild(k.domElement)}else if(!m&&k){w.element.removeChild(k.domElement);k=null}}},boundingBox:{enumerable:true,configurable:false,get:function(){return q},set:function(m){q=m}}})}});if(A)A.call(w);else w.element=
e;if(!w.element)throw new ReferenceError("[object Display]: Requires a HTML element.");w.addEventListener(b.ADDED,l);w.addEventListener(b.REMOVED,l);l();return w};(function(){y={width:{get:function(){return parseInt(this.element.style.width)},set:function(e){this.element.style.width=e+"px";this.children.forEach(function(a){a.width=e})}},height:{get:function(){return parseInt(this.element.style.height)},set:function(e){this.element.style.height=e+"px";this.children.forEach(function(a){a.height=e})}},
toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Display]"}},toDataUrl:{value:function(){}},backgroundColor:{get:function(){var e=this.element.style.backgroundColor;if(/rgba?.*/.test(e))e=doodle.utils.rgb_str_to_hex(e);return e},set:function(e){if(typeof e==="number")e=doodle.utils.hex_to_rgb_str(e);this.element.style.backgroundColor=e}},backgroundImage:{get:function(){var e=this.element.style.backgroundImage.match(/^url\((.*)\)$/);return e?e[1]:false},
set:function(e){var a=this.element.style;if(!a.backgroundRepeat||/(\srepeat\s)|(\srepeat-[xy]\s)/.test(a.background))a.backgroundRepeat="no-repeat";a.backgroundImage="url("+e+")"}},addChildAt:{value:function(e,a){e.parent!==null&&e.parent!==this&&e.parent.removeChild(node);e.root=this;e.parent=this;e.width=this.width;e.height=this.height;this.children.splice(a,0,e);this.element.appendChild(e.element);return this}},removeChildAt:{enumerable:false,writable:false,configurable:false,value:function(e){var a=
this.children[e];a.root=null;a.parent=null;this.children.splice(e,1);this.element.removeChild(a.element)}},swapChildrenAt:{enumerable:false,writable:false,configurable:false,value:function(e,a){var g=this.children;g[e]=g.splice(a,1,g[e])[0];e>a?this.element.insertBefore(g[a].element,g[e].element):this.element.insertBefore(g[e].element,g[a].element)}},addLayer:{value:function(e){e=doodle.Layer(e);this.addChild(e);return e}},removeLayer:{value:function(e){this.removeChildById(e)}}}})()})();
