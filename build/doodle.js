var doodle={};doodle.geom={};if(typeof Function.prototype.bind!=="function")Function.prototype.bind=function(m){var l=this;return function(){return l.apply(m,arguments)}};
doodle.utils={rgb_to_hex:function(m,l,f){m=(f|l<<8|m<<16).toString(16);return"#"+String("000000"+m).slice(-6)},rgb_str_to_hex:function(m){m=this.rgb_str_to_rgb(m);return this.rgb_to_hex(parseInt(m[1],10),parseInt(m[2],10),parseInt(m[3],10))},rgb_to_rgb_str:function(m,l,f,a){a=a===undefined?1:a;a=a<0?0:a>1?1:a;return a===1?"rgb("+m+","+l+","+f+")":"rgba("+m+","+l+","+f+","+a+")"},rgb_str_to_rgb:function(){var m=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?(.*)\)$/;return function(l){l=
l.trim().match(m);var f=[parseInt(l[1],10),parseInt(l[2],10),parseInt(l[3],10)];l=parseFloat(l[4]);typeof l==="number"&&!isNaN(l)&&f.push(l);return f}}(),hex_to_rgb:function(m){if(typeof m==="string"){m=m[0]==="#"?m.slice(1):m;m=parseInt(m,16)}return[m>>16&255,m>>8&255,m&255]},hex_to_rgb_str:function(m,l){l=l===undefined?1:l;m=doodle.utils.hex_to_rgb(m);return doodle.utils.rgb_to_rgb_str(m[0],m[1],m[2],l)}};
doodle.utils.types=function(){function m(l,f,a){if(typeof l!=="string")throw new TypeError("throw_type_error: type must be a string.");f=f===undefined?"throw_type_error":f;a=a===undefined?"":"("+a+")";throw new TypeError(f+a+": Parameter must be a "+l+".");}return{check_number_type:function(l,f,a){return typeof l==="number"?true:m("number",f||"check_number_type",a)},check_boolean_type:function(l,f,a){return typeof l==="boolean"?true:m("boolean",f||"check_boolean_type",a)},check_string_type:function(l,
f,a){return typeof l==="string"?true:m("string",f||"check_string_type",a)},check_function_type:function(l,f,a){return typeof l==="function"?true:m("function",f||"check_function_type",a)},check_array_type:function(l,f,a){return Array.isArray(l)?true:m("array",f||"check_array_type",a)},check_event_type:function(l,f,a){if(l&&(l.toString()==="[object Event]"||l.toString()==="[object UIEvent]"||l.toString()==="[object MouseEvent]"||l.toString()==="[object KeyboardEvent]"||l.toString()==="[object TextEvent]"))return true;
else m("event",f||"check_event_type",a)},check_canvas_type:function(l,f,a){return l&&l.toString()==="[object HTMLCanvasElement]"?true:m("canvas element",f||"check_canvas_type",a)},check_context_type:function(l,f,a){return l&&l.toString()==="[object CanvasRenderingContext2D]"?true:m("canvas context",f||"check_context_type",a)},check_block_element:function(l,f,a){try{return doodle.utils.get_style_property(l,"display")==="block"?true:m("HTML block element",f||"check_block_type",a)}catch(c){m("HTML block element",
f||"check_block_type",a)}}}}();doodle.utils.get_element=function(m,l){var f;if(typeof m==="string"){m=m[0]==="#"?m.slice(1):m;f=document.getElementById(m)}else f=m;if(!f){l=l===undefined?"get_element":l;throw new ReferenceError(l+": Unable to get HTML element: "+m);}return f};
doodle.utils.get_style_property=function(m,l){try{if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(m,null)[l];else if(m.currentStyle)return m.currentStyle[l];else if(m.style)return m.style[l];else throw new ReferenceError("get_style_property: Cannot read property '"+l+"' of "+m+".");}catch(f){throw new ReferenceError("get_style_property: Cannot read property '"+l+"' of "+m+".");}};
var Stats=function(){function m(t,o){var p,r,v;for(r=0;r<30;r++)for(p=0;p<73;p++){v=(p+r*74)*4;t[v]=t[v+4];t[v+1]=t[v+5];t[v+2]=t[v+6]}for(r=0;r<30;r++){v=(73+r*74)*4;if(r<o){t[v]=16;t[v+1]=16;t[v+2]=48}else{t[v]=0;t[v+1]=255;t[v+2]=255}}}var l,f="fps",a=0,c=(new Date).getTime(),j=c,i=c,d=0,b=1E3,n=0,h,g,s,q,w=0,A=1E3,x=0,B,u,e,k;l=document.createElement("div");l.style.fontFamily="Helvetica, Arial, sans-serif";l.style.fontSize="9px";l.style.backgroundColor="#000020";l.style.opacity="0.9";l.style.width=
"80px";l.style.paddingTop="2px";l.style.cursor="pointer";l.addEventListener("click",function(){switch(f){case "fps":f="ms";h.style.display="none";g.style.display="none";B.style.display="block";u.style.display="block";break;case "ms":f="fps";h.style.display="block";g.style.display="block";B.style.display="none";u.style.display="none";break}},false);h=document.createElement("div");h.innerHTML="<strong>FPS</strong>";h.style.color="#00ffff";h.style.marginLeft="3px";h.style.marginBottom="3px";l.appendChild(h);
g=document.createElement("canvas");g.width=74;g.height=30;g.style.display="block";g.style.marginLeft="3px";g.style.marginBottom="3px";l.appendChild(g);s=g.getContext("2d");s.fillStyle="#101030";s.fillRect(0,0,g.width,g.height);q=s.getImageData(0,0,g.width,g.height);B=document.createElement("div");B.innerHTML="<strong>MS</strong>";B.style.color="#00ffff";B.style.marginLeft="3px";B.style.marginBottom="3px";B.style.display="none";l.appendChild(B);u=document.createElement("canvas");u.width=74;u.height=
30;u.style.display="block";u.style.marginLeft="3px";u.style.marginBottom="3px";u.style.display="none";l.appendChild(u);e=u.getContext("2d");e.fillStyle="#101030";e.fillRect(0,0,u.width,u.height);k=e.getImageData(0,0,u.width,u.height);return{domElement:l,update:function(){a++;c=(new Date).getTime();w=c-j;A=Math.min(A,w);x=Math.max(x,w);m(k.data,Math.min(30,30-w/200*30));B.innerHTML="<strong>"+w+" MS</strong> ("+A+"-"+x+")";e.putImageData(k,0,0);j=c;if(c>i+1E3){d=Math.round(a*1E3/(c-i));b=Math.min(b,
d);n=Math.max(n,d);m(q.data,Math.min(30,30-d/100*30));h.innerHTML="<strong>"+d+" FPS</strong> ("+b+"-"+n+")";s.putImageData(q,0,0);i=c;a=0}}}};
Object.defineProperty(doodle,"Keyboard",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{BACKSPACE:{enumerable:true,writable:false,configurable:false,value:8},TAB:{enumerable:true,writable:false,configurable:false,value:9},ENTER:{enumerable:true,writable:false,configurable:false,value:13},COMMAND:{enumerable:true,writable:false,configurable:false,value:15},SHIFT:{enumerable:true,writable:false,configurable:false,value:16},CONTROL:{enumerable:true,writable:false,configurable:false,
value:17},ALTERNATE:{enumerable:true,writable:false,configurable:false,value:18},PAUSE:{enumerable:true,writable:false,configurable:false,value:19},CAPS_LOCK:{enumerable:true,writable:false,configurable:false,value:20},NUMPAD:{enumerable:true,writable:false,configurable:false,value:21},ESCAPE:{enumerable:true,writable:false,configurable:false,value:27},SPACE:{enumerable:true,writable:false,configurable:false,value:32},PAGE_UP:{enumerable:true,writable:false,configurable:false,value:33},PAGE_DOWN:{enumerable:true,
writable:false,configurable:false,value:34},END:{enumerable:true,writable:false,configurable:false,value:35},HOME:{enumerable:true,writable:false,configurable:false,value:36},LEFT:{enumerable:true,writable:false,configurable:false,value:37},UP:{enumerable:true,writable:false,configurable:false,value:38},RIGHT:{enumerable:true,writable:false,configurable:false,value:39},DOWN:{enumerable:true,writable:false,configurable:false,value:40},INSERT:{enumerable:true,writable:false,configurable:false,value:45},
DELETE:{enumerable:true,writable:false,configurable:false,value:46},NUMBER_0:{enumerable:true,writable:false,configurable:false,value:48},NUMBER_1:{enumerable:true,writable:false,configurable:false,value:49},NUMBER_2:{enumerable:true,writable:false,configurable:false,value:50},NUMBER_3:{enumerable:true,writable:false,configurable:false,value:51},NUMBER_4:{enumerable:true,writable:false,configurable:false,value:52},NUMBER_5:{enumerable:true,writable:false,configurable:false,value:53},NUMBER_6:{enumerable:true,
writable:false,configurable:false,value:54},NUMBER_7:{enumerable:true,writable:false,configurable:false,value:55},NUMBER_8:{enumerable:true,writable:false,configurable:false,value:56},NUMBER_9:{enumerable:true,writable:false,configurable:false,value:57},A:{enumerable:true,writable:false,configurable:false,value:65},B:{enumerable:true,writable:false,configurable:false,value:66},C:{enumerable:true,writable:false,configurable:false,value:67},D:{enumerable:true,writable:false,configurable:false,value:68},
E:{enumerable:true,writable:false,configurable:false,value:69},F:{enumerable:true,writable:false,configurable:false,value:70},G:{enumerable:true,writable:false,configurable:false,value:71},H:{enumerable:true,writable:false,configurable:false,value:72},I:{enumerable:true,writable:false,configurable:false,value:73},J:{enumerable:true,writable:false,configurable:false,value:74},K:{enumerable:true,writable:false,configurable:false,value:75},L:{enumerable:true,writable:false,configurable:false,value:76},
M:{enumerable:true,writable:false,configurable:false,value:77},N:{enumerable:true,writable:false,configurable:false,value:78},O:{enumerable:true,writable:false,configurable:false,value:79},P:{enumerable:true,writable:false,configurable:false,value:80},Q:{enumerable:true,writable:false,configurable:false,value:81},R:{enumerable:true,writable:false,configurable:false,value:82},S:{enumerable:true,writable:false,configurable:false,value:83},T:{enumerable:true,writable:false,configurable:false,value:84},
U:{enumerable:true,writable:false,configurable:false,value:85},V:{enumerable:true,writable:false,configurable:false,value:86},W:{enumerable:true,writable:false,configurable:false,value:87},X:{enumerable:true,writable:false,configurable:false,value:88},Y:{enumerable:true,writable:false,configurable:false,value:89},Z:{enumerable:true,writable:false,configurable:false,value:90},WINDOWS_KEY:{enumerable:true,writable:false,configurable:false,value:91},NUMPAD_0:{enumerable:true,writable:false,configurable:false,
value:96},NUMPAD_1:{enumerable:true,writable:false,configurable:false,value:97},NUMPAD_2:{enumerable:true,writable:false,configurable:false,value:98},NUMPAD_3:{enumerable:true,writable:false,configurable:false,value:99},NUMPAD_4:{enumerable:true,writable:false,configurable:false,value:100},NUMPAD_5:{enumerable:true,writable:false,configurable:false,value:101},NUMPAD_6:{enumerable:true,writable:false,configurable:false,value:102},NUMPAD_7:{enumerable:true,writable:false,configurable:false,value:103},
NUMPAD_8:{enumerable:true,writable:false,configurable:false,value:104},NUMPAD_9:{enumerable:true,writable:false,configurable:false,value:105},NUMPAD_MULTIPLY:{enumerable:true,writable:false,configurable:false,value:106},NUMPAD_ADD:{enumerable:true,writable:false,configurable:false,value:107},NUMPAD_ENTER:{enumerable:true,writable:false,configurable:false,value:108},NUMPAD_SUBTRACT:{enumerable:true,writable:false,configurable:false,value:109},NUMPAD_DECIMAL:{enumerable:true,writable:false,configurable:false,
value:110},NUMPAD_DIVIDE:{enumerable:true,writable:false,configurable:false,value:111},F1:{enumerable:true,writable:false,configurable:false,value:112},F2:{enumerable:true,writable:false,configurable:false,value:113},F3:{enumerable:true,writable:false,configurable:false,value:114},F4:{enumerable:true,writable:false,configurable:false,value:115},F5:{enumerable:true,writable:false,configurable:false,value:116},F6:{enumerable:true,writable:false,configurable:false,value:117},F7:{enumerable:true,writable:false,
configurable:false,value:118},F8:{enumerable:true,writable:false,configurable:false,value:119},F9:{enumerable:true,writable:false,configurable:false,value:120},F10:{enumerable:true,writable:false,configurable:false,value:121},F11:{enumerable:true,writable:false,configurable:false,value:122},F12:{enumerable:true,writable:false,configurable:false,value:123},F13:{enumerable:true,writable:false,configurable:false,value:124},F14:{enumerable:true,writable:false,configurable:false,value:125},F15:{enumerable:true,
writable:false,configurable:false,value:126},SCROLL:{enumerable:true,writable:false,configurable:false,value:145},SEMICOLON:{enumerable:true,writable:false,configurable:false,value:186},EQUAL:{enumerable:true,writable:false,configurable:false,value:187},COMMA:{enumerable:true,writable:false,configurable:false,value:188},MINUS:{enumerable:true,writable:false,configurable:false,value:189},PERIOD:{enumerable:true,writable:false,configurable:false,value:190},SLASH:{enumerable:true,writable:false,configurable:false,
value:191},BACKQUOTE:{enumerable:true,writable:false,configurable:false,value:192},LEFTBRACKET:{enumerable:true,writable:false,configurable:false,value:219},BACKSLASH:{enumerable:true,writable:false,configurable:false,value:220},RIGHTBRACKET:{enumerable:true,writable:false,configurable:false,value:221},QUOTE:{enumerable:true,writable:false,configurable:false,value:222}})});
Object.defineProperty(doodle,"GradientType",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{LINEAR:{enumerable:true,writable:false,configurable:false,value:"linearGradient"},RADIAL:{enumerable:true,writable:false,configurable:false,value:"radialGradient"}})});
Object.defineProperty(doodle,"Pattern",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{REPEAT:{enumerable:true,writable:false,configurable:false,value:"repeat"},REPEAT_X:{enumerable:true,writable:false,configurable:false,value:"repeat-x"},REPEAT_Y:{enumerable:true,writable:false,configurable:false,value:"repeat-y"},NO_REPEAT:{enumerable:true,writable:false,configurable:false,value:"no-repeat"}})});
Object.defineProperty(doodle,"LineCap",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{BUTT:{enumerable:true,writable:false,configurable:false,value:"butt"},ROUND:{enumerable:true,writable:false,configurable:false,value:"round"},SQUARE:{enumerable:true,writable:false,configurable:false,value:"square"}})});
Object.defineProperty(doodle,"LineJoin",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{MITER:{enumerable:true,writable:false,configurable:false,value:"miter"},ROUND:{enumerable:true,writable:false,configurable:false,value:"round"},BEVEL:{enumerable:true,writable:false,configurable:false,value:"bevel"}})});
(function(){var m={},l,f;doodle.Event=function(a,c,j){var i=arguments.length,d=Object.create(m),b=false,n=false,h=false,g=false,s=0,q=null,w=null,A=new Date,x=null,B=true;if(i===1&&f(arguments[0])){i=arguments[0];a=i.type;c=i.bubbles;j=i.cancelable;h=i.cancelBubble;g=i.defaultPrevented;s=i.eventPhase;q=i.target;w=i.currentTarget;A=i.timeStamp;x=i.srcElement;B=i.returnValue;if(i.__cancel)b=i.__cancel;if(i.__cancelNow)n=i.__cancelNow}else if(i===0||i>3)throw new SyntaxError("[object Event]: Invalid number of parameters.");
Object.defineProperties(d,l);Object.defineProperties(d,{bubbles:{enumerable:true,configurable:false,get:function(){return c}},cancelBubble:{enumerable:true,configurable:false,get:function(){return h},set:function(u){h=u}},cancelable:{enumerable:true,configurable:false,get:function(){return j}},__cancel:{enumerable:false,configurable:false,get:function(){return b}},__cancelNow:{enumerable:false,configurable:false,get:function(){return n}},currentTarget:{enumerable:true,configurable:false,get:function(){return w}},
__setCurrentTarget:{enumerable:false,value:function(u){w=u}},target:{enumerable:true,configurable:false,get:function(){return q}},__setTarget:{enumerable:false,value:function(u){q=u}},eventPhase:{enumerable:true,configurable:false,get:function(){return s}},__setEventPhase:{enumerable:false,value:function(u){s=u}},srcElement:{enumerable:true,configurable:false,get:function(){return x}},timeStamp:{enumerable:true,configurable:false,get:function(){return A}},type:{enumerable:true,configurable:false,
get:function(){return a}},__setType:{enumerable:false,value:function(u){a=u}},returnValue:{enumerable:true,configurable:false,get:function(){return B}},initEvent:{enumerable:true,configurable:false,value:function(u,e,k){e=e===true;k=k===true;a=u;c=e;j=k;return this}},preventDefault:{enumerable:true,configurable:false,value:function(){g=true}},stopPropagation:{enumerable:true,configurable:false,value:function(){if(this.cancelable)b=true;else throw Error(this+".stopPropagation: Event can not be cancelled.");
}},stopImmediatePropagation:{enumerable:true,configurable:false,value:function(){if(this.cancelable)n=b=true;else throw Error(this+".stopImmediatePropagation: Event can not be cancelled.");}}});d.initEvent(a,c,j);return d};(function(){var a=Object.getPrototypeOf(document.createEvent("Event"));for(var c in a)if(typeof a[c]!=="function")m[c]=a[c];l={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object Event]"}}}})();f=doodle.Event.isEvent=function(a){if(typeof a!==
"object")return false;else a=a.toString();return a==="[object Event]"||a==="[object UIEvent]"||a==="[object MouseEvent]"||a==="[object KeyboardEvent]"||a==="[object TextEvent]"||a==="[object WheelEvent]"}})();
(function(){var m,l=doodle.Event.isEvent;doodle.UIEvent=function(f,a,c,j,i){var d=arguments.length,b=0,n=0,h=0,g=0,s=0,q=0,w=0;if(d===1&&l(arguments[0])){d=arguments[0];f=d.type;a=d.bubbles;c=d.cancelable;j=d.view;i=d.detail;b=d.which||0;n=d.charCode||0;h=d.keyCode||0;g=d.layerX||0;s=d.layerY||0;q=d.pageX||0;w=d.pageY||0;d=Object.create(doodle.Event(d))}else if(d===0||d>5)throw new SyntaxError("[object UIEvent]: Invalid number of parameters.");else{a=a===true;c=c===true;d=Object.create(doodle.Event(f,
a,c))}Object.defineProperties(d,m);Object.defineProperties(d,{view:{enumerable:true,configurable:false,get:function(){return j}},detail:{enumerable:true,configurable:false,get:function(){return i}},which:{enumerable:true,configurable:false,get:function(){return b}},charCode:{enumerable:true,configurable:false,get:function(){return n}},keyCode:{enumerable:true,configurable:false,get:function(){return h}},layerX:{enumerable:true,configurable:false,get:function(){return g}},layerY:{enumerable:true,configurable:false,
get:function(){return s}},pageX:{enumerable:true,configurable:false,get:function(){return q}},pageY:{enumerable:true,configurable:false,get:function(){return w}},initUIEvent:{value:function(A,x,B,u,e){f=A;a=x===true;c=B===true;j=u===undefined?null:u;i=e===undefined?0:e;this.initEvent(f,a,c);return this}}});d.initUIEvent(f,a,c,j,i);return d};m={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object UIEvent]"}}}})();
(function(){var m,l=doodle.Event.isEvent,f=doodle.utils.types.check_string_type;doodle.MouseEvent=function(a,c,j,i,d,b,n,h,g,s,q,w,A,x,B){var u=arguments.length,e=0,k=0,t=0,o=0;if(u===1&&l(arguments[0])){u=arguments[0];a=u.type;c=u.bubbles;j=u.cancelable;i=u.view;d=u.detail;b=u.screenX;n=u.screenY;h=u.clientX;g=u.clientY;s=u.ctrlKey;q=u.altKey;w=u.shiftKey;A=u.metaKey;x=u.button;B=u.relatedTarget;e=u.x||0;k=u.y||0;t=u.offsetX||0;o=u.offsetY||0;u=Object.create(doodle.UIEvent(u))}else if(u===0||u>15)throw new SyntaxError("[object MouseEvent]: Invalid number of parameters.");
else{c=c===true;j=j===true;i=i===undefined?null:i;d=d===undefined?0:d;u=Object.create(doodle.UIEvent(a,c,j,i,d))}Object.defineProperties(u,m);Object.defineProperties(u,{x:{enumerable:true,configurable:false,get:function(){return e}},y:{enumerable:true,configurable:false,get:function(){return k}},screenX:{enumerable:true,configurable:false,get:function(){return b}},screenY:{enumerable:true,configurable:false,get:function(){return n}},clientX:{enumerable:true,configurable:false,get:function(){return h}},
clientY:{enumerable:true,configurable:false,get:function(){return g}},offsetX:{enumerable:true,configurable:false,get:function(){return t}},offsetY:{enumerable:true,configurable:false,get:function(){return o}},ctrlKey:{enumerable:true,configurable:false,get:function(){return s}},altKey:{enumerable:true,configurable:false,get:function(){return q}},shiftKey:{enumerable:true,configurable:false,get:function(){return w}},metaKey:{enumerable:true,configurable:false,get:function(){return A}},button:{enumerable:true,
configurable:false,get:function(){return x}},relatedTarget:{enumerable:true,configurable:false,get:function(){return B}},initMouseEvent:{value:function(p,r,v,C,y,D,E,F,z,H,G,I,J,K,L){c=r===true;j=v===true;i=C===undefined?null:C;d=y===undefined?0:y;b=D===undefined?0:D;n=E===undefined?0:E;h=F===undefined?0:F;g=z===undefined?0:z;s=H===true;q=G===true;w=I===true;A=J===true;x=K===undefined?0:K;B=L===undefined?null:L;this.initUIEvent(a,c,j,i,d);return this}},getModifierState:{value:function(p){f(p,this+
".getModifierState");switch(p){case "Alt":return q;case "Control":return s;case "Meta":return A;case "Shift":return w;default:return false}}}});u.initMouseEvent(a,c,j,i,d,b,n,h,g,s,q,w,A,x,B);return u};m={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object MouseEvent]"}}}})();
(function(){var m,l=doodle.Event.isEvent;doodle.TextEvent=function(f,a,c,j,i,d){var b=arguments.length;if(b===1&&l(arguments[0])){b=arguments[0];f=b.type;a=b.bubbles;c=b.cancelable;j=b.view;i=b.data;d=b.inputMode;b=Object.create(doodle.UIEvent(b))}else if(b===0||b>6)throw new SyntaxError("[object TextEvent]: Invalid number of parameters.");else{a=a===true;c=c===true;j=viewArg===undefined?null:j;b=Object.create(doodle.UIEvent(f,a,c,j))}Object.defineProperties(b,m);Object.defineProperties(b,{data:{enumerable:true,
configurable:false,get:function(){return i}},inputMode:{enumerable:true,configurable:false,get:function(){return d}},initTextEvent:{value:function(n,h,g,s,q,w){f=n;a=h===true;c=g===true;j=s===undefined?null:s;i=q===undefined?"":q;d=w===undefined?doodle.TextEvent.INPUT_METHOD_UNKNOWN:w;this.initUIEvent(f,a,c,j);return this}}});b.initTextEvent(f,a,c,j,i,d);return b};m={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object TextEvent]"}}}})();
(function(){var m,l=doodle.Event.isEvent,f=doodle.utils.types.check_string_type;doodle.KeyboardEvent=function(a,c,j,i,d,b,n,h){var g=arguments.length,s=false,q=false,w=false,A=false;if(g===1&&l(arguments[0])){g=arguments[0];a=g.type;c=g.bubbles;j=g.cancelable;i=g.view;d=g.keyIdentifier;b=g.keyLocation;h=g.repeat;s=g.ctrlKey||false;q=g.shiftKey||false;w=g.altKey||false;A=g.metaKey||false;g=Object.create(doodle.UIEvent(g))}else if(g===0||g>8)throw new SyntaxError("[object KeyboardEvent]: Invalid number of parameters.");
else{c=c===true;j=j===true;i=i===undefined?null:i;g=Object.create(doodle.UIEvent(a,c,j,i))}Object.defineProperties(g,m);Object.defineProperties(g,{keyIdentifier:{enumerable:true,configurable:false,get:function(){return d}},keyLocation:{enumerable:true,configurable:false,get:function(){return b}},repeat:{enumerable:true,configurable:false,get:function(){return h}},altKey:{enumerable:true,configurable:false,get:function(){return w}},ctrlKey:{enumerable:true,configurable:false,get:function(){return s}},
metaKey:{enumerable:true,configurable:false,get:function(){return A}},shiftKey:{enumerable:true,configurable:false,get:function(){return q}},initKeyboardEvent:{value:function(x,B,u,e,k,t,o,p){a=x;c=B===true;j=u===true;i=e===undefined?null:e;d=k===undefined?"":k;b=t===undefined?0:t;n=o===undefined?"":o;h=p===true;n.split(" ").forEach(function(r){switch(r){case "Alt":w=true;break;case "Control":s=true;break;case "Meta":A=true;break;case "Shift":q=true;break}});this.initUIEvent(a,c,j,i);return this}},
getModifierState:{value:function(x){f(x,this+".getModifierState");switch(x){case "Alt":return w;case "Control":return s;case "Meta":return A;case "Shift":return q;default:return false}}}});g.initKeyboardEvent(a,c,j,i,d,b,n,h);return g};m={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object KeyboardEvent]"}}}})();
Object.defineProperties(doodle.Event,{CAPTURING_PHASE:{enumerable:true,writable:false,configurable:false,value:1},AT_TARGET:{enumerable:true,writable:false,configurable:false,value:2},BUBBLING_PHASE:{enumerable:true,writable:false,configurable:false,value:3},ADDED:{enumerable:true,writable:false,configurable:false,value:"added"},REMOVED:{enumerable:true,writable:false,configurable:false,value:"removed"},ENTER_FRAME:{enumerable:true,writable:false,configurable:false,value:"enterFrame"},LOAD:{enumerable:true,
writable:false,configurable:false,value:"load"},CHANGE:{enumerable:true,writable:false,configurable:false,value:"change"}});Object.defineProperties(doodle.UIEvent,{FOCUS_IN:{enumerable:true,writable:false,configurable:false,value:"focusIn"}});
Object.defineProperties(doodle.MouseEvent,{CLICK:{enumerable:true,writable:false,configurable:false,value:"click"},DOUBLE_CLICK:{enumerable:true,writable:false,configurable:false,value:"dblclick"},CONTEXT_MENU:{enumerable:true,writable:false,configurable:false,value:"contextmenu"},MOUSE_DOWN:{enumerable:true,writable:false,configurable:false,value:"mousedown"},MOUSE_UP:{enumerable:true,writable:false,configurable:false,value:"mouseup"},MOUSE_WHEEL:{enumerable:true,writable:false,configurable:false,
value:"mousewheel"},MOUSE_MOVE:{enumerable:true,writable:false,configurable:false,value:"mousemove"},MOUSE_OUT:{enumerable:true,writable:false,configurable:false,value:"mouseout"},MOUSE_OVER:{enumerable:true,writable:false,configurable:false,value:"mouseover"},MOUSE_ENTER:{enumerable:true,writable:false,configurable:false,value:"mouseenter"},MOUSE_LEAVE:{enumerable:true,writable:false,configurable:false,value:"mouseleave"}});
Object.defineProperties(doodle.KeyboardEvent,{KEY_PRESS:{enumerable:true,writable:false,configurable:false,value:"keypress"},KEY_UP:{enumerable:true,writable:false,configurable:false,value:"keyup"},KEY_DOWN:{enumerable:true,writable:false,configurable:false,value:"keydown"},KEY_LOCATION_STANDARD:{enumerable:true,writable:false,configurable:false,value:0},KEY_LOCATION_LEFT:{enumerable:true,writable:false,configurable:false,value:1},KEY_LOCATION_RIGHT:{enumerable:true,writable:false,configurable:false,
value:2},KEY_LOCATION_NUMPAD:{enumerable:true,writable:false,configurable:false,value:3},KEY_LOCATION_MOBILE:{enumerable:true,writable:false,configurable:false,value:4},KEY_LOCATION_JOYSTICK:{enumerable:true,writable:false,configurable:false,value:5}});
Object.defineProperties(doodle.TextEvent,{TEXT_INPUT:{enumerable:true,writable:false,configurable:false,value:"textInput"},INPUT_METHOD_UNKNOWN:{enumerable:true,writable:false,configurable:false,value:0},INPUT_METHOD_KEYBOARD:{enumerable:true,writable:false,configurable:false,value:1},INPUT_METHOD_PASTE:{enumerable:true,writable:false,configurable:false,value:2},INPUT_METHOD_DROP:{enumerable:true,writable:false,configurable:false,value:3},INPUT_METHOD_IME:{enumerable:true,writable:false,configurable:false,
value:4},INPUT_METHOD_OPTION:{enumerable:true,writable:false,configurable:false,value:5},INPUT_METHOD_HANDWRITING:{enumerable:true,writable:false,configurable:false,value:6},INPUT_METHOD_VOICE:{enumerable:true,writable:false,configurable:false,value:7},INPUT_METHOD_MULTIMODAL:{enumerable:true,writable:false,configurable:false,value:8},INPUT_METHOD_SCRIPT:{enumerable:true,writable:false,configurable:false,value:9}});
(function(){var m,l;doodle.geom.Point=function(f,a){var c=arguments.length,j,i={};if(c===1&&typeof arguments[0]==="function"){j=arguments[0];f=undefined}else if(c>2)throw new SyntaxError("[object Point]: Invalid number of parameters.");Object.defineProperties(i,m);Object.defineProperties(i,{x:{enumerable:true,configurable:false,get:function(){return f},set:function(d){f=d}},y:{enumerable:true,configurable:false,get:function(){return a},set:function(d){a=d}}});if(j)if(typeof j==="function"){i.compose(0,
0);j.call(i)}else if(Array.isArray(j)&&j.length===2)i.compose.apply(i,j);else if(l(j))i.compose(j.x,j.y);else throw new SyntaxError(this+": Passed an invalid initializer object.");else switch(c){case 0:i.compose(0,0);break;case 2:i.compose(f,a);break;default:throw new SyntaxError(this+": Invalid number of parameters.");}return i};l=doodle.geom.Point.isPoint=function(f){return f&&typeof f.x==="number"&&typeof f.y==="number"};doodle.utils.types.check_point_type=function(f,a,c){if(l(f))return true;else{a=
a===undefined?"check_point_type":a;c=c===undefined?"":"("+c+")";throw new TypeError(a+c+": Parameter must be a point.");}};(function(){var f=doodle.geom.Point;m={length:{enumerable:true,configurable:false,get:function(){return this.distance({x:0,y:0},this)}},compose:{enumerable:false,writable:false,configurable:false,value:function(a,c){this.x=a;this.y=c;return this}},clone:{enumerable:false,writable:false,configurable:false,value:function(){return f(this.x,this.y)}},toArray:{enumerable:false,writable:false,
configurable:false,value:function(){var a=Array(2);a[0]=this.x;a[1]=this.y;return a}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"(x="+this.x+", y="+this.y+")"}},distance:{enumerable:false,writable:false,configurable:false,value:function(a,c){var j=c.x-a.x,i=c.y-a.x;return Math.sqrt(j*j+i*i)}},normalize:{enumerable:false,writable:false,configurable:false,value:function(a){var c=this.length;this.x=this.x/c*a;this.y=this.y/c*a;return this}},equals:{enumerable:false,
writable:false,configurable:false,value:function(a){return this&&point&&this.x===a.x&&this.y===a.y||!this&&!a}},interpolate:{enumerable:false,writable:false,configurable:false,value:function(a,c,j){return f(a.x+(c.x-a.x)*j,a.y+(c.y-a.y)*j)}},polar:{enumerable:false,writable:false,configurable:false,value:function(a,c){return f(a*Math.cos(c),a*Math.sin(c))}},add:{enumerable:false,writable:false,configurable:false,value:function(a){return f(this.x+a.x,this.y+a.y)}},subtract:{enumerable:false,writable:false,
configurable:false,value:function(a){return f(this.x-a.x,this.y-a.y)}},offset:{enumerable:false,writable:false,configurable:false,value:function(a,c){this.x+=a;this.y+=c;return this}}}})()})();
(function(){var m,l;doodle.geom.Matrix=function(f,a,c,j,i,d){var b=arguments.length,n,h={};if(b===1){n=arguments[0];f=undefined}else if(b>6)throw new SyntaxError("[object Matrix]: Invalid number of parameters.");Object.defineProperties(h,m);Object.defineProperties(h,{a:{enumerable:true,configurable:false,get:function(){return f},set:function(g){f=g}},b:{enumerable:true,configurable:false,get:function(){return a},set:function(g){a=g}},c:{enumerable:true,configurable:false,get:function(){return c},
set:function(g){c=g}},d:{enumerable:true,configurable:false,get:function(){return j},set:function(g){j=g}},tx:{enumerable:true,configurable:false,get:function(){return i},set:function(g){i=g}},ty:{enumerable:true,configurable:false,get:function(){return d},set:function(g){d=g}}});if(n)if(typeof n==="function"){h.identity();n.call(h)}else if(Array.isArray(n)&&n.length===6)h.compose.apply(h,n);else if(l(n))h.compose(n.a,n.b,n.c,n.d,n.tx,n.ty);else throw new SyntaxError("[object Matrix]: Passed an invalid initializer object.");
else switch(b){case 0:h.identity();break;case 6:h.compose(f,a,c,j,i,d);break;default:throw new SyntaxError("[object Matrix]: Invalid number of parameters.");}return h};l=doodle.geom.Matrix.isMatrix=function(f){return f!==undefined&&f!==null&&typeof f.a==="number"&&typeof f.b==="number"&&typeof f.c==="number"&&typeof f.d==="number"&&typeof f.tx==="number"&&typeof f.ty==="number"};doodle.utils.types.check_matrix_type=function(f,a){if(l(f))return true;else{a=a===undefined?"check_matrix_type":a;throw new TypeError(a+
": Parameter must be a matrix.");}};(function(){var f=doodle.geom.Matrix,a=doodle.geom.Point,c=Math.sin,j=Math.cos,i=Math.atan2,d=Math.tan;m={compose:{enumerable:false,writable:false,configurable:false,value:function(b,n,h,g,s,q){this.a=b;this.b=n;this.c=h;this.d=g;this.tx=s;this.ty=q;return this}},toArray:{enumerable:false,writable:false,configurable:false,value:function(){var b=Array(6);b[0]=this.a;b[1]=this.b;b[2]=this.c;b[3]=this.d;b[4]=this.tx;b[5]=this.ty;return b}},toString:{enumerable:false,
writable:false,configurable:false,value:function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}},equals:{enumerable:false,writable:false,configurable:false,value:function(b){return this&&b&&this.a===b.a&&this.b===b.b&&this.c===b.c&&this.d===b.d&&this.tx===b.tx&&this.ty===b.ty||!this&&!b}},identity:{enumerable:false,writable:false,configurable:false,value:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this}},clone:{enumerable:false,
writable:false,configurable:false,value:function(){return f(this.a,this.b,this.c,this.d,this.tx,this.ty)}},multiply:{enumerable:false,writable:false,configurable:false,value:function(b){return this.compose(this.a*b.a+this.c*b.b,this.b*b.a+this.d*b.b,this.a*b.c+this.c*b.d,this.b*b.c+this.d*b.d,this.a*b.tx+this.c*b.ty+this.tx,this.b*b.tx+this.d*b.ty+this.ty)}},rotate:{enumerable:false,writable:false,configurable:false,value:function(b){var n=j(b);b=c(b);return this.multiply(f(n,b,-b,n,0,0))}},deltaRotate:{enumerable:false,
writable:false,configurable:false,value:function(b){var n=this.tx,h=this.ty;this.rotate(b);this.tx=n;this.ty=h;return this}},rotation:{enumerable:true,configurable:false,get:function(){return i(this.b,this.a)},set:function(b){var n=j(b);b=c(b);return this.compose(n,b,-b,n,this.tx,this.ty)}},scale:{enumerable:false,writable:false,configurable:false,value:function(b,n){return this.multiply(f(b,0,0,n,0,0))}},deltaScale:{enumerable:false,writable:false,configurable:false,value:function(b,n){var h=this.tx,
g=this.ty;this.scale(b,n);this.tx=h;this.ty=g;return this}},translate:{enumerable:false,writable:false,configurable:false,value:function(b,n){this.tx+=b;this.ty+=n;return this}},skew:{enumerable:false,writable:false,configurable:false,value:function(b,n){var h=d(b),g=d(n);return this.multiply(f(1,g,h,1,0,0))}},deltaSkew:{enumerable:false,writable:false,configurable:false,value:function(b,n){var h=this.tx,g=this.ty;this.skew(b,n);this.tx=h;this.ty=g;return this}},add:{enumerable:false,writable:false,
configurable:false,value:function(b){this.a+=b.a;this.b+=b.b;this.c+=b.c;this.d+=b.d;this.tx+=b.tx;this.ty+=b.ty;return this}},invert:{enumerable:false,writable:false,configurable:false,value:function(){var b=this.a*this.d-this.b*this.c;return this.compose(this.d/b,-this.b/b,-this.c/b,this.a/b,(this.ty*this.c-this.d*this.tx)/b,-(this.ty*this.a-this.b*this.tx)/b)}},transformPoint:{enumerable:false,writable:false,configurable:false,value:function(b){return a(this.a*b.x+this.c*b.y+this.tx,this.b*b.x+
this.d*b.y+this.ty)}},deltaTransformPoint:{enumerable:false,writable:false,configurable:false,value:function(b){return a(this.a*b.x+this.c*b.y,this.b*b.x+this.d*b.y)}},rotateAroundExternalPoint:{enumerable:false,writable:false,configurable:false,value:function(b,n){var h=f().rotate(n),g,s=b.x,q=b.y;this.translate(-s,-q);g=h.transformPoint({x:this.tx,y:this.ty});this.tx=g.x;this.ty=g.y;return this.multiply(h).translate(s,q)}},rotateAroundInternalPoint:{enumerable:false,writable:false,configurable:false,
value:function(b,n){return this.rotateAroundExternalPoint(this.transformPoint(b),n)}},matchInternalPointWithExternal:{enumerable:false,writable:false,configurable:false,value:function(b,n){var h=this.transformPoint(b);return this.translate(n.x-h.x,n.y-h.y)}},interpolate:{enumerable:false,writable:false,configurable:false,value:function(b,n){this.a+=(b.a-this.a)*n;this.b+=(b.b-this.b)*n;this.c+=(b.c-this.c)*n;this.d+=(b.d-this.d)*n;this.tx+=(b.tx-this.tx)*n;this.ty+=(b.ty-this.ty)*n;return this}}}})()})();
(function(){var m,l;doodle.geom.Rectangle=function(f,a,c,j){var i=arguments.length,d,b={};if(i===1&&typeof arguments[0]==="function"){d=arguments[0];f=undefined}else if(i>4)throw new SyntaxError("[object Rectangle]: Invalid number of parameters.");Object.defineProperties(b,m);Object.defineProperties(b,{x:{enumerable:true,configurable:false,get:function(){return f},set:function(n){f=n}},y:{enumerable:true,configurable:false,get:function(){return a},set:function(n){a=n}},width:{enumerable:true,configurable:false,
get:function(){return c},set:function(n){c=n}},height:{enumerable:true,configurable:false,get:function(){return j},set:function(n){j=n}}});if(d)if(typeof d==="function"){b.identity();d.call(b)}else if(isRectangle(d))b.compose(d.x,d.y,d.width,d.height);else throw new SyntaxError("[object Rectangle]: Passed an invalid initializer object.");else switch(i){case 0:b.compose(0,0,0,0);break;case 4:b.compose(f,a,c,j);break;default:throw new SyntaxError("[object Rectangle]: Invalid number of parameters.");
}return b};l=doodle.geom.Rectangle.isRect=function(f){return typeof f.x==="number"&&typeof f.y==="number"&&typeof f.width==="number"&&typeof f.height==="number"&&typeof f.top==="number"&&typeof f.bottom==="number"&&typeof f.left==="number"&&typeof f.right==="number"};doodle.utils.types.check_rect_type=function(f,a){if(l(f))return true;else{a=a===undefined?"check_rect_type":a;throw new TypeError(a+": Parameter must be a rectangle.");}};(function(){var f=doodle.geom.Rectangle;m={top:{enumerable:true,
configurable:false,get:function(){return this.y},set:function(a){this.y=a;this.height-=a}},right:{enumerable:true,configurable:false,get:function(){return this.x+this.width},set:function(a){this.width=a-this.x}},bottom:{enumerable:true,configurable:false,get:function(){return this.y+this.height},set:function(a){this.height=a-this.y}},left:{enumerable:true,configurable:false,get:function(){return this.x},set:function(a){this.x=a;this.width-=a}},clone:{enumerable:false,writable:false,configurable:false,
value:function(){return f(this.x,this.y,this.width,this.height)}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"(x="+this.x+", y="+this.y+", w="+this.width+", h="+this.height+")"}},toArray:{enumerable:false,writable:false,configurable:false,value:function(){return[this.top,this.right,this.bottom,this.left]}},compose:{enumerable:false,writable:false,configurable:false,value:function(a,c,j,i){this.x=a;this.y=c;this.width=j;this.height=i;return this}},offset:{enumerable:false,
writable:false,configurable:false,value:function(a,c){this.x+=a;this.y+=c;return this}},inflate:{enumerable:false,writable:false,configurable:false,value:function(a,c){this.x-=a;this.width+=2*a;this.y-=c;this.height+=2*c;return this}},equals:{enumerable:false,writable:false,configurable:false,value:function(a){return this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height}},isEmpty:{enumerable:false,writable:false,configurable:false,value:function(){return this.width>=0||this.height>=
0}},containsPoint:{enumerable:false,writable:false,configurable:false,value:function(a){var c=a.x;a=a.y;return c>=this.left&&c<=this.right&&a>=this.top&&a<=this.bottom}},containsRect:{enumerable:false,writable:false,configurable:false,value:function(a){return this.containsPoint({x:a.x,y:a.y})&&this.containsPoint({x:a.right,y:a.y})&&this.containsPoint({x:a.right,y:a.bottom})&&this.containsPoint({x:a.x,y:a.bottom})}},intersects:{enumerable:false,writable:false,configurable:false,value:function(a){return this.containsPoint({x:a.x,
y:a.y})||this.containsPoint({x:a.right,y:a.y})||this.containsPoint({x:a.right,y:a.bottom})||this.containsPoint({x:a.x,y:a.bottom})}},intersection:{enumerable:false,writable:false,configurable:false,value:function(a){var c=f();if(this.intersects(a)){c.left=Math.max(this.left,a.left);c.top=Math.max(this.top,a.top);c.right=Math.min(this.right,a.right);c.bottom=Math.min(this.bottom,a.bottom)}return c}},union:{enumerable:false,writable:false,configurable:false,value:function(a){var c=f();c.left=Math.min(this.left,
a.left);c.top=Math.min(this.top,a.top);c.right=Math.max(this.right,a.right);c.bottom=Math.max(this.bottom,a.bottom);return c}}}})()})();
(function(){var m,l;doodle.EventDispatcher=function(){var f=arguments.length,a,c={},j={};if(f===1&&typeof arguments[0]==="function")a=arguments[0];else if(f>0)throw new SyntaxError("[object EventDispatcher]: Invalid number of parameters.");Object.defineProperties(c,m);Object.defineProperties(c,{eventListeners:{enumerable:true,configurable:false,get:function(){return j}}});a&&a.call(c);return c};doodle.EventDispatcher.dispatcher_queue=[];l=doodle.EventDispatcher.isEventDispatcher=function(f){return f.toString()===
"[object EventDispatcher]"};doodle.EventDispatcher.inheritsEventDispatcher=function(f){for(;f;)if(l(f))return true;else{if(typeof f!=="object")return false;f=Object.getPrototypeOf(f)}return false};doodle.utils.types.check_eventdispatcher_type=function(f,a,c){if(doodle.EventDispatcher.inheritsEventDispatcher(f))return true;else{a=a===undefined?"check_eventdispatcher_type":a;c=c===undefined?"":"("+c+")";throw new TypeError(a+c+": Parameter must be an EventDispatcher.");}};(function(){var f=doodle.EventDispatcher.dispatcher_queue,
a=doodle.utils.types.check_function_type;m={toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object EventDispatcher]"}},modify:{enumerable:false,writable:false,configurable:false,value:function(c){c.call(this);return this}},addEventListener:{enumerable:false,writable:false,configurable:false,value:function(c,j,i){i=i===true;var d=this;this.eventListeners[c]||(this.eventListeners[c]={capture:[],bubble:[]});this.eventListeners[c][i?"capture":"bubble"].push(j);f.every(function(b){return d!==
b})&&f.push(d)}},removeEventListener:{enumerable:false,writable:false,configurable:false,value:function(c,j,i){i=i===true;if(this.eventListeners[c]){var d=this.eventListeners[c];i=d[i?"capture":"bubble"];i.splice(i.indexOf(j),1);d.capture.length===0&&d.bubble.length===0&&delete this.eventListeners[c];Object.keys(this.eventListeners).length===0&&f.splice(f.indexOf(this),1)}}},handleEvent:{enumerable:false,writable:false,configurable:false,value:function(c){var j=c.eventPhase===doodle.Event.CAPTURING_PHASE?
"capture":"bubble",i=this.eventListeners[c.type],d=0,b;if((i=i&&i[j])&&i.length>0){c.__setCurrentTarget(this);d=i.length;for(b=0;b<d;b+=1){a(i[b],this+".handleEvent::listeners["+b+"]");j=i[b].call(this,c);if(j===false||c.returnValue===false)c.__cancel||c.stopPropagation();if(c.__cancelNow)break}}return d>0?true:false}},dispatchEvent:{enumerable:true,writable:false,configurable:false,value:function(c){var j,i,d=[],b;if(c.__cancel)return false;c.target||c.__setTarget(this);j=c.target;for(i=j.parent||
null;i;){d.push(i);i=i.parent}c.__setEventPhase(c.CAPTURING_PHASE);for(b=i=d.length;(b-=1)>=0;){d[b].handleEvent(c);if(c.__cancel)return true}c.__setEventPhase(c.AT_TARGET);j.handleEvent(c);if(c.__cancel)return true;if(!c.bubbles||c.cancelBubble)return true;c.__setEventPhase(c.BUBBLING_PHASE);for(b=0;b<i;b+=1){d[b].handleEvent(c);if(c.__cancel||c.cancelBubble)return true}return true}},broadcastEvent:{enumerable:true,writable:false,configurable:false,value:function(c){var j,i,d;if(c.__cancel)throw Error(this+
".broadcastEvent: Can not dispatch a cancelled event.");c.target||c.__setTarget(this);j=f.filter(function(b){return b.hasEventListener(c.type)});d=0;for(i=j.length;d<i;d+=1){j[d].handleEvent(c);if(c.__cancel)break}return true}},hasEventListener:{enumerable:false,writable:false,configurable:false,value:function(c){return this.eventListeners!==null&&this.eventListeners.hasOwnProperty(c)}},willTrigger:{enumerable:false,writable:false,configurable:false,value:function(c){if(this.hasEventListener(c))return true;
else if(!this.children||this.children.length===0)return false;else for(var j in this.children)if(this.children[j].willTrigger(c))return true;return false}}}})()})();
(function(){var m,l=0,f,a,c;doodle.Node=function(j){var i=arguments.length,d,b=Object.create(doodle.EventDispatcher()),n=[],h=doodle.geom.Matrix(),g=null,s=null;if(i===1&&typeof arguments[0]==="function"){d=arguments[0];j=undefined}else if(i>1)throw new SyntaxError("[object Node]: Invalid number of parameters.");Object.defineProperties(b,m);Object.defineProperties(b,{id:{enumerable:true,configurable:false,get:function(){return j},set:function(q){j=q}},root:{enumerable:true,configurable:false,get:function(){return g},
set:function(q){g=q}},parent:{enumerable:true,configurable:false,get:function(){return s},set:function(q){s=q}},children:{enumerable:false,configurable:false,get:function(){return n}},transform:{enumerable:false,configurable:false,get:function(){return h},set:function(q){h=q}},visible:function(){var q=true;return{enumerable:true,configurable:false,get:function(){return q},set:function(w){q=w}}}(),alpha:function(){var q=1;return{enumerable:true,configurable:false,get:function(){return q},set:function(w){q=
w>1?1:w<0?0:w}}}()});if(d){b.id="node"+String("000"+l).slice(-3);d.call(b)}else b.id=j!==undefined?j:"node"+String("000"+l).slice(-3);l+=1;return b};f=doodle.Node.isNode=function(j){return j.toString()==="[object Node]"};a=doodle.Node.inheritsNode=function(j){for(;j;)if(f(j))return true;else{if(typeof j!=="object")return false;j=Object.getPrototypeOf(j)}return false};doodle.utils.types.check_node_type=function(j,i,d){if(a(j))return true;else{i=i===undefined?"check_node_type":i;d=d===undefined?"":
"("+d+")";throw new TypeError(i+d+": Parameter must be a Node.");}};c=doodle.Node.inDisplayList=function(j){for(;j;){if(j.context)return true;j=j.parent}return false};(function(){function j(h,g,s){h.children.forEach(function(q){typeof s==="function"&&s(q);q.dispatchEvent(d(g,true));j(q,g,s)})}var i=doodle.geom.Point,d=doodle.Event,b=180/Math.PI,n=Math.PI/180;m={x:{enumerable:true,configurable:false,get:function(){return this.transform.tx},set:function(h){this.transform.tx=h}},y:{enumerable:true,configurable:false,
get:function(){return this.transform.ty},set:function(h){this.transform.ty=h}},axis:{value:{x:this.x,y:this.y}},rotate:{value:function(h){this.axis.x!==undefined&&this.axis.y!==undefined?this.transform.rotateAroundInternalPoint(this.axis,h*n):this.transform.rotate(h*n)}},rotation:{enumerable:true,configurable:false,get:function(){return this.transform.rotation*b},set:function(h){this.transform.rotation=h*n}},scaleX:{enumerable:true,configurable:false,get:function(){return this.transform.a},set:function(h){this.transform.a=
h}},scaleY:{enumerable:true,configurable:false,get:function(){return this.transform.d},set:function(h){this.transform.d=h}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Node]"}},addChildAt:{enumerable:false,writable:false,configurable:false,value:function(h,g){if(this.children.indexOf(h)!==-1)return false;if(h.root!==this.root)h.root=this.root;h.parent!==null&&h.parent!==this&&h.parent.removeChild(h);h.parent=this;this.children.splice(g,0,h);if(c(h)){h.dispatchEvent(d(d.ADDED,
true));j(h,d.ADDED)}return h}},addChild:{enumerable:false,writable:false,configurable:false,value:function(h){return this.addChildAt(h,this.children.length)}},removeChildAt:{enumerable:false,writable:false,configurable:false,value:function(){function h(g,s){var q=g.getBounds(g.root);s&&s.clearRect(q.x,q.y,q.width,q.height);g.root=null}return function(g){var s=this.children[g],q=s.context;this.children.splice(g,1);if(q){h(s,q);s.dispatchEvent(d(d.REMOVED,true));j(s,d.REMOVED,function(w){h(w,q)})}s.root=
null;s.parent=null}}()},removeChild:{enumerable:false,writable:false,configurable:false,value:function(h){this.removeChildAt(this.children.indexOf(h))}},removeChildById:{enumerable:false,writable:false,configurable:false,value:function(h){this.removeChild(this.getChildById(h))}},removeAllChildren:{enumerable:false,writable:false,configurable:false,value:function(){for(var h=this.children.length;(h-=1)>=0;)this.removeChildAt(h)}},getChildById:{enumerable:false,writable:false,configurable:false,value:function(h){return this.children.filter(function(g){return g.id===
h})[0]}},setChildIndex:{enumerable:true,writable:false,configurable:false,value:function(h,g){var s=this.children,q=s.length,w=s.indexOf(h);if(w===-1)throw new ReferenceError(this+".setChildIndex(*child*, index): "+h+" does not exist on child list.");if(g>q||g<-q)throw new RangeError(this+".setChildIndex(child, *index*): "+g+" does not exist on child list.");s.splice(w,1);s.splice(g,0,h)}},swapChildrenAt:{enumerable:false,writable:false,configurable:false,value:function(h,g){var s=this.children;s[h]=
s.splice(g,1,s[h])[0]}},swapChildren:{enumerable:false,writable:false,configurable:false,value:function(h,g){this.swapChildrenAt(this.children.indexOf(h),this.children.indexOf(g))}},swapDepths:{enumerable:false,writable:false,configurable:false,value:function(h){var g=this.parent;if(!g||!Array.isArray(g.children))throw Error(this+".swapDepths: no parent found.");else g.swapChildren(this,h)}},swapDepthAt:{enumerable:false,writable:false,configurable:false,value:function(h){var g=this.parent;if(!g||
!Array.isArray(g.children))throw Error(this+".swapDepthAt: no parent found.");else g.swapChildrenAt(h,g.children.indexOf(this))}},contains:{enumerable:false,writable:false,configurable:false,value:function(h){for(;h;){if(h===this)return true;h=h.parent}return false}},localToGlobal:{enumerable:false,writable:false,configurable:false,value:function(h){for(var g=this;g;){h=g.transform.transformPoint(h);g=g.parent}return h}},globalToLocal:{enumerable:false,writable:false,configurable:false,value:function(h){var g=
this.localToGlobal({x:0,y:0});return i(h.x-g.x,h.y-g.y)}}}})()})();
(function(){var m,l,f,a=doodle.utils.hex_to_rgb_str,c=doodle.utils.rgb_str_to_hex,j=doodle.utils.types.check_context_type,i=doodle.utils.get_element,d=doodle.geom.Rectangle;doodle.Sprite=function(b){var n=arguments.length,h,g,s=[],q=0,w=0,A=0,x=0,B=0,u=0;g=typeof b==="string"?Object.create(doodle.Node(b)):Object.create(doodle.Node());if(n===1&&typeof arguments[0]==="function"){h=arguments[0];b=undefined}else if(n>1)throw new SyntaxError("[object Sprite]: Invalid number of parameters.");Object.defineProperties(g,
m);Object.defineProperties(g,{width:function(){var e=0;return{enumerable:true,configurable:false,get:function(){return e},set:function(k){e=k}}}(),height:function(){var e=0;return{enumerable:true,configurable:false,get:function(){return e},set:function(k){e=k}}}(),getBounds:{enumerable:true,writable:true,configurable:false,value:function(e){var k=d(),t=this.width,o=this.height,p=this.localToGlobal({x:q,y:w}),r=this.localToGlobal({x:q+t,y:w});t=this.localToGlobal({x:q+t,y:w+o});o=this.localToGlobal({x:q,
y:w+o});p=e.globalToLocal(p);r=e.globalToLocal(r);t=e.globalToLocal(t);o=e.globalToLocal(o);k.left=Math.min(p.x,r.x,t.x,o.x);k.right=Math.max(p.x,r.x,t.x,o.x);k.top=Math.min(p.y,r.y,t.y,o.y);k.bottom=Math.max(p.y,r.y,t.y,o.y);return k}},hitArea:function(){var e=null;return{enumerable:true,configurable:false,get:function(){return e===null?this.getBounds(this):e},set:function(k){e=k=k===false?null:k}}}(),hitTestObject:{enumerable:true,writable:true,configurable:false,value:function(e){return this.getBounds(this).intersects(e.getBounds(this))}},
hitTestPoint:{enumerable:true,writable:true,configurable:false,value:function(e){return this.getBounds(this).containsPoint(this.globalToLocal(e))}},context:{get:function(){for(var e=this.parent;e;){if(e.context){e=e.context;j(e,this+".context (traversal)");return e}e=e.parent}return null}},__draw:{enumerable:false,writable:false,configurable:false,value:function(e){s.forEach(function(k){k.call(g,e)})}},debug:{enumerable:true,configurable:false,value:Object.create(null,{boundingBox:function(){var e=
"rgb(0, 0, 255)";return{enumerable:true,configurable:false,get:function(){return c(e)},set:function(k){e=a(k)}}}()})},graphics:{value:Object.create(null,{draw:{enumerable:false,writable:false,configurable:false,value:function(e){s.push(e)}.bind(g)},clear:{enumerable:false,writable:false,configurable:false,value:function(){for(var e=s.length;(e-=1)>=0;)s.splice(e,1);B=u=q=w=A=x=this.height=this.width=0}.bind(g)},rect:{enumerable:false,writable:false,configurable:false,value:function(e,k,t,o){q=Math.min(0,
e,q);w=Math.min(0,k,w);A=Math.max(0,e,e+t,A);x=Math.max(0,k,k+o,x);this.width=-q+A;this.height=-w+x;s.push(function(p){p.beginPath();p.rect(e,k,t,o);p.closePath();p.stroke()})}.bind(g)},circle:{enumerable:false,writable:false,configurable:false,value:function(e,k,t){q=Math.min(0,-t+e,q);w=Math.min(0,-t+k,w);A=Math.max(0,e,e+t,A);x=Math.max(0,k,k+t,x);this.width=-q+A;this.height=-w+x;s.push(function(o){o.beginPath();o.arc(e,k,t,0,6.283185307179586,true);o.closePath();o.stroke()})}.bind(g)},ellipse:{enumerable:false,
writable:false,configurable:false,value:function(e,k,t,o){o=o===undefined?t:o;var p=t/2,r=o/2,v=0.5522847498*p,C=0.5522847498*r;q=Math.min(0,-p+e,q);w=Math.min(0,-r+k,w);A=Math.max(0,e,e+p,A);x=Math.max(0,k,k+r,x);this.width=-q+A;this.height=-w+x;s.push(function(y){y.beginPath();y.moveTo(e+p,k);y.bezierCurveTo(e+p,k-C,e+v,k-r,e,k-r);y.bezierCurveTo(e-v,k-r,e-p,k-C,e-p,k);y.bezierCurveTo(e-p,k+C,e-v,k+r,e,k+r);y.bezierCurveTo(e+v,k+r,e+p,k+C,e+p,k);y.closePath();y.stroke()})}.bind(g)},roundRect:{enumerable:false,
writable:false,configurable:false,value:function(e,k,t,o,p,r){p=p===undefined?0:p;r=r===undefined?0:r;var v=e+t,C=v-p,y=e+p,D=k+o,E=D-r,F=k+r;q=Math.min(0,e,q);w=Math.min(0,k,w);A=Math.max(0,e,e+t,A);x=Math.max(0,k,k+o,x);this.width=-q+A;this.height=-w+x;s.push(function(z){z.beginPath();z.moveTo(y,k);z.beginPath();z.lineTo(C,k);z.quadraticCurveTo(v,k,v,F);z.lineTo(v,E);z.quadraticCurveTo(v,D,C,D);z.lineTo(y,D);z.quadraticCurveTo(e,D,e,E);z.lineTo(e,F);z.quadraticCurveTo(e,k,y,k);z.closePath();z.stroke()})}.bind(g)},
moveTo:{enumerable:false,writable:false,configurable:false,value:function(e,k){s.push(function(t){t.moveTo(e,k)});B=e;u=k}.bind(g)},lineTo:{enumerable:false,writable:false,configurable:false,value:function(e,k){q=Math.min(0,e,B,q);w=Math.min(0,k,u,w);A=Math.max(0,e,B,A);x=Math.max(0,k,u,x);this.width=A-q;this.height=x-w;s.push(function(t){t.lineTo(e,k)});B=e;u=k}.bind(g)},curveTo:{enumerable:false,writable:false,configurable:false,value:function(e,k){var t=B,o=u,p=e.x,r=e.y,v=k.x,C=k.y,y,D=0,E=0;
y=(t-p)/(t-2*p+v);if(0<=y&&y<=1)D=(1-y)*(1-y)*t+2*(1-y)*y*p+y*y*v;y=(o-r)/(o-2*r+C);if(0<=y&&y<=1)E=(1-y)*(1-y)*o+2*(1-y)*y*r+y*y*C;q=Math.min(0,t,D,v,q);w=Math.min(0,o,E,C,w);A=Math.max(0,t,D,v,A);x=Math.max(0,o,E,C,x);this.width=-q+A;this.height=-w+x;s.push(function(F){F.quadraticCurveTo(p,r,v,C)});B=v;u=C}.bind(g)},bezierCurveTo:{enumerable:false,writable:false,configurable:false,value:function(e,k,t){var o=Math.pow,p=Math.max,r=Math.min,v=B,C=u,y=e.x,D=e.y,E=k.x,F=k.y,z=t.x,H=t.y,G,I=t=k=0,J=
0;for(e=0.1;e<1;e+=0.1){G=o(1-e,3)*v+3*o(1-e,2)*e*y+3*o(1-e,1)*o(e,2)*E+o(e,3)*z;if(G>k)k=G;if(G<t)t=G;G=o(1-e,3)*C+3*o(1-e,2)*e*D+3*o(1-e,1)*o(e,2)*F+o(e,3)*H;if(G>I)I=G;if(G<J)J=G}q=r(0,v,t,z,q);w=r(0,C,J,H,w);A=p(0,v,k,z,A);x=p(0,C,I,H,x);this.width=-q+A;this.height=-w+x;s.push(function(K){K.bezierCurveTo(y,D,E,F,z,H)});B=z;u=H}.bind(g)},beginFill:{enumerable:false,writable:false,configurable:false,value:function(e,k){k=k===undefined?1:k;s.push(function(t){t.fillStyle=a(e,k)})}.bind(g)},beginGradientFill:{enumerable:true,
writable:false,configurable:false,value:function(){var e=doodle.GradientType.LINEAR,k=doodle.GradientType.RADIAL;return function(t,o,p,r,v,C){s.push(function(y){var D=doodle.utils.hex_to_rgb_str,E,F=r.length,z=0;if(t===e)E=y.createLinearGradient(o.x,o.y,p.x,p.y);else if(t===k)E=y.createRadialGradient(o.x,o.y,o.radius,p.x,p.y,p.radius);else throw new TypeError(this+".graphics.beginGradientFill(*type*, point1, point2, ratios, colors, alphas): Unknown gradient type.");for(;z<F;z+=1)E.addColorStop(r[z],
D(v[z],C[z]));y.fillStyle=E})}.bind(g)}()},beginPatternFill:{enumerable:true,writable:false,configurable:false,value:function(e,k){var t=null,o;o=doodle.Pattern;var p=doodle.Event;k=k===undefined?o.REPEAT:k;if(k!==o.REPEAT&&k!==o.NO_REPEAT&&k!==o.REPEAT_X&&k!==o.REPEAT_Y)throw new SyntaxError(this+".graphics.beginPatternFill(image, *repeat*): Invalid pattern repeat type.");if(typeof e==="string")if(e[0]==="#")e=i(e,this+".beginPatternFill");else(function(){var r=encodeURI(e);e=new Image;e.src=r})();
if(e.complete)t=e;else{e.onload=function(){t=e;this.dispatchEvent(p(p.LOAD))}.bind(this);o=function(){throw new URIError(this+".graphics.beginPatternFill(*image*,repeat): Unable to load "+e.src);}.bind(this);e.onerror=o;e.onabort=o}s.push(function(r){r.fillStyle=t?r.createPattern(t,k):"rgba(0,0,0,0)"})}.bind(g)},lineStyle:{enumerable:true,writable:false,configurable:false,value:function(e,k,t,o,p,r){e=e===undefined?1:e;k=k===undefined?"#000000":k;t=t===undefined?1:t;o=o===undefined?doodle.LineCap.BUTT:
o;p=p===undefined?doodle.LineJoin.MITER:p;r=r===undefined?10:r;if(typeof k==="string"||typeof k==="number")k=a(k,t);else throw new TypeError(this+".graphics.lineStyle(thickness,*color*,alpha,caps,joints,miterLimit): Color must be a hex value.");s.push(function(v){v.lineWidth=e;v.strokeStyle=k;v.lineCap=o;v.lineJoin=p;v.miterLimit=r})}.bind(g)},beginPath:{enumerable:false,writable:false,configurable:false,value:function(){s.push(function(e){e.beginPath();e.moveTo(B,u)})}},closePath:{enumerable:false,
writable:false,configurable:false,value:function(){s.push(function(e){e.closePath();e.stroke()});u=B=0}},endFill:{enumerable:false,writable:false,configurable:false,value:function(){s.push(function(e){e.fill()})}},stroke:{enumerable:false,writable:false,configurable:false,value:function(){s.push(function(e){e.stroke()});u=B=0}}})}});h&&h.call(g);return g};l=doodle.Sprite.isSprite=function(b){return b.toString()==="[object Sprite]"};f=doodle.Sprite.inheritsSprite=function(b){for(;b;)if(l(b))return true;
else{if(typeof b!=="object")return false;b=Object.getPrototypeOf(b)}return false};doodle.utils.types.check_sprite_type=function(b,n,h){if(f(b))return true;else{n=n===undefined?"check_sprite_type":n;h=h===undefined?"":"("+h+")";throw new TypeError(n+h+": Parameter must inherit from Sprite.");}};(function(){m={rotation:{enumerable:true,configurable:false,get:function(){return this.transform.rotation*180/Math.PI},set:function(b){this.transform.rotation=b*Math.PI/180}},toString:{enumerable:false,writable:false,
configurable:false,value:function(){return"[object Sprite]"}},compose:{enumerable:false,writable:false,configurable:false,value:function(b,n,h,g){this.x=b;this.y=n;this.width=h;this.height=g;return this}}}})()})();
(function(){var m;doodle.ElementNode=function(l){var f=arguments.length,a,c=Object.create(doodle.Node());if(f===1&&typeof arguments[0]==="function"){a=arguments[0];l=undefined}else if(f>1)throw new SyntaxError("[object ElementNode]: Invalid number of parameters.");Object.defineProperties(c,m);Object.defineProperties(c,{element:{get:function(){return l},set:function(j){l=j}}});a&&a.call(c);return c};(function(){var l=doodle.utils.rgb_str_to_rgb,f=doodle.utils.rgb_to_rgb_str,a=doodle.utils.get_style_property;
m={id:{get:function(){return this.element.id},set:function(c){this.element.id=c}},width:{get:function(){return this.element.width},set:function(c){this.element.width=c}},height:{get:function(){return this.element.height},set:function(c){this.element.height=c}},alpha:{get:function(){var c=l(a(this.element,"backgroundColor"))[3];return typeof c==="number"?c:1},set:function(c){var j=a(this.element,"backgroundColor");j=l(j);this.element.style.backgroundColor=f(j[0],j[1],j[2],c)}},visible:{get:function(){switch(a(this.element,
"visibility")){case "visible":return true;case "hidden":return false;default:throw Error(this+".visible: Unable to determine visibility.");}},set:function(c){this.element.style.visibility=c?"visible":"hidden"}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object ElementNode]"}}}})()})();
(function(){var m,l=0;doodle.Layer=function(f,a){var c=arguments.length,j,i=Object.create(doodle.ElementNode());if(c===1&&typeof arguments[0]==="function"){j=arguments[0];f=undefined}else if(c>2)throw new SyntaxError("[object Layer]: Invalid number of parameters.");Object.defineProperties(i,m);Object.defineProperties(i,{element:{get:function(){return a},set:function(d){a=d}},alpha:function(){var d=1;return{get:function(){return d},set:function(b){d=b<0?0:b>1?1:b}}}()});i.element=a||document.createElement("canvas");
i.element.style.position="absolute";j&&j.call(i);if(!i.id){i.id=typeof f==="string"?f:"layer"+String("00"+l).slice(-2);l+=1}return i};(function(){var f=doodle.Layer.isLayer=function(c){return c.toString()==="[object Layer]"},a=doodle.Layer.inheritsLayer=function(c){for(;c;)if(f(c))return true;else{if(typeof c!=="object")return false;c=Object.getPrototypeOf(c)}return false};doodle.utils.types.check_layer_type=function(c,j,i){if(a(c))return true;else{j=j===undefined?"check_layer_type":j;i=i===undefined?
"":"("+i+")";throw new TypeError(j+i+": Parameter must be a Layer.");}}})();m={context:{get:function(){return this.element.getContext("2d")}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Layer]"}}}})();
(function(){var m,l=doodle.utils.get_element,f=doodle.Sprite.inheritsSprite,a=doodle.Event,c=a.ENTER_FRAME,j=a(c),i=doodle.EventDispatcher.dispatcher_queue;doodle.Display=function(d){function b(){n(x);i.forEach(function(o){if(o.hasEventListener(c)){j.__setTarget(o);o.handleEvent(j)}});h(x);B+=1;k&&k.update()}function n(){x.children.forEach(function(o){var p=o.context;p.save();p.setTransform(1,0,0,1,0,0);p.clearRect(0,0,o.width,o.height);p.restore()})}function h(o,p){var r;o.children.forEach(function(v){if(v.visible){p=
p||v.context;r=v.transform.toArray();p.save();p.transform(r[0],r[1],r[2],r[3],r[4],r[5]);if(t){var C=p;if(typeof v.getBounds==="function"){var y=v.getBounds(x);C.save();C.setTransform(1,0,0,1,0,0);C.lineWidth=0.5;C.strokeStyle=v.debug.boundingBox;C.strokeRect(y.x,y.y,y.width,y.height);C.restore()}}if(v.alpha!==1)p.globalAlpha=v.alpha;typeof v.__draw==="function"&&v.__draw(p);h(v,p);p.restore()}})}function g(){n(x);h(x)}function s(o){var p=doodle.EventDispatcher.dispatcher_queue,r=doodle.MouseEvent,
v=r.MOUSE_OVER,C=r.MOUSE_OUT,y=r.MOUSE_MOVE,D=r(o),E=D.type,F=false;p.forEach(function(z){if(f(z)){var H=z.getBounds(x).containsPoint({x:D.offsetX,y:D.offsetY});D.__setTarget(null);if(H&&z.hasEventListener(E)){z.dispatchEvent(D);F=true}if(H&&z.hasEventListener(v))if(!z.__mouse_over){z.__mouse_over=true;D.__setType(v);z.dispatchEvent(D);F=true}if(!H&&z.hasEventListener(C))if(z.__mouse_over){z.__mouse_over=false;D.__setType(C);z.dispatchEvent(D);F=true}}else if(z.hasEventListener(E)){D.__setTarget(null);
z.dispatchEvent(D);F=true}});p.forEach(function(z){if(z===x&&!F&&z.hasEventListener(y)){E===y&&D.__setType(y);D.__setTarget(null);z.dispatchEvent(D);F=true}})}function q(o){var p=doodle.EventDispatcher.dispatcher_queue,r=doodle.KeyboardEvent(o);p.forEach(function(v){v.hasEventListener(r.type)&&v.handleEvent(r)})}var w=arguments.length,A,x=Object.create(doodle.ElementNode()),B=0,u=0,e=0,k=null,t=false;if(w===1&&typeof arguments[0]==="function"){A=arguments[0];d=undefined}else if(w>1)throw new SyntaxError("[object Display]: Invalid number of parameters.");
Object.defineProperties(x,m);Object.defineProperties(x,{element:{get:function(){return d},set:function(o){var p=l(o,"[object Display]"),r;d=p;d.style.position="relative";this.root=this;o=p.getAttribute("width");p=p.getAttribute("height");if(o)this.width=parseInt(o);if(p)this.height=parseInt(p);for(r in doodle.MouseEvent)d.addEventListener(doodle.MouseEvent[r],s,false);d.addEventListener(doodle.MouseEvent.MOUSE_MOVE,function(v){u=v.offsetX;e=v.offsetY});document.addEventListener(doodle.KeyboardEvent.KEY_PRESS,
q,false);document.addEventListener(doodle.KeyboardEvent.KEY_DOWN,q,false);document.addEventListener(doodle.KeyboardEvent.KEY_UP,q,false)}},frameRate:function(){var o=false,p;return{get:function(){return o},set:function(r){if(r===0||r===false){o=false;clearInterval(p)}else if(typeof r==="number"&&isFinite(1E3/r)){o=r;clearInterval(p);p=setInterval(b,1E3/o)}else throw new TypeError("[object Display].frameRate: Parameter must be a valid number or false.");}}}(),mouseX:{enumerable:false,configurable:false,
get:function(){return u}},mouseY:{enumerable:false,configurable:false,get:function(){return e}},debug:{enumerable:true,configurable:false,value:Object.create(null,{stats:{enumerable:true,configurable:false,get:function(){return k?true:false},set:function(o){if(o&&!k){k=new Stats;x.element.appendChild(k.domElement)}else if(!o&&k){x.element.removeChild(k.domElement);k=null}}},boundingBox:{enumerable:true,configurable:false,get:function(){return t},set:function(o){t=o}}})}});if(A)A.call(x);else x.element=
d;if(!x.element)throw new ReferenceError("[object Display]: Requires a HTML element.");x.addEventListener(a.ADDED,g);x.addEventListener(a.REMOVED,g);g();return x};(function(){m={width:{get:function(){return parseInt(this.element.style.width)},set:function(d){this.element.style.width=d+"px";this.children.forEach(function(b){b.width=d})}},height:{get:function(){return parseInt(this.element.style.height)},set:function(d){this.element.style.height=d+"px";this.children.forEach(function(b){b.height=d})}},
toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Display]"}},toDataUrl:{value:function(){}},backgroundColor:{get:function(){var d=this.element.style.backgroundColor;if(/rgba?.*/.test(d))d=doodle.utils.rgb_str_to_hex(d);return d},set:function(d){if(typeof d==="number")d=doodle.utils.hex_to_rgb_str(d);this.element.style.backgroundColor=d}},backgroundImage:{get:function(){var d=this.element.style.backgroundImage.match(/^url\((.*)\)$/);return d?d[1]:false},
set:function(d){var b=this.element.style;if(!b.backgroundRepeat||/(\srepeat\s)|(\srepeat-[xy]\s)/.test(b.background))b.backgroundRepeat="no-repeat";b.backgroundImage="url("+d+")"}},addChildAt:{value:function(d,b){d.parent!==null&&d.parent!==this&&d.parent.removeChild(node);d.root=this;d.parent=this;d.width=this.width;d.height=this.height;this.children.splice(b,0,d);this.element.appendChild(d.element);return this}},removeChildAt:{enumerable:false,writable:false,configurable:false,value:function(d){var b=
this.children[d];b.root=null;b.parent=null;this.children.splice(d,1);this.element.removeChild(b.element)}},swapChildrenAt:{enumerable:false,writable:false,configurable:false,value:function(d,b){var n=this.children;n[d]=n.splice(b,1,n[d])[0];d>b?this.element.insertBefore(n[b].element,n[d].element):this.element.insertBefore(n[d].element,n[b].element)}},addLayer:{value:function(d){d=doodle.Layer(d);this.addChild(d);return d}},removeLayer:{value:function(d){this.removeChildById(d)}}}})()})();
