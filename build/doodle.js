var doodle={};doodle.utils={};doodle.geom={};doodle.events={};doodle.filters={};(function(){var a=[],i=function(){var g=a.length,e=0;if(g>0){for(;e<g;e++)a[e](doodle);a.length=0}},j=function(){i();document.removeEventListener("DOMContentLoaded",j,!1)};doodle.ready=function(g){a.push(g);document.readyState==="complete"&&i()};document.readyState!=="complete"&&(document.addEventListener?document.addEventListener("DOMContentLoaded",j,!1):console.error("document.addEventListener not supported."))})();
if(typeof Function.prototype.bind!=="function")Function.prototype.bind=function(a){var i=this;return function(){return i.apply(a,arguments)}};
(function(){Object.defineProperties(doodle.utils,{hex_to_rgb:{enumerable:!0,writable:!1,configurable:!1,value:function(a){typeof a==="string"&&(a=a[0]==="#"?a.slice(1):a,a=parseInt(a,16));return[a>>16&255,a>>8&255,a&255]}},hex_to_rgb_str:{enumerable:!0,writable:!1,configurable:!1,value:function(a,i){var j=doodle.utils;i=i===void 0?1:i;a=j.hex_to_rgb(a);return j.rgb_to_rgb_str(a[0],a[1],a[2],i)}},rgb_str_to_hex:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var i=doodle.utils;a=i.rgb_str_to_rgb(a);
return i.rgb_to_hex(parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10))}},rgb_str_to_rgb:{enumerable:!0,writable:!1,configurable:!1,value:function(){var a=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?(.*)\)$/;return function(i){i=i.trim().match(a);var j=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)];i=parseFloat(i[4]);typeof i==="number"&&!isNaN(i)&&j.push(i);return j}}()},rgb_to_hex:{enumerable:!0,writable:!1,configurable:!1,value:function(a,i,j){a=(j|i<<8|a<<16).toString(16);
return"#"+String("000000"+a).slice(-6)}},rgb_to_rgb_str:{enumerable:!0,writable:!1,configurable:!1,value:function(a,i,j,g){g=g===void 0?1:g;g=g<0?0:g>1?1:g;return g===1?"rgb("+a+","+i+","+j+")":"rgba("+a+","+i+","+j+","+g+")"}},get_element:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return typeof a==="string"?(a=a[0]==="#"?a.slice(1):a,document.getElementById(a)):a&&a.tagName?a:null}},get_style_property:{enumerable:!0,writable:!1,configurable:!1,value:function(a,i,j){try{if(j===void 0&&
document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(a,null)[i];else if(a.currentStyle)return a.currentStyle[i];else if(a.style)return a.style[i];else throw new ReferenceError("get_style_property: Cannot read property '"+i+"' of "+a+".");}catch(g){throw new ReferenceError("get_style_property: Cannot read property '"+i+"' of "+a+".");}}},get_element_property:{enumerable:!0,writable:!1,configurable:!1,value:function(a,i,j,g){j=j||!1;var e;try{e=doodle.utils.get_style_property(a,
i,g)}catch(f){e=void 0}if(e===void 0||e===null||e==="")e=a.getAttribute(i);if(j!==!1)switch(j){case "int":e=parseInt(e,10);e=isNaN(e)?null:e;break;case "number":case "float":e=parseFloat(e);e=isNaN(e)?null:e;break;case "string":e=String(e)}return e}},set_element_property:{enumerable:!0,writable:!1,configurable:!1,value:function(a,i,j,g){switch(g===void 0?"css":g){case "css":a.style[i]=j;break;case "html":a.setAttribute(i,j);break;default:throw new SyntaxError("set_element_property: type must be 'css' property or 'html' attribute.");
}return j}},create_scene_path:{enumerable:!0,writable:!1,configurable:!1,value:function i(j,g,e){g=g===void 0?[]:g;var f=j.children.length;(e===void 0?0:e)&&g.splice(0,g.length);if(f!==0)for(;f--;)i(j.children[f],g,!1);g.push(j);return g}}})})();
Object.defineProperty(doodle,"Keyboard",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{BACKSPACE:{enumerable:!0,writable:!1,configurable:!1,value:8},TAB:{enumerable:!0,writable:!1,configurable:!1,value:9},ENTER:{enumerable:!0,writable:!1,configurable:!1,value:13},COMMAND:{enumerable:!0,writable:!1,configurable:!1,value:15},SHIFT:{enumerable:!0,writable:!1,configurable:!1,value:16},CONTROL:{enumerable:!0,writable:!1,configurable:!1,value:17},ALTERNATE:{enumerable:!0,writable:!1,
configurable:!1,value:18},PAUSE:{enumerable:!0,writable:!1,configurable:!1,value:19},CAPS_LOCK:{enumerable:!0,writable:!1,configurable:!1,value:20},NUMPAD:{enumerable:!0,writable:!1,configurable:!1,value:21},ESCAPE:{enumerable:!0,writable:!1,configurable:!1,value:27},SPACE:{enumerable:!0,writable:!1,configurable:!1,value:32},PAGE_UP:{enumerable:!0,writable:!1,configurable:!1,value:33},PAGE_DOWN:{enumerable:!0,writable:!1,configurable:!1,value:34},END:{enumerable:!0,writable:!1,configurable:!1,value:35},
HOME:{enumerable:!0,writable:!1,configurable:!1,value:36},LEFT:{enumerable:!0,writable:!1,configurable:!1,value:37},UP:{enumerable:!0,writable:!1,configurable:!1,value:38},RIGHT:{enumerable:!0,writable:!1,configurable:!1,value:39},DOWN:{enumerable:!0,writable:!1,configurable:!1,value:40},INSERT:{enumerable:!0,writable:!1,configurable:!1,value:45},DELETE:{enumerable:!0,writable:!1,configurable:!1,value:46},NUMBER_0:{enumerable:!0,writable:!1,configurable:!1,value:48},NUMBER_1:{enumerable:!0,writable:!1,
configurable:!1,value:49},NUMBER_2:{enumerable:!0,writable:!1,configurable:!1,value:50},NUMBER_3:{enumerable:!0,writable:!1,configurable:!1,value:51},NUMBER_4:{enumerable:!0,writable:!1,configurable:!1,value:52},NUMBER_5:{enumerable:!0,writable:!1,configurable:!1,value:53},NUMBER_6:{enumerable:!0,writable:!1,configurable:!1,value:54},NUMBER_7:{enumerable:!0,writable:!1,configurable:!1,value:55},NUMBER_8:{enumerable:!0,writable:!1,configurable:!1,value:56},NUMBER_9:{enumerable:!0,writable:!1,configurable:!1,
value:57},A:{enumerable:!0,writable:!1,configurable:!1,value:65},B:{enumerable:!0,writable:!1,configurable:!1,value:66},C:{enumerable:!0,writable:!1,configurable:!1,value:67},D:{enumerable:!0,writable:!1,configurable:!1,value:68},E:{enumerable:!0,writable:!1,configurable:!1,value:69},F:{enumerable:!0,writable:!1,configurable:!1,value:70},G:{enumerable:!0,writable:!1,configurable:!1,value:71},H:{enumerable:!0,writable:!1,configurable:!1,value:72},I:{enumerable:!0,writable:!1,configurable:!1,value:73},
J:{enumerable:!0,writable:!1,configurable:!1,value:74},K:{enumerable:!0,writable:!1,configurable:!1,value:75},L:{enumerable:!0,writable:!1,configurable:!1,value:76},M:{enumerable:!0,writable:!1,configurable:!1,value:77},N:{enumerable:!0,writable:!1,configurable:!1,value:78},O:{enumerable:!0,writable:!1,configurable:!1,value:79},P:{enumerable:!0,writable:!1,configurable:!1,value:80},Q:{enumerable:!0,writable:!1,configurable:!1,value:81},R:{enumerable:!0,writable:!1,configurable:!1,value:82},S:{enumerable:!0,
writable:!1,configurable:!1,value:83},T:{enumerable:!0,writable:!1,configurable:!1,value:84},U:{enumerable:!0,writable:!1,configurable:!1,value:85},V:{enumerable:!0,writable:!1,configurable:!1,value:86},W:{enumerable:!0,writable:!1,configurable:!1,value:87},X:{enumerable:!0,writable:!1,configurable:!1,value:88},Y:{enumerable:!0,writable:!1,configurable:!1,value:89},Z:{enumerable:!0,writable:!1,configurable:!1,value:90},WINDOWS_KEY:{enumerable:!0,writable:!1,configurable:!1,value:91},NUMPAD_0:{enumerable:!0,
writable:!1,configurable:!1,value:96},NUMPAD_1:{enumerable:!0,writable:!1,configurable:!1,value:97},NUMPAD_2:{enumerable:!0,writable:!1,configurable:!1,value:98},NUMPAD_3:{enumerable:!0,writable:!1,configurable:!1,value:99},NUMPAD_4:{enumerable:!0,writable:!1,configurable:!1,value:100},NUMPAD_5:{enumerable:!0,writable:!1,configurable:!1,value:101},NUMPAD_6:{enumerable:!0,writable:!1,configurable:!1,value:102},NUMPAD_7:{enumerable:!0,writable:!1,configurable:!1,value:103},NUMPAD_8:{enumerable:!0,writable:!1,
configurable:!1,value:104},NUMPAD_9:{enumerable:!0,writable:!1,configurable:!1,value:105},NUMPAD_MULTIPLY:{enumerable:!0,writable:!1,configurable:!1,value:106},NUMPAD_ADD:{enumerable:!0,writable:!1,configurable:!1,value:107},NUMPAD_ENTER:{enumerable:!0,writable:!1,configurable:!1,value:108},NUMPAD_SUBTRACT:{enumerable:!0,writable:!1,configurable:!1,value:109},NUMPAD_DECIMAL:{enumerable:!0,writable:!1,configurable:!1,value:110},NUMPAD_DIVIDE:{enumerable:!0,writable:!1,configurable:!1,value:111},F1:{enumerable:!0,
writable:!1,configurable:!1,value:112},F2:{enumerable:!0,writable:!1,configurable:!1,value:113},F3:{enumerable:!0,writable:!1,configurable:!1,value:114},F4:{enumerable:!0,writable:!1,configurable:!1,value:115},F5:{enumerable:!0,writable:!1,configurable:!1,value:116},F6:{enumerable:!0,writable:!1,configurable:!1,value:117},F7:{enumerable:!0,writable:!1,configurable:!1,value:118},F8:{enumerable:!0,writable:!1,configurable:!1,value:119},F9:{enumerable:!0,writable:!1,configurable:!1,value:120},F10:{enumerable:!0,
writable:!1,configurable:!1,value:121},F11:{enumerable:!0,writable:!1,configurable:!1,value:122},F12:{enumerable:!0,writable:!1,configurable:!1,value:123},F13:{enumerable:!0,writable:!1,configurable:!1,value:124},F14:{enumerable:!0,writable:!1,configurable:!1,value:125},F15:{enumerable:!0,writable:!1,configurable:!1,value:126},SCROLL:{enumerable:!0,writable:!1,configurable:!1,value:145},SEMICOLON:{enumerable:!0,writable:!1,configurable:!1,value:186},EQUAL:{enumerable:!0,writable:!1,configurable:!1,
value:187},COMMA:{enumerable:!0,writable:!1,configurable:!1,value:188},MINUS:{enumerable:!0,writable:!1,configurable:!1,value:189},PERIOD:{enumerable:!0,writable:!1,configurable:!1,value:190},SLASH:{enumerable:!0,writable:!1,configurable:!1,value:191},BACKQUOTE:{enumerable:!0,writable:!1,configurable:!1,value:192},LEFTBRACKET:{enumerable:!0,writable:!1,configurable:!1,value:219},BACKSLASH:{enumerable:!0,writable:!1,configurable:!1,value:220},RIGHTBRACKET:{enumerable:!0,writable:!1,configurable:!1,
value:221},QUOTE:{enumerable:!0,writable:!1,configurable:!1,value:222}})});Object.defineProperty(doodle,"GradientType",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{LINEAR:{enumerable:!0,writable:!1,configurable:!1,value:"linearGradient"},RADIAL:{enumerable:!0,writable:!1,configurable:!1,value:"radialGradient"}})});
Object.defineProperty(doodle,"Pattern",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{REPEAT:{enumerable:!0,writable:!1,configurable:!1,value:"repeat"},REPEAT_X:{enumerable:!0,writable:!1,configurable:!1,value:"repeat-x"},REPEAT_Y:{enumerable:!0,writable:!1,configurable:!1,value:"repeat-y"},NO_REPEAT:{enumerable:!0,writable:!1,configurable:!1,value:"no-repeat"}})});
Object.defineProperty(doodle,"LineCap",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{BUTT:{enumerable:!0,writable:!1,configurable:!1,value:"butt"},ROUND:{enumerable:!0,writable:!1,configurable:!1,value:"round"},SQUARE:{enumerable:!0,writable:!1,configurable:!1,value:"square"}})});
Object.defineProperty(doodle,"LineJoin",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{MITER:{enumerable:!0,writable:!1,configurable:!1,value:"miter"},ROUND:{enumerable:!0,writable:!1,configurable:!1,value:"round"},BEVEL:{enumerable:!0,writable:!1,configurable:!1,value:"bevel"}})});
(function(){var a,i,j;doodle.events.Event=function(g,e,f){var d=Object.create(a),h=arguments.length,l,c;Object.defineProperties(d,i);Object.defineProperties(d,function(){var b,a,f,l=!1,g=0,q=null,n=null,d=null,e=new Date,v=!0,h=!1,m=!1;c=function(c,y,j){y=y===void 0?!1:y;j=j===void 0?!1:j;y!==!1?n=q=y:(q=c.currentTarget,n=c.target);b=j?j:c.type;a=c.bubbles;f=c.cancelable;l=c.cancelBubble;g=c.eventPhase;d=c.srcElement;e=c.timeStamp;v=c.returnValue;c.__cancel&&(h=!0);c.__cancelNow&&(m=!0)};return{id:function(){var b=
null;return{enumerable:!0,configurable:!1,get:function(){return b===null?this.toString()+"[type="+this.type+"]":b},set:function(c){b=c}}}(),type:{enumerable:!0,configurable:!1,get:function(){return b}},__setType:{enumerable:!1,value:function(c){b=c}},bubbles:{enumerable:!0,configurable:!1,get:function(){return a}},cancelable:{enumerable:!0,configurable:!1,get:function(){return f}},cancelBubble:{enumerable:!0,configurable:!1,get:function(){return l},set:function(b){l=b}},__cancel:{enumerable:!1,configurable:!1,
get:function(){return h}},__cancelNow:{enumerable:!1,configurable:!1,get:function(){return m}},currentTarget:{enumerable:!0,configurable:!1,get:function(){return q}},__setCurrentTarget:{enumerable:!1,value:function(b){q=b;return this}},target:{enumerable:!0,configurable:!1,get:function(){return n}},__setTarget:{enumerable:!1,value:function(b){n=b;return this}},eventPhase:{enumerable:!0,configurable:!1,get:function(){return g}},__setEventPhase:{enumerable:!1,value:function(b){g=b;return this}},srcElement:{enumerable:!0,
configurable:!1,get:function(){return d}},timeStamp:{enumerable:!0,configurable:!1,get:function(){return e}},returnValue:{enumerable:!0,configurable:!1,get:function(){return v}},initEvent:{enumerable:!0,configurable:!1,value:function(c,m,q){b=c===void 0?"undefined":c;a=m===void 0?!1:m;f=q===void 0?!1:q;return this}},preventDefault:{enumerable:!0,configurable:!1,value:function(){}},stopPropagation:{enumerable:!0,configurable:!1,value:function(){if(this.cancelable)h=!0;else throw Error(this.id+" Event.stopPropagation: Event can not be cancelled.");
}},stopImmediatePropagation:{enumerable:!0,configurable:!1,value:function(){if(this.cancelable)m=h=!0;else throw Error(this.id+" Event.stopImmediatePropagation: Event can not be cancelled.");}},__copyEventProperties:{enumerable:!1,configurable:!1,value:function(b,a,k){c(b,a===void 0?!1:a,k===void 0?!1:k);return this}}}}());if(h===1&&(typeof arguments[0]==="function"||j(arguments[0])))l=arguments[0],g=void 0;l?typeof l==="function"?l.call(d):c(l,!1,!1):d.initEvent(g,e,f);return d};i={toString:{enumerable:!0,
writable:!1,configurable:!1,value:function(){return"[object Event]"}}};a=Object.create({},{CAPTURING_PHASE:{enumerable:!0,writable:!1,configurable:!1,value:1},AT_TARGET:{enumerable:!0,writable:!1,configurable:!1,value:2},BUBBLING_PHASE:{enumerable:!0,writable:!1,configurable:!1,value:3},MOUSEDOWN:{enumerable:!0,writable:!1,configurable:!1,value:1},MOUSEUP:{enumerable:!0,writable:!1,configurable:!1,value:2},MOUSEOVER:{enumerable:!0,writable:!1,configurable:!1,value:4},MOUSEOUT:{enumerable:!0,writable:!1,
configurable:!1,value:8},MOUSEMOVE:{enumerable:!0,writable:!1,configurable:!1,value:16},MOUSEDRAG:{enumerable:!0,writable:!1,configurable:!1,value:32},CLICK:{enumerable:!0,writable:!1,configurable:!1,value:64},DBLCLICK:{enumerable:!0,writable:!1,configurable:!1,value:128},KEYDOWN:{enumerable:!0,writable:!1,configurable:!1,value:256},KEYUP:{enumerable:!0,writable:!1,configurable:!1,value:512},KEYPRESS:{enumerable:!0,writable:!1,configurable:!1,value:1024},DRAGDROP:{enumerable:!0,writable:!1,configurable:!1,
value:2048},FOCUS:{enumerable:!0,writable:!1,configurable:!1,value:4096},BLUR:{enumerable:!0,writable:!1,configurable:!1,value:8192},SELECT:{enumerable:!0,writable:!1,configurable:!1,value:16384},CHANGE:{enumerable:!0,writable:!1,configurable:!1,value:32768}});j=doodle.events.Event.isEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Event]"||a.constructor&&a.constructor.name==="Event")return!0;else a=Object.getPrototypeOf(a);return!1}})();
(function(){var a,i=doodle.events.Event.isEvent;doodle.events.UIEvent=function(j,g,e,f,d){var h,l,c;i(arguments[0])?(l=arguments[0],j=void 0,h=Object.create(doodle.events.Event(l))):typeof arguments[0]==="function"?(l=arguments[0],j=void 0,h=Object.create(doodle.events.Event(""))):(g=g===void 0?!1:g,e=e===void 0?!1:e,h=Object.create(doodle.events.Event(j,g,e)));Object.defineProperties(h,a);Object.defineProperties(h,function(){var b=null,a=0,f=0,l=0,d=0,q=0,n=0,g=0,e=0;c=function(c){if(c.view!==void 0)b=
c.view;if(c.detail!==void 0)a=c.detail;if(c.which!==void 0)f=c.which;if(c.charCode!==void 0)l=c.charCode;if(c.keyCode!==void 0)d=c.keyCode;if(c.layerX!==void 0)q=c.layerX;if(c.layerY!==void 0)n=c.layerY;if(c.pageX!==void 0)g=c.pageX;if(c.pageY!==void 0)e=c.pageY};return{view:{enumerable:!0,configurable:!1,get:function(){return b}},detail:{enumerable:!0,configurable:!1,get:function(){return a}},which:{enumerable:!0,configurable:!1,get:function(){return f}},charCode:{enumerable:!0,configurable:!1,get:function(){return l}},
keyCode:{enumerable:!0,configurable:!1,get:function(){return d}},layerX:{enumerable:!0,configurable:!1,get:function(){return q}},layerY:{enumerable:!0,configurable:!1,get:function(){return n}},pageX:{enumerable:!0,configurable:!1,get:function(){return g}},pageY:{enumerable:!0,configurable:!1,get:function(){return e}},initUIEvent:{value:function(c,f,m,q,l){b=q===void 0?null:q;a=l===void 0?0:l;this.initEvent(c,f===void 0?!1:f,m===void 0?!1:m);return this}},__copyUIEventProperties:{enumerable:!1,configurable:!1,
value:function(b,a,k){a=a===void 0?!1:a;k=k===void 0?!1:k;c(b);return this.__copyEventProperties(b,a,k)}}}}());l?typeof l==="function"?l.call(h):c(l):h.initUIEvent(j,g,e,f,d);return h};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object UIEvent]"}}}})();doodle.events.UIEvent.isUIEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object UIEvent]"||a.constructor&&a.constructor.name==="UIEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=doodle.events.Event.isEvent;doodle.events.MouseEvent=function(j,g,e,f,d,h,l,c,b,k,o,r,p,q,n){var t,s,v;i(arguments[0])?(s=arguments[0],j=void 0,t=Object.create(doodle.events.UIEvent(s))):typeof arguments[0]==="function"?(s=arguments[0],j=void 0,t=Object.create(doodle.events.UIEvent(""))):(g=g===void 0?!1:g,e=e===void 0?!1:e,f=f===void 0?null:f,d=d===void 0?0:d,t=Object.create(doodle.events.UIEvent(j,g,e,f,d)));Object.defineProperties(t,a);Object.defineProperties(t,function(){var b=
0,c=0,a=0,k=0,f=0,q=0,l=0,d=0,o=!1,g=!1,e=!1,h=!1,s=0,j=null;v=function(n){b=n.x!==void 0?n.x:0;c=n.y!==void 0?n.y:0;a=n.offsetX!==void 0?n.offsetX:0;k=n.offsetY!==void 0?n.offsetY:0;if(n.screenX!==void 0)f=n.screenX;if(n.screenY!==void 0)q=n.screenY;if(n.clientX!==void 0)l=n.clientX;if(n.clientY!==void 0)d=n.clientY;if(n.ctrlKey!==void 0)o=n.ctrlKey;if(n.altKey!==void 0)g=n.altKey;if(n.shiftKey!==void 0)e=n.shiftKey;if(n.metaKey!==void 0)h=n.metaKey;if(n.button!==void 0)s=n.button;if(n.relatedTarget!==
void 0)j=n.relatedTarget};return{x:{enumerable:!0,configurable:!1,get:function(){return b}},y:{enumerable:!0,configurable:!1,get:function(){return c}},screenX:{enumerable:!0,configurable:!1,get:function(){return f}},screenY:{enumerable:!0,configurable:!1,get:function(){return q}},clientX:{enumerable:!0,configurable:!1,get:function(){return l}},clientY:{enumerable:!0,configurable:!1,get:function(){return d}},offsetX:{enumerable:!0,configurable:!1,get:function(){return a}},offsetY:{enumerable:!0,configurable:!1,
get:function(){return k}},ctrlKey:{enumerable:!0,configurable:!1,get:function(){return o}},altKey:{enumerable:!0,configurable:!1,get:function(){return g}},shiftKey:{enumerable:!0,configurable:!1,get:function(){return e}},metaKey:{enumerable:!0,configurable:!1,get:function(){return h}},button:{enumerable:!0,configurable:!1,get:function(){return s}},relatedTarget:{enumerable:!0,configurable:!1,get:function(){return j}},initMouseEvent:{value:function(b,c,a,k,m,y,v,u,t,i,x,r,p,H,E){n=E===void 0?null:
E;f=y===void 0?0:y;q=v===void 0?0:v;l=u===void 0?0:u;d=t===void 0?0:t;o=i===void 0?!1:i;g=x===void 0?!1:x;e=r===void 0?!1:r;h=p===void 0?!1:p;s=H===void 0?0:H;j=E;return this.initUIEvent(b,c===void 0?!1:c,a===void 0?!1:a,k===void 0?null:k,m===void 0?0:m)}},getModifierState:{value:function(b){switch(b){case "Alt":return g;case "Control":return o;case "Meta":return h;case "Shift":return e;default:return!1}}},__copyMouseEventProperties:{enumerable:!1,configurable:!1,value:function(b,c,a){c=c===void 0?
!1:c;a=a===void 0?!1:a;v(b);return this.__copyUIEventProperties(b,c,a)}}}}());s?typeof s==="function"?s.call(t):v(s):t.initMouseEvent(j,g,e,f,d,h,l,c,b,k,o,r,p,q,n);return t};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object MouseEvent]"}}}})();doodle.events.MouseEvent.isMouseEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object MouseEvent]"||a.constructor&&a.constructor.name==="MouseEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=doodle.events.Event.isEvent;doodle.events.TouchEvent=function(j,g,e,f,d,h,l,c,b,k,o,r,p,q,n,t,s,v){var u,m,x;i(arguments[0])?(m=arguments[0],j=void 0,u=Object.create(doodle.events.UIEvent(m))):typeof arguments[0]==="function"?(m=arguments[0],j=void 0,u=Object.create(doodle.events.UIEvent(""))):(g=g===void 0?!1:g,e=e===void 0?!1:e,f=f===void 0?null:f,d=d===void 0?0:d,u=Object.create(doodle.events.UIEvent(j,g,e,f,d)));Object.defineProperties(u,a);Object.defineProperties(u,function(){var b=
0,c=0,a=0,k=0,f=!1,m=!1,q=!1,n=!1,l=null,d=null,o=null,g=1,e=0;x=function(h){if(h.screenX!==void 0)b=h.screenX;if(h.screenY!==void 0)c=h.screenY;if(h.clientX!==void 0)a=h.clientX;if(h.clientY!==void 0)k=h.clientY;if(h.ctrlKey!==void 0)f=h.ctrlKey;if(h.altKey!==void 0)m=h.altKey;if(h.shiftKey!==void 0)q=h.shiftKey;if(h.metaKey!==void 0)n=h.metaKey;if(h.touches!==void 0)l=h.touches;if(h.targetTouches!==void 0)d=h.targetTouches;if(h.changedTouches!==void 0)o=h.changedTouches;if(h.scale!==void 0)g=h.scale;
if(h.rotation!==void 0)e=h.rotation};return{screenX:{enumerable:!0,configurable:!1,get:function(){return b}},screenY:{enumerable:!0,configurable:!1,get:function(){return c}},clientX:{enumerable:!0,configurable:!1,get:function(){return a}},clientY:{enumerable:!0,configurable:!1,get:function(){return k}},ctrlKey:{enumerable:!0,configurable:!1,get:function(){return f}},altKey:{enumerable:!0,configurable:!1,get:function(){return m}},shiftKey:{enumerable:!0,configurable:!1,get:function(){return q}},metaKey:{enumerable:!0,
configurable:!1,get:function(){return n}},touches:{enumerable:!0,configurable:!1,get:function(){return l}},targetTouches:{enumerable:!0,configurable:!1,get:function(){return d}},changedTouches:{enumerable:!0,configurable:!1,get:function(){return o}},scale:{enumerable:!0,configurable:!1,get:function(){return g}},rotation:{enumerable:!0,configurable:!1,get:function(){return e}},initTouchEvent:{value:function(h,s,v,u,j,t,i,x,r,p,M,H,E,N,O,P,Q,R){b=t===void 0?0:t;c=i===void 0?0:i;a=x===void 0?0:x;k=r===
void 0?0:r;f=p===void 0?!1:p;m=M===void 0?!1:M;q=H===void 0?!1:H;n=E===void 0?!1:E;l=N===void 0?null:N;d=O===void 0?null:O;o=P===void 0?null:P;g=Q===void 0?1:Q;e=R===void 0?0:R;this.initUIEvent(h,s===void 0?!1:s,v===void 0?!1:v,u===void 0?null:u,j===void 0?0:j);return this}},getModifierState:{value:function(b){switch(b){case "Alt":return m;case "Control":return f;case "Meta":return n;case "Shift":return q;default:return!1}}},__copyTouchEventProperties:{enumerable:!1,configurable:!1,value:function(b,
c,a){c=c===void 0?!1:c;a=a===void 0?!1:a;x(b);return this.__copyUIEventProperties(b,c,a)}}}}());m?typeof m==="function"?m.call(u):x(m):u.initTouchEvent(j,g,e,f,d,h,l,c,b,k,o,r,p,q,n,t,s,v);return u};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object TouchEvent]"}}}})();
doodle.events.TouchEvent.isTouchEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object TouchEvent]"||a.constructor&&a.constructor.name==="TouchEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=doodle.events.Event.isEvent;doodle.events.TextEvent=function(j,g,e,f,d,h){var l,c,b;i(arguments[0])?(c=arguments[0],j=void 0,l=Object.create(doodle.events.UIEvent(c))):typeof arguments[0]==="function"?(c=arguments[0],j=void 0,l=Object.create(doodle.events.UIEvent(""))):(g=g===void 0?!1:g,e=e===void 0?!1:e,f=f===void 0?null:f,l=Object.create(doodle.events.UIEvent(j,g,e,f)));Object.defineProperties(l,a);Object.defineProperties(l,function(){var c="",a=doodle.events.TextEvent.INPUT_METHOD_UNKNOWN;
b=function(b){if(b.data!==void 0)c=b.data;if(b.inputMode!==void 0)a=b.inputMode};return{data:{enumerable:!0,configurable:!1,get:function(){return c}},inputMode:{enumerable:!0,configurable:!1,get:function(){return a}},initTextEvent:{value:function(b,f,q,n,l,h){h=h===void 0?doodle.events.TextEvent.INPUT_METHOD_UNKNOWN:h;c=l===void 0?"":l;a=h;this.initUIEvent(b,f===void 0?!1:f,q===void 0?!1:q,n===void 0?null:n);return this}},__copyTextEventProperties:{enumerable:!1,configurable:!1,value:function(c,a,
k){a=a===void 0?!1:a;k=k===void 0?!1:k;b(c);return this.__copyUIEventProperties(c,a,k)}}}}());c?typeof c==="function"?c.call(l):b(c):l.initTextEvent(j,g,e,f,d,h);return l};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object TextEvent]"}}}})();doodle.events.TextEvent.isTextEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object TextEvent]"||a.constructor&&a.constructor.name==="TextEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=doodle.events.Event.isEvent;doodle.events.KeyboardEvent=function(j,g,e,f,d,h,l,c){var b,k,o;i(arguments[0])?(k=arguments[0],j=void 0,b=Object.create(doodle.events.UIEvent(k))):typeof arguments[0]==="function"?(k=arguments[0],j=void 0,b=Object.create(doodle.events.UIEvent(""))):(g=g===void 0?!1:g,e=e===void 0?!1:e,f=f===void 0?null:f,b=Object.create(doodle.events.UIEvent(j,g,e,f)));Object.defineProperties(b,a);Object.defineProperties(b,function(){var b="",c=0,a=!1,k=!1,f=!1,h=!1,
l=!1;o=function(d){if(d.keyIdentifier!==void 0)b=d.keyIdentifier;if(d.keyLocation!==void 0)c=d.keyLocation;if(d.repeat!==void 0)a=d.repeat;if(d.ctrlKey!==void 0)k=d.ctrlKey;if(d.altKey!==void 0)f=d.altKey;if(d.shiftKey!==void 0)h=d.shiftKey;if(d.metaKey!==void 0)l=d.metaKey;if(d.altGraphKey!==void 0)f=d.altGraphKey};return{keyIdentifier:{enumerable:!0,configurable:!1,get:function(){return b}},keyLocation:{enumerable:!0,configurable:!1,get:function(){return c}},repeat:{enumerable:!0,configurable:!1,
get:function(){return a}},ctrlKey:{enumerable:!0,configurable:!1,get:function(){return k}},altKey:{enumerable:!0,configurable:!1,get:function(){return f}},shiftKey:{enumerable:!0,configurable:!1,get:function(){return h}},metaKey:{enumerable:!0,configurable:!1,get:function(){return l}},altGraphKey:{enumerable:!0,configurable:!1,get:function(){return!1}},initKeyboardEvent:{value:function(d,m,g,y,e,o,j,i){m=m===void 0?!1:m;g=g===void 0?!1:g;y=y===void 0?null:y;b=e===void 0?"":e;c=o===void 0?0:o;a=i===
void 0?!1:i;(j===void 0?"":j).split(" ").forEach(function(b){switch(b){case "Alt":f=!0;break;case "Control":k=!0;break;case "Meta":l=!0;break;case "Shift":h=!0}});this.initUIEvent(d,m,g,y);return this}},getModifierState:{value:function(b){switch(b){case "Alt":return f;case "Control":return k;case "Meta":return l;case "Shift":return h;default:return!1}}},__copyKeyboardEventProperties:{enumerable:!1,configurable:!1,value:function(b,c,a){c=c===void 0?!1:c;a=a===void 0?!1:a;o(b);return this.__copyUIEventProperties(b,
c,a)}}}}());k?typeof k==="function"?k.call(b):o(k):b.initKeyboardEvent(j,g,e,f,d,h,l,c);return b};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object KeyboardEvent]"}}}})();doodle.events.KeyboardEvent.isKeyboardEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object KeyboardEvent]"||a.constructor&&a.constructor.name==="KeyboardEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
Object.defineProperties(doodle.events.Event,{CAPTURING_PHASE:{enumerable:!0,writable:!1,configurable:!1,value:1},AT_TARGET:{enumerable:!0,writable:!1,configurable:!1,value:2},BUBBLING_PHASE:{enumerable:!0,writable:!1,configurable:!1,value:3},ADDED:{enumerable:!0,writable:!1,configurable:!1,value:"added"},REMOVED:{enumerable:!0,writable:!1,configurable:!1,value:"removed"},ENTER_FRAME:{enumerable:!0,writable:!1,configurable:!1,value:"enterFrame"},LOAD:{enumerable:!0,writable:!1,configurable:!1,value:"load"},
CHANGE:{enumerable:!0,writable:!1,configurable:!1,value:"change"}});Object.defineProperties(doodle.events.UIEvent,{FOCUS_IN:{enumerable:!0,writable:!1,configurable:!1,value:"focusIn"}});
Object.defineProperties(doodle.events.MouseEvent,{CLICK:{enumerable:!0,writable:!1,configurable:!1,value:"click"},DOUBLE_CLICK:{enumerable:!0,writable:!1,configurable:!1,value:"dblclick"},CONTEXT_MENU:{enumerable:!0,writable:!1,configurable:!1,value:"contextmenu"},MOUSE_DOWN:{enumerable:!0,writable:!1,configurable:!1,value:"mousedown"},MOUSE_UP:{enumerable:!0,writable:!1,configurable:!1,value:"mouseup"},MOUSE_WHEEL:{enumerable:!0,writable:!1,configurable:!1,value:"mousewheel"},MOUSE_MOVE:{enumerable:!0,
writable:!1,configurable:!1,value:"mousemove"},MOUSE_OUT:{enumerable:!0,writable:!1,configurable:!1,value:"mouseout"},MOUSE_OVER:{enumerable:!0,writable:!1,configurable:!1,value:"mouseover"},MOUSE_ENTER:{enumerable:!0,writable:!1,configurable:!1,value:"mouseenter"},MOUSE_LEAVE:{enumerable:!0,writable:!1,configurable:!1,value:"mouseleave"}});
Object.defineProperties(doodle.events.TouchEvent,{TOUCH_START:{enumerable:!0,writable:!1,configurable:!1,value:"touchstart"},TOUCH_MOVE:{enumerable:!0,writable:!1,configurable:!1,value:"touchmove"},TOUCH_END:{enumerable:!0,writable:!1,configurable:!1,value:"touchend"},TOUCH_CANCEL:{enumerable:!0,writable:!1,configurable:!1,value:"touchcancel"}});
Object.defineProperties(doodle.events.KeyboardEvent,{KEY_PRESS:{enumerable:!0,writable:!1,configurable:!1,value:"keypress"},KEY_UP:{enumerable:!0,writable:!1,configurable:!1,value:"keyup"},KEY_DOWN:{enumerable:!0,writable:!1,configurable:!1,value:"keydown"},KEY_LOCATION_STANDARD:{enumerable:!0,writable:!1,configurable:!1,value:0},KEY_LOCATION_LEFT:{enumerable:!0,writable:!1,configurable:!1,value:1},KEY_LOCATION_RIGHT:{enumerable:!0,writable:!1,configurable:!1,value:2},KEY_LOCATION_NUMPAD:{enumerable:!0,
writable:!1,configurable:!1,value:3},KEY_LOCATION_MOBILE:{enumerable:!0,writable:!1,configurable:!1,value:4},KEY_LOCATION_JOYSTICK:{enumerable:!0,writable:!1,configurable:!1,value:5}});
Object.defineProperties(doodle.events.TextEvent,{TEXT_INPUT:{enumerable:!0,writable:!1,configurable:!1,value:"textInput"},INPUT_METHOD_UNKNOWN:{enumerable:!0,writable:!1,configurable:!1,value:0},INPUT_METHOD_KEYBOARD:{enumerable:!0,writable:!1,configurable:!1,value:1},INPUT_METHOD_PASTE:{enumerable:!0,writable:!1,configurable:!1,value:2},INPUT_METHOD_DROP:{enumerable:!0,writable:!1,configurable:!1,value:3},INPUT_METHOD_IME:{enumerable:!0,writable:!1,configurable:!1,value:4},INPUT_METHOD_OPTION:{enumerable:!0,
writable:!1,configurable:!1,value:5},INPUT_METHOD_HANDWRITING:{enumerable:!0,writable:!1,configurable:!1,value:6},INPUT_METHOD_VOICE:{enumerable:!0,writable:!1,configurable:!1,value:7},INPUT_METHOD_MULTIMODAL:{enumerable:!0,writable:!1,configurable:!1,value:8},INPUT_METHOD_SCRIPT:{enumerable:!0,writable:!1,configurable:!1,value:9}});
(function(){function a(a,e,f,d,h,l,c,b){var k={},o=arguments.length;Object.defineProperties(k,i);Object.defineProperties(k,function(){var b=null,c=j,a=1,k=1,f=1,h=1,l=0,d=0,m=0,g=0;return{redMultiplier:{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}},greenMultiplier:{enumerable:!0,configurable:!1,get:function(){return k},set:function(b){k=b}},blueMultiplier:{enumerable:!0,configurable:!1,get:function(){return f},set:function(b){f=b}},alphaMultiplier:{enumerable:!0,configurable:!1,
get:function(){return h},set:function(b){h=b}},redOffset:{enumerable:!0,configurable:!1,get:function(){return l},set:function(b){l=b}},greenOffset:{enumerable:!0,configurable:!1,get:function(){return d},set:function(b){d=b}},blueOffset:{enumerable:!0,configurable:!1,get:function(){return m},set:function(b){m=b}},alphaOffset:{enumerable:!0,configurable:!1,get:function(){return g},set:function(b){g=b}},id:{enumerable:!0,configurable:!1,get:function(){return b===null?this.toString():b},set:function(c){b=
c}},__applyFilter:{enumerable:!0,configurable:!1,value:function(b,c,e,o,j){var i=b.getImageData(c,e,o,j),r=i.data;o*=j;for(var p=a,D=l,B=k,F=d,G=f,I=m,C=h,K=g;--o;)j=o<<2,r[j]=r[j]*p+D,r[j+1]=r[j+1]*B+F,r[j+2]=r[j+2]*G+I,r[j+3]=r[j+3]*C+K;i.data=r;b.putImageData(i,c,e)}},__toArray:{enumerable:!1,writable:!1,configurable:!1,value:function(){c[0]=a;c[1]=k;c[2]=f;c[3]=h;c[4]=l;c[5]=d;c[6]=m;c[7]=g;return c}}}}());switch(o){case 8:k.compose(a,e,f,d,h,l,c,b);break;case 1:o=arguments[0],a=void 0,typeof o===
"function"?o.call(k):Array.isArray(o)?k.compose.apply(k,o):k.compose.apply(k,o.__toArray())}return k}var i={},j=Array(8);doodle.filters.ColorFilter=a;i={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object ColorFilter]"}},toArray:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.__toArray().concat()}},compose:{enumerable:!0,writable:!1,configurable:!1,value:function(a,e,f,d,h,l,c,b){this.redMultiplier=a;this.greenMultiplier=e;this.blueMultiplier=
f;this.alphaMultiplier=d;this.redOffset=h;this.greenOffset=l;this.blueOffset=c;this.alphaOffset=b;return this}},clone:{enumerable:!0,writable:!1,configurable:!1,value:function(){return a(this.__toArray())}},equals:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.redMultiplier===a.redMultiplier&&this.greenMultiplier===a.greenMultiplier&&this.blueMultiplier===a.blueMultiplier&&this.alphaMultiplier===a.alphaMultiplier&&this.redOffset===a.redOffset&&this.greenOffset===a.greenOffset&&
this.blueOffset===a.blueOffset&&this.alphaOffset===a.alphaOffset}}}})();
(function(){function a(a,c){var b={},k=arguments.length;Object.defineProperties(b,i);Object.defineProperties(b,function(){var b=0,c=0,a=g;return{x:{enumerable:!0,configurable:!1,get:function(){return b},set:function(c){b=c}},y:{enumerable:!0,configurable:!1,get:function(){return c},set:function(b){c=b}},__toArray:{enumerable:!1,writable:!1,configurable:!1,value:function(){a[0]=b;a[1]=c;return a}},id:function(){var b=null;return{enumerable:!0,configurable:!1,get:function(){return b===null?this.toString():
b},set:function(c){b=c}}}()}}());switch(k){case 2:b.compose(a,c);break;case 1:k=arguments[0],a=void 0,typeof k==="function"?k.call(b):Array.isArray(k)?b.compose.apply(b,k):b.compose(k.x,k.y)}return b}var i,j,g=Array(2),e={x:0,y:0},f=Math.cos,d=Math.sin,h=Math.sqrt;doodle.geom.Point=a;i={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"(x="+this.x+",y="+this.y+")"}},toArray:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.__toArray().concat()}},length:{enumerable:!0,
configurable:!1,get:function(){return j(e,this)}},compose:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){this.x=a;this.y=c;return this}},clone:{enumerable:!0,writable:!1,configurable:!1,value:function(){return a(this.x,this.y)}},equals:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.x===a.x&&this.y===a.y}},add:{enumerable:!0,writable:!1,configurable:!1,value:function(f){return a(this.x+f.x,this.y+f.y)}},subtract:{enumerable:!0,writable:!1,configurable:!1,value:function(f){return a(this.x-
f.x,this.y-f.y)}},offset:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){this.x+=a;this.y+=c;return this}},normalize:{enumerable:!0,writable:!1,configurable:!1,value:function(a){this.x=this.x/this.length*a;this.y=this.y/this.length*a;return this}},interpolate:{enumerable:!0,writable:!1,configurable:!1,value:function(f,c,b){return a(f.x+(c.x-f.x)*b,f.y+(c.y-f.y)*b)}},polar:{enumerable:!0,writable:!1,configurable:!1,value:function(h,c){return a(h*f(c),h*d(c))}}};j=doodle.geom.Point.distance=
function(a,c){var b=c.x-a.x,k=c.y-a.y;return h(b*b+k*k)}})();doodle.geom.Point.isPoint=function(a){return typeof a==="object"&&typeof a.x==="number"&&typeof a.y==="number"};
(function(){function a(b,c,a,f,h,d){var n={},e=arguments.length;Object.defineProperties(n,i);Object.defineProperties(n,function(){var b=1,c=0,a=0,k=1,f=0,h=0,d=j;return{a:{enumerable:!0,configurable:!1,get:function(){return b},set:function(c){b=c}},b:{enumerable:!0,configurable:!1,get:function(){return c},set:function(b){c=b}},c:{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}},d:{enumerable:!0,configurable:!1,get:function(){return k},set:function(b){k=b}},tx:{enumerable:!0,
configurable:!1,get:function(){return f},set:function(b){f=b}},ty:{enumerable:!0,configurable:!1,get:function(){return h},set:function(b){h=b}},__toArray:{enumerable:!1,writable:!1,configurable:!1,value:function(){d[0]=b;d[1]=c;d[2]=a;d[3]=k;d[4]=f;d[5]=h;return d}},id:function(){var b=null;return{enumerable:!0,configurable:!1,get:function(){return b===null?this.toString():b},set:function(c){b=c}}}()}}());switch(e){case 6:n.compose(b,c,a,f,h,d);break;case 1:e=arguments[0],b=void 0,typeof e==="function"?
e.call(n):Array.isArray(e)?n.compose.apply(n,e):n.compose(e.a,e.b,e.c,e.d,e.tx,e.ty)}return n}var i,j=Array(6),g={x:null,y:null},e={a:null,b:null,c:null,d:null,tx:null,ty:null},f=doodle.geom.Point,d=Math.sin,h=Math.cos,l=Math.atan2,c=Math.tan;doodle.geom.Matrix=a;i={compose:{enumerable:!0,writable:!1,configurable:!1,value:function(b,c,a,f,h,d){this.a=b;this.b=c;this.c=a;this.d=f;this.tx=h;this.ty=d;return this}},toArray:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.__toArray().concat()}},
toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"(a="+this.a+",b="+this.b+",c="+this.c+",d="+this.d+",tx="+this.tx+",ty="+this.ty+")"}},equals:{enumerable:!0,writable:!1,configurable:!1,value:function(b){return this.a===b.a&&this.b===b.b&&this.c===b.c&&this.d===b.d&&this.tx===b.tx&&this.ty===b.ty}},identity:{enumerable:!0,writable:!1,configurable:!1,value:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this}},clone:{enumerable:!0,writable:!1,configurable:!1,
value:function(){return a(this.a,this.b,this.c,this.d,this.tx,this.ty)}},multiply:{enumerable:!0,writable:!1,configurable:!1,value:function(b){return this.compose(this.a*b.a+this.c*b.b,this.b*b.a+this.d*b.b,this.a*b.c+this.c*b.d,this.b*b.c+this.d*b.d,this.a*b.tx+this.c*b.ty+this.tx,this.b*b.tx+this.d*b.ty+this.ty)}},rotate:{enumerable:!0,writable:!1,configurable:!1,value:function(b){var c=h(b);b=d(b);e.a=c;e.b=b;e.c=-b;e.d=c;e.tx=0;e.ty=0;return this.multiply(e)}},deltaRotate:{enumerable:!0,writable:!1,
configurable:!1,value:function(b){var c=this.tx,a=this.ty;this.rotate(b);this.tx=c;this.ty=a;return this}},rotation:{enumerable:!0,configurable:!1,get:function(){return l(this.b,this.a)},set:function(b){var c=h(b);b=d(b);this.compose(c,b,-b,c,this.tx,this.ty)}},scale:{enumerable:!0,writable:!1,configurable:!1,value:function(b,c){e.a=b;e.b=0;e.c=0;e.d=c;e.tx=0;e.ty=0;return this.multiply(e)}},deltaScale:{enumerable:!0,writable:!1,configurable:!1,value:function(b,c){var a=this.tx,f=this.ty;this.scale(b,
c);this.tx=a;this.ty=f;return this}},translate:{enumerable:!0,writable:!1,configurable:!1,value:function(b,c){this.tx+=b;this.ty+=c;return this}},skew:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){var f=c(b),h=c(a);e.a=1;e.b=h;e.c=f;e.d=1;e.tx=0;e.ty=0;return this.multiply(e)}},deltaSkew:{enumerable:!0,writable:!1,configurable:!1,value:function(b,c){var a=this.tx,f=this.ty;this.skew(b,c);this.tx=a;this.ty=f;return this}},add:{enumerable:!0,writable:!1,configurable:!1,value:function(b){this.a+=
b.a;this.b+=b.b;this.c+=b.c;this.d+=b.d;this.tx+=b.tx;this.ty+=b.ty;return this}},invert:{enumerable:!0,writable:!1,configurable:!1,value:function(){var b=this.a*this.d-this.b*this.c;return this.compose(this.d/b,-this.b/b,-this.c/b,this.a/b,(this.ty*this.c-this.d*this.tx)/b,-(this.ty*this.a-this.b*this.tx)/b)}},transformPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(b){return f(this.a*b.x+this.c*b.y+this.tx,this.b*b.x+this.d*b.y+this.ty)}},__transformPoint:{enumerable:!1,writable:!1,
configurable:!1,value:function(b){var c=b.x,a=b.y;b.x=this.a*c+this.c*a+this.tx;b.y=this.b*c+this.d*a+this.ty;return b}},deltaTransformPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(b){return f(this.a*b.x+this.c*b.y,this.b*b.x+this.d*b.y)}},__deltaTransformPoint:{enumerable:!1,writable:!1,configurable:!1,value:function(b){var c=b.x,a=b.y;b.x=this.a*c+this.c*a;b.y=this.b*c+this.d*a;return b}},rotateAroundExternalPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(b,c){var a=
h(c),f=d(c);e.a=a;e.b=f;e.c=-f;e.d=a;e.tx=0;e.ty=0;this.translate(-b.x,-b.y);g.x=e.a*this.tx+e.c*this.ty+e.tx;g.y=e.b*this.tx+e.d*this.ty+e.ty;this.tx=g.x;this.ty=g.y;return this.multiply(e).translate(b.x,b.y)}},rotateAroundInternalPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(b,c){g.x=this.a*b.x+this.c*b.y+this.tx;g.y=this.b*b.x+this.d*b.y+this.ty;return this.rotateAroundExternalPoint(g,c)}},matchInternalPointWithExternal:{enumerable:!0,writable:!1,configurable:!1,value:function(b,
c){g.x=this.a*b.x+this.c*b.y+this.tx;g.y=this.b*b.x+this.d*b.y+this.ty;return this.translate(c.x-g.x,c.y-g.y)}},interpolate:{enumerable:!0,writable:!1,configurable:!1,value:function(b,c){this.a+=(b.a-this.a)*c;this.b+=(b.b-this.b)*c;this.c+=(b.c-this.c)*c;this.d+=(b.d-this.d)*c;this.tx+=(b.tx-this.tx)*c;this.ty+=(b.ty-this.ty)*c;return this}}}})();
doodle.geom.Matrix.isMatrix=function(a){return typeof a==="object"&&typeof a.a==="number"&&typeof a.b==="number"&&typeof a.c==="number"&&typeof a.d==="number"&&typeof a.tx==="number"&&typeof a.ty==="number"};
(function(){function a(a,d,h,e){var c={},b=arguments.length;Object.defineProperties(c,i);Object.defineProperties(c,function(){var b=0,c=0,a=0,f=0,h=j;return{x:{enumerable:!0,configurable:!1,get:function(){return b},set:function(c){b=c}},y:{enumerable:!0,configurable:!1,get:function(){return c},set:function(b){c=b}},width:{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}},height:{enumerable:!0,configurable:!1,get:function(){return f},set:function(b){f=b}},__toArray:{enumerable:!1,
writable:!1,configurable:!1,value:function(){h[0]=b;h[1]=c;h[2]=a;h[3]=f;return h}},id:function(){var b=null;return{enumerable:!0,configurable:!1,get:function(){return b===null?this.toString():b},set:function(c){b=c}}}()}}());switch(b){case 4:c.compose(a,d,h,e);break;case 1:b=arguments[0],a=void 0,typeof b==="function"?b.call(c):Array.isArray(b)?c.compose.apply(c,b):c.compose(b.x,b.y,b.width,b.height)}return c}var i,j=Array(4),g=Math.max,e=Math.min;doodle.geom.Rectangle=a;i={top:{enumerable:!0,configurable:!1,
get:function(){return this.y},set:function(a){this.y=a;this.height-=a}},right:{enumerable:!0,configurable:!1,get:function(){return this.x+this.width},set:function(a){this.width=a-this.x}},bottom:{enumerable:!0,configurable:!1,get:function(){return this.y+this.height},set:function(a){this.height=a-this.y}},left:{enumerable:!0,configurable:!1,get:function(){return this.x},set:function(a){this.x=a;this.width-=a}},toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"(x="+this.x+
",y="+this.y+",w="+this.width+",h="+this.height+")"}},toArray:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.__toArray().concat()}},compose:{enumerable:!0,writable:!1,configurable:!1,value:function(a,d,h,e){this.x=a;this.y=d;this.width=h;this.height=e;return this}},__compose:{enumerable:!1,writable:!1,configurable:!1,value:function(a){this.compose.apply(this,a.__toArray());return this}},clone:{enumerable:!0,writable:!1,configurable:!1,value:function(){return a(this.x,this.y,
this.width,this.height)}},offset:{enumerable:!0,writable:!1,configurable:!1,value:function(a,d){this.x+=a;this.y+=d;return this}},inflate:{enumerable:!0,writable:!1,configurable:!1,value:function(a,d){this.x-=a;this.width+=2*a;this.y-=d;this.height+=2*d;return this}},equals:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height}},isEmpty:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.width>=
0||this.height>=0}},contains:{enumerable:!1,writable:!1,configurable:!1,value:function(a,d){return a>=this.left&&a<=this.right&&d>=this.top&&d<=this.bottom}},containsPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.contains(a.x,a.y)}},containsRect:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var d=a.x+a.width,h=a.y+a.height;return this.contains(a.x,a.y)&&this.contains(d,a.y)&&this.contains(d,h)&&this.contains(a.x,h)}},intersects:{enumerable:!0,writable:!1,
configurable:!1,value:function(a){var d=a.x+a.width,h=a.y+a.height;return this.contains(a.x,a.y)||this.contains(d,a.y)||this.contains(d,h)||this.contains(a.x,a.bot)}},intersection:{enumerable:!0,writable:!1,configurable:!1,value:function(f){var d=a(0,0,0,0);if(this.intersects(f))d.left=g(this.left,f.x),d.top=g(this.top,f.y),d.right=e(this.right,f.x+f.width),d.bottom=e(this.bottom,f.y+f.height);return d}},__intersection:{enumerable:!1,writable:!1,configurable:!1,value:function(a){if(this.intersects(a))this.left=
g(this.left,a.x),this.top=g(this.top,a.y),this.right=e(this.right,a.x+a.width),this.bottom=e(this.bottom,a.y+a.height);return this}},union:{enumerable:!0,writable:!1,configurable:!1,value:function(f){var d=a(0,0,0,0);d.left=e(this.left,f.x);d.top=e(this.top,f.y);d.right=g(this.right,f.x+f.width);d.bottom=g(this.bottom,f.y+f.height);return d}},__union:{enumerable:!1,writable:!1,configurable:!1,value:function(a){var d=e(this.left,a.x),h=e(this.top,a.y),l=g(this.right,a.x+a.width);a=g(this.bottom,a.y+
a.height);this.left=d;this.top=h;this.right=l;this.bottom=a;return this}}}})();doodle.geom.Rectangle.isRectangle=function(a){return typeof a==="object"&&typeof a.x==="number"&&typeof a.y==="number"&&typeof a.width==="number"&&typeof a.height==="number"};
(function(){var a,i,j=doodle.events.Event.CAPTURING_PHASE,g=doodle.events.Event.AT_TARGET,e=doodle.events.Event.BUBBLING_PHASE,f=Array.prototype.indexOf,d=Array.prototype.splice;doodle.EventDispatcher=function(h){var d={};Object.defineProperties(d,a);Object.defineProperties(d,{id:function(){var a=null;return{enumerable:!0,configurable:!1,get:function(){return a===null?this.toString():a},set:function(b){a=b}}}(),eventListeners:function(){var a={};return{enumerable:!0,configurable:!1,get:function(){return a}}}()});
typeof h==="function"&&h.call(d);return d};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object EventDispatcher]"}},addEventListener:{enumerable:!0,writable:!1,configurable:!1,value:function(a,d,c){c=c===void 0?!1:c;var b=this.eventListeners;b.hasOwnProperty(a)||(b[a]={capture:[],bubble:[]});b[a][c?"capture":"bubble"].push(d);i.indexOf(this)===-1&&i.push(this)}},on:{enumerable:!0,writable:!1,configurable:!1,value:function(a,d){this.addEventListener(a,d,!1)}},removeEventListener:{enumerable:!0,
writable:!1,configurable:!1,value:function(a,e,c){c=c===void 0?!1:c;var b=this.eventListeners,k=b.hasOwnProperty(a)?b[a]:!1;k&&(c=k[c?"capture":"bubble"],d.call(c,f.call(c,e),1),k.capture.length===0&&k.bubble.length===0&&delete b[a],Object.keys(b).length===0&&(a=i,d.call(a,f.call(a,this),1)))}},handleEvent:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var d=a.eventPhase===j?"capture":"bubble",c=this.eventListeners[a.type],b=0,k;if((c=c&&c[d])&&c.length>0){a.__setCurrentTarget(this);
b=c.length;for(k=0;k<b;k+=1){d=c[k].call(this,a);if(d===!1||a.returnValue===!1)a.__cancel||a.stopPropagation();if(a.__cancelNow)break}}return b>0?!0:!1}},dispatchEvent:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var d,c=a.type,b=Object.prototype.hasOwnProperty,k=b.call(this.eventListeners,c),f,i=[];if(a.__cancel)return!1;a.target||a.__setTarget(this);d=a.target;for(f=d.parent||null;f;)k||(k=b.call(f.eventListeners,c)),i.push(f),f=f.parent;if(!k)return!0;a.__setEventPhase(j);for(b=
c=i.length;b--;)if(i[b].handleEvent(a),a.__cancel)return!0;a.__setEventPhase(g);d.handleEvent(a);if(a.__cancel)return!0;if(!a.bubbles||a.cancelBubble)return!0;a.__setEventPhase(e);for(b=0;b<c;b+=1)if(i[b].handleEvent(a),a.__cancel||a.cancelBubble)break;return!0}},broadcastEvent:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var d=a.type,c=Object.prototype.hasOwnProperty,b=i,k=b.length;if(a.__cancel)throw Error(this+".broadcastEvent: Can not dispatch a cancelled event.");for(a.target||
a.__setTarget(this);k--;)if(c.call(b[k].eventListeners,d)&&b[k].handleEvent(a),a.__cancel)break;return!0}},hasEventListener:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.eventListeners.hasOwnProperty(a)}},willTrigger:{enumerable:!0,writable:!1,configurable:!1,value:function(a){if(this.eventListeners.hasOwnProperty(a))return!0;for(var d=this.children,c=d?d.length:0;c--;)if(d[c].willTrigger(a))return!0;return!1}}};i=doodle.EventDispatcher.dispatcher_queue=[]})();
doodle.EventDispatcher.isEventDispatcher=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object EventDispatcher]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a=0,i,j=doodle.events.Event(doodle.events.Event.ADDED,!0),g=doodle.events.Event(doodle.events.Event.REMOVED,!0),e=doodle.geom.Point,f=doodle.geom.Matrix,d=doodle.geom.Rectangle,h=doodle.utils.create_scene_path,l=Math.PI;doodle.Node=function(c){var b=Object.create(doodle.EventDispatcher());Object.defineProperties(b,i);Object.defineProperties(b,{id:function(){var b=typeof c==="string"?c:"node"+String("000"+a).slice(-3);a+=1;return{enumerable:!0,configurable:!0,get:function(){return b},
set:function(a){b=a}}}(),root:function(){var a=null;return{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}}}(),parent:function(){var a=null;return{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}}}(),children:function(){var a=[];return{enumerable:!0,configurable:!1,get:function(){return a}}}(),transform:function(){var a=f(1,0,0,1,0,0);return{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}}}(),visible:function(){var a=
!0;return{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}}}(),alpha:function(){var a=1;return{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b>1?1:b<0?0:b}}}(),getBounds:{enumerable:!0,writable:!0,configurable:!1,value:function(a){return this.__getBounds(a).clone()}},__getBounds:{enumerable:!1,writable:!0,configurable:!1,value:function(){var a=d(0,0,0,0);return function(b){for(var c=null,d,f=this.children,e=f.length;e--;)d=f[e].__getBounds(b),
d!==null&&(c===null?c=a.__compose(d):c.__union(d));return c}}()}});typeof c==="function"&&(c.call(b),c=void 0);return b};i={x:{enumerable:!0,configurable:!1,get:function(){return this.transform.tx},set:function(a){this.transform.tx=a}},y:{enumerable:!0,configurable:!1,get:function(){return this.transform.ty},set:function(a){this.transform.ty=a}},rotate:{enumerable:!0,configurable:!1,value:function(a){this.transform.rotate(a*l/180)}},rotation:{enumerable:!0,configurable:!0,get:function(){return this.transform.rotation*
180/l},set:function(a){this.transform.rotation=a*l/180}},scaleX:{enumerable:!0,configurable:!1,get:function(){return this.transform.a},set:function(a){this.transform.a=a}},scaleY:{enumerable:!0,configurable:!1,get:function(){return this.transform.d},set:function(a){this.transform.d=a}},context:{enumerable:!0,configurable:!0,get:function(){for(var a=this.parent;a;){if(a.context)return a.context;a=a.parent}return null}},__allTransforms:{enumerable:!1,configurable:!1,get:function(){var a=f(1,0,0,1,0,
0);return function(){var b=this.parent;for(a.compose.apply(a,this.transform.__toArray());b;)a.multiply(b.transform),b=b.parent;return a}}()},toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object Node]"}},addChildAt:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b){var d=this.children,f=this.root,e=a.parent;if(d.indexOf(a)!==-1)return!1;e!==null&&e!==this&&a.parent.removeChild(a);a.parent=this;d.splice(b,0,a);if(f&&a.root!==f){f.__sortAllChildren();d=h(a,
[]);for(e=d.length;e--;)a=d[e],a.root=f,a.dispatchEvent(j.__setTarget(null))}return a}},addChild:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.addChildAt(a,this.children.length)}},removeChildAt:{enumerable:!0,writable:!1,configurable:!1,value:function(a){a=this.children.splice(a,1)[0];var b=h(a),d=b.length,f=d;if(this.root){for(;d--;)b[d].dispatchEvent(g.__setTarget(null));for(;f--;)b[f].root=null}a.parent=null;this.root&&this.root.__sortAllChildren();return a}},removeChild:{enumerable:!1,
writable:!1,configurable:!1,value:function(a){return this.removeChildAt(this.children.indexOf(a))}},removeChildById:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.removeChild(this.getChildById(a))}},removeAllChildren:{enumerable:!0,writable:!1,configurable:!1,value:function(){var a=this.children,b=this.root,d=h(this,[]),f=a.length,e,l;d.pop();e=l=d.length;if(b)for(;e--;)d[e].dispatchEvent(g.__setTarget(null));for(;l--;)d[l].root=null;for(;f--;)a[f].parent=null;a.length=0;
b&&b.__sortAllChildren()}},getChildById:{enumerable:!0,writable:!1,configurable:!1,value:function(a){for(var b=this.children,d=b.length,f=0;f<d;f++)if(b[f].id===a)return b[f]}},setChildIndex:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b){var d=this.children,f=d.indexOf(a);d.splice(f,1);d.splice(b,0,a);this.root&&this.root.__sortAllChildren()}},swapChildrenAt:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b){var d=this.children,f;f=d.splice(a,1,void 0)[0];d.splice(a,1,
d.splice(b,1,void 0)[0]);d[d.indexOf(void 0)]=f;this.root&&this.root.__sortAllChildren()}},swapChildren:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b){var d=this.children;this.swapChildrenAt(d.indexOf(a),d.indexOf(b))}},swapDepths:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var b=this.parent,d;d=b.children;b.swapChildrenAt(d.indexOf(this),d.indexOf(a))}},swapDepthAt:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var b=this.parent;b.swapChildrenAt(b.children.indexOf(this),
a)}},contains:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return h(this,[]).indexOf(a)!==-1?!0:!1}},localToGlobal:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var b=this.parent;for(a=this.transform.transformPoint(a);b;)b.transform.__transformPoint(a),b=b.parent;return a}},__localToGlobal:{enumerable:!1,writable:!1,configurable:!1,value:function(a){for(var b=this;b;)b.transform.__transformPoint(a),b=b.parent;return a}},globalToLocal:{enumerable:!0,writable:!1,configurable:!1,
value:function(a){var b={x:0,y:0};this.__localToGlobal(b);return e(a.x-b.x,a.y-b.y)}},__globalToLocal:{enumerable:!1,writable:!1,configurable:!1,value:function(a){var b={x:0,y:0};this.__localToGlobal(b);a.x-=b.x;a.y-=b.y;return a}}}})();doodle.Node.isNode=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Node]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=doodle.geom.Rectangle;doodle.Sprite=function(j){var g=Object.create(doodle.Node(typeof j==="string"?j:void 0));Object.defineProperties(g,a);Object.defineProperties(g,function(){var a=[];return{graphics:{enumerable:!1,configurable:!1,value:Object.create(doodle.Graphics.call(g,a))},width:function(){var a=0;return{enumerable:!0,configurable:!1,get:function(){return a},set:function(d){a=d}}}(),height:function(){var a=0;return{enumerable:!0,configurable:!1,get:function(){return a},
set:function(d){a=d}}}(),getBounds:{enumerable:!0,writable:!0,configurable:!1,value:function(a){return this.__getBounds(a).clone()}},__getBounds:{enumerable:!1,writable:!0,configurable:!1,value:function(){var a=i(0,0,0,0);return function(d){var e=this.children,g=e.length,c,b=this.width,k=this.height,j=this.graphics;c={x:j.__minX,y:j.__minY};var i={x:j.__minX+b,y:j.__minY};b={x:j.__minX+b,y:j.__minY+k};k={x:j.__minX,y:j.__minY+k};j=Math.min;var p=Math.max;this.__localToGlobal(c);this.__localToGlobal(i);
this.__localToGlobal(b);this.__localToGlobal(k);d.__globalToLocal(c);d.__globalToLocal(i);d.__globalToLocal(b);d.__globalToLocal(k);a.left=j(c.x,i.x,b.x,k.x);a.right=p(c.x,i.x,b.x,k.x);a.top=j(c.y,i.y,b.y,k.y);for(a.bottom=p(c.y,i.y,b.y,k.y);g--;)c=e[g].__getBounds(d),c!==null&&a.__union(c);return a}}()},hitTestObject:{enumerable:!0,writable:!0,configurable:!1,value:function(a){return this.getBounds(this).intersects(a.getBounds(this))}},hitTestPoint:{enumerable:!0,writable:!0,configurable:!1,value:function(a){return this.getBounds(this).containsPoint(this.globalToLocal(a))}},
__draw:{enumerable:!1,writable:!1,configurable:!1,value:function(f){for(var d=0,h=a.length;d<h;d++)a[d].call(g,f)}}}}());typeof j==="function"&&j.call(g);return g};a={rotation:function(){var a=180/Math.PI,g=Math.PI/180;return{enumerable:!0,configurable:!1,get:function(){return this.transform.rotation*a},set:function(a){this.transform.rotation=a*g}}}(),toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Sprite]"}},compose:{enumerable:!1,writable:!1,configurable:!1,value:function(a,
g,e,f){this.x=a;this.y=g;this.width=e;this.height=f;return this}}}})();doodle.Sprite.isSprite=function(a){if(typeof a==="object")for(;a;)if(a.toLocaleString()==="[object Sprite]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=doodle.utils.hex_to_rgb_str,j=doodle.utils.get_element,g=doodle.events.Event,e=doodle.GradientType.LINEAR,f=doodle.GradientType.RADIAL;doodle.Graphics=function(d){var h={},l=this,c=0,b=0,k=1,o=doodle.LineCap.BUTT,r=doodle.LineJoin.MITER,p=10;Object.defineProperties(h,a);Object.defineProperties(h,{__minX:{enumerable:!1,configurable:!1,value:0},__minY:{enumerable:!1,configurable:!1,value:0},__maxX:{enumerable:!1,configurable:!1,value:0},__maxY:{enumerable:!1,configurable:!1,value:0},
lineWidth:{enumerable:!0,configurable:!1,get:function(){return k}},lineCap:{enumerable:!0,configurable:!1,get:function(){return o}},lineJoin:{enumerable:!0,configurable:!1,get:function(){return r}},lineMiter:{enumerable:!0,configurable:!1,get:function(){return p}},draw:{enumerable:!1,writable:!1,configurable:!1,value:function(a){d.push(a)}},clear:{enumerable:!1,writable:!1,configurable:!1,value:function(){d.length=0;l.width=0;c=b=this.__minX=this.__minY=this.__maxX=this.__maxY=l.height=0;return this}},
rect:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b,c,f){this.__minX=Math.min(0,a,this.__minX);this.__minY=Math.min(0,b,this.__minY);this.__maxX=Math.max(0,a,a+c,this.__maxX);this.__maxY=Math.max(0,b,b+f,this.__maxY);l.width=-this.__minX+this.__maxX;l.height=-this.__minY+this.__maxY;d.push(function(d){d.beginPath();d.rect(a,b,c,f);d.closePath();d.stroke()});return this}},circle:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b,c){this.__minX=Math.min(0,-c+a,this.__minX);
this.__minY=Math.min(0,-c+b,this.__minY);this.__maxX=Math.max(0,a,a+c,this.__maxX);this.__maxY=Math.max(0,b,b+c,this.__maxY);l.width=-this.__minX+this.__maxX;l.height=-this.__minY+this.__maxY;d.push(function(d){d.beginPath();d.arc(a,b,c,0,6.283185307179586,!0);d.closePath();d.stroke()});return this}},ellipse:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b,c,f){var e=c/2,g=(f===void 0?c:f)/2,m=0.5522847498*e,h=0.5522847498*g;this.__minX=Math.min(0,-e+a,this.__minX);this.__minY=Math.min(0,
-g+b,this.__minY);this.__maxX=Math.max(0,a,a+e,this.__maxX);this.__maxY=Math.max(0,b,b+g,this.__maxY);l.width=-this.__minX+this.__maxX;l.height=-this.__minY+this.__maxY;d.push(function(c){c.beginPath();c.moveTo(a+e,b);c.bezierCurveTo(a+e,b-h,a+m,b-g,a,b-g);c.bezierCurveTo(a-m,b-g,a-e,b-h,a-e,b);c.bezierCurveTo(a-e,b+h,a-m,b+g,a,b+g);c.bezierCurveTo(a+m,b+g,a+e,b+h,a+e,b);c.closePath();c.stroke()});return this}},roundRect:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b,c,f,e,g){e=e===
void 0?0:e;g=g===void 0?0:g;var m=a+c,h=m-e,k=a+e,j=b+f,i=j-g,o=b+g;this.__minX=Math.min(0,a,this.__minX);this.__minY=Math.min(0,b,this.__minY);this.__maxX=Math.max(0,a,a+c,this.__maxX);this.__maxY=Math.max(0,b,b+f,this.__maxY);l.width=-this.__minX+this.__maxX;l.height=-this.__minY+this.__maxY;d.push(function(c){c.beginPath();c.moveTo(k,b);c.beginPath();c.lineTo(h,b);c.quadraticCurveTo(m,b,m,o);c.lineTo(m,i);c.quadraticCurveTo(m,j,h,j);c.lineTo(k,j);c.quadraticCurveTo(a,j,a,i);c.lineTo(a,o);c.quadraticCurveTo(a,
b,k,b);c.closePath();c.stroke()});return this}},moveTo:{enumerable:!1,writable:!1,configurable:!1,value:function(a,e){d.push(function(b){b.moveTo(a,e)});c=a;b=e;return this}},lineTo:{enumerable:!1,writable:!1,configurable:!1,value:function(a,e){this.__minX=Math.min(0,a,c,this.__minX);this.__minY=Math.min(0,e,b,this.__minY);this.__maxX=Math.max(0,a,c,this.__maxX);this.__maxY=Math.max(0,e,b,this.__maxY);l.width=this.__maxX-this.__minX;l.height=this.__maxY-this.__minY;d.push(function(b){b.lineTo(a,e)});
c=a;b=e;return this}},curveTo:{enumerable:!1,writable:!1,configurable:!1,value:function(a,e){var f=c,g=b,h=a.x,j=a.y,m=e.x,k=e.y,i,o=0,A=0;i=(f-h)/(f-2*h+m);0<=i&&i<=1&&(o=(1-i)*(1-i)*f+2*(1-i)*i*h+i*i*m);i=(g-j)/(g-2*j+k);0<=i&&i<=1&&(A=(1-i)*(1-i)*g+2*(1-i)*i*j+i*i*k);this.__minX=Math.min(0,f,o,m,this.__minX);this.__minY=Math.min(0,g,A,k,this.__minY);this.__maxX=Math.max(0,f,o,m,this.__maxX);this.__maxY=Math.max(0,g,A,k,this.__maxY);l.width=-this.__minX+this.__maxX;l.height=-this.__minY+this.__maxY;
d.push(function(a){a.quadraticCurveTo(h,j,m,k)});c=m;b=k;return this}},bezierCurveTo:{enumerable:!1,writable:!1,configurable:!1,value:function(a,e,f){var g=Math.pow,h=Math.max,k=Math.min,m=c,j=b,i=a.x,o=a.y,A=e.x,r=e.y,p=f.x,z=f.y,w,J=f=e=0,D=0;for(a=0.1;a<1;a+=0.1)w=g(1-a,3)*m+3*g(1-a,2)*a*i+3*g(1-a,1)*g(a,2)*A+g(a,3)*p,w>e&&(e=w),w<f&&(f=w),w=g(1-a,3)*j+3*g(1-a,2)*a*o+3*g(1-a,1)*g(a,2)*r+g(a,3)*z,w>J&&(J=w),w<D&&(D=w);this.__minX=k(0,m,f,p,this.__minX);this.__minY=k(0,j,D,z,this.__minY);this.__maxX=
h(0,m,e,p,this.__maxX);this.__maxY=h(0,j,J,z,this.__maxY);l.width=-this.__minX+this.__maxX;l.height=-this.__minY+this.__maxY;d.push(function(a){a.bezierCurveTo(i,o,A,r,p,z)});c=p;b=z;return this}},beginFill:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b){b=b===void 0?1:b;d.push(function(c){c.fillStyle=i(a,b)});return this}},beginGradientFill:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b,c,g,h,k){d.push(function(d){var j=doodle.utils.hex_to_rgb_str,i,o=g.length,A=0;if(a===
e)i=d.createLinearGradient(b.x,b.y,c.x,c.y);else if(a===f)i=d.createRadialGradient(b.x,b.y,b.radius,c.x,c.y,c.radius);else throw new TypeError(l.id+" Graphics.beginGradientFill(*type*, point1, point2, ratios, colors, alphas): Unknown gradient type.");for(;A<o;A++)i.addColorStop(g[A],j(h[A],k[A]));d.fillStyle=i});return this}},beginPatternFill:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b){var c=null,e;e=doodle.Pattern;b=b===void 0?e.REPEAT:b;typeof a==="string"&&(a[0]==="#"?a=j(a):
function(){var b=encodeURI(a);a=new Image;a.src=b}());a.complete?c=a:(a.onload=function(){c=a;l.dispatchEvent(g(g.LOAD))},e=function(){throw new URIError(l.id+"Graphics.beginPatternFill(*image*,repeat): Unable to load "+a.src);},a.onerror=e,a.onabort=e);d.push(function(a){a.fillStyle=c?a.createPattern(c,b):"rgba(0,0,0,0)"});return this}},lineStyle:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b,c,e,f,g){b=b===void 0?"#000000":b;c=c===void 0?1:c;e=e===void 0?doodle.LineCap.BUTT:e;f=f===
void 0?doodle.LineJoin.MITER:f;k=a===void 0?1:a;r=f;o=e;p=g===void 0?10:g;if(typeof b==="string"||typeof b==="number")b=i(b,c);else throw new TypeError(l+" Graphics.lineStyle(thickness,*color*,alpha,caps,joints,miterLimit): Color must be a hex value.");d.push(function(a){a.lineWidth=k;a.strokeStyle=b;a.lineCap=o;a.lineJoin=r;a.miterLimit=p});return this}},beginPath:{enumerable:!1,writable:!1,configurable:!1,value:function(){d.push(function(a){a.beginPath();a.moveTo(c,b)});return this}},closePath:{enumerable:!1,
writable:!1,configurable:!1,value:function(){d.push(function(a){a.closePath();a.stroke()});b=c=0;return this}},endFill:{enumerable:!1,writable:!1,configurable:!1,value:function(){d.push(function(a){a.fill()});return this}},stroke:{enumerable:!1,writable:!1,configurable:!1,value:function(){d.push(function(a){a.stroke()});b=c=0;return this}}});return h};a={toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Graphics]"}}}})();
(function(){var a,i=/^url\((.*)\)/,j=doodle.geom.Rectangle,g=doodle.utils.rgb_str_to_hex,e=doodle.utils.hex_to_rgb_str,f=doodle.utils.get_element,d=doodle.utils.get_element_property,h=doodle.utils.set_element_property;doodle.ElementNode=function(l,c){var b=Object.create(doodle.Node(typeof c==="string"?c:void 0));Object.defineProperties(b,a);Object.defineProperties(b,function(){var a=null,c=b.id,l=b.alpha,p=b.visible,q=0,n=0,t=null,s=null,v="repeat",u=!0;return{element:{enumerable:!0,configurable:!0,
get:function(){return a},set:function(b){b===null?(a!==null&&(typeof this.__removeDomElement==="function"&&this.__removeDomElement(a),s=t=null,v="repeat",this.parent||(n=q=0)),a=null):(a=b=f(b),this.__addDomElement(a),(b=d(a,"id"))?c=b:this.id=c,v=d(a,"backgroundRepeat")||v,t=(b=d(a,"backgroundColor",!1,!1))?g(b):t,b=d(a,"backgroundImage"),s=(b=!b||b==="none"?null:s.match(i))?b[1]:s)}},id:{enumerable:!0,configurable:!0,get:function(){return c},set:function(a){c=h(this.element,"id",a,"html")}},width:{enumerable:!0,
configurable:!0,get:function(){return q},set:function(a){h(this.element,"width",a+"px");q=a}},height:{enumerable:!0,configurable:!0,get:function(){return n},set:function(a){h(this.element,"height",a+"px");n=a}},backgroundColor:{enumerable:!0,configurable:!0,get:function(){return t},set:function(a){typeof a==="number"&&(a=e(a));h(this.element,"backgroundColor",a);t=g(d(this.element,"backgroundColor"))}},backgroundImage:{enumerable:!0,configurable:!0,get:function(){return s},set:function(a){if(a){if(typeof a===
"string"){if(a[0]==="#")a=f(a).src}else if(a&&a.tagName==="IMG")a=a.src;i.test(a)||(a="url("+encodeURI(a)+")");s=h(this.element,"backgroundImage",a)}else s=h(this.element,"backgroundImage",null)}},backgroundRepeat:{enumerable:!0,configurable:!0,get:function(){return v},set:function(a){v=h(this.element,"backgroundRepeat",a)}},alpha:{enumerable:!0,configurable:!0,get:function(){return l},set:function(a){h(this.element,"opacity",a)}},visible:{enumerable:!0,configurable:!0,get:function(){return p},set:function(a){a?
h(this.element,"visibility","visible"):h(this.element,"visibility","hidden");p=a}},clearBitmap:{enumerable:!1,configurable:!0,get:function(){return u},set:function(a){u=a}},__addDomElement:{enumerable:!1,configurable:!0,value:function(a){var b=d(a,"width","int")||a.width;a=d(a,"height","int")||a.height;typeof b==="number"&&(q=b);typeof a==="number"&&(n=a)}},__getBounds:{enumerable:!0,configurable:!0,value:function(){var a=j(0,0,0,0);return function(b){var c=this.children,d=c.length,e,f=this.width,
g=this.height;e={x:0,y:0};var h={x:f,y:0};f={x:f,y:g};g={x:0,y:g};var i=Math.min,j=Math.max;this.__localToGlobal(e);this.__localToGlobal(h);this.__localToGlobal(f);this.__localToGlobal(g);b.__globalToLocal(e);b.__globalToLocal(h);b.__globalToLocal(f);b.__globalToLocal(g);a.left=i(e.x,h.x,f.x,g.x);a.right=j(e.x,h.x,f.x,g.x);a.top=i(e.y,h.y,f.y,g.y);for(a.bottom=j(e.y,h.y,f.y,g.y);d--;)e=c[d].__getBounds(b),e!==null&&a.__union(e);return a}}()}}}());switch(arguments.length){case 0:break;case 1:typeof arguments[0]===
"function"?(arguments[0].call(b),l=void 0):b.element=l;break;case 2:if(l)b.element=l;break;default:throw new SyntaxError("[object ElementNode](element, id): Invalid number of parameters.");}return b};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object ElementNode]"}}}})();doodle.ElementNode.isElementNode=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object ElementNode]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=0,j=doodle.utils.set_element_property;doodle.Layer=function(g,e){var f=typeof g==="string"?g:"layer"+String("00"+i).slice(-2);f=Object.create(doodle.ElementNode(void 0,f));Object.defineProperties(f,a);Object.defineProperties(f,function(){var a=0,e=0,f=null,c=null;return{width:{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=j(this.element,"width",b,"html")}},height:{enumerable:!0,configurable:!0,get:function(){return e},set:function(a){e=j(this.element,
"height",a,"html")}},context:{enumerable:!0,configurable:!0,get:function(){return c}},filters:{enumerable:!0,configurable:!0,get:function(){return f},set:function(a){f=a}},__addDomElement:{enumerable:!1,writable:!1,value:function(a){j(a,"position","absolute");if(this.parent)this.width=this.parent.width,this.height=this.parent.height;c=a.getContext("2d")}},__removeDomElement:{enumerable:!1,writable:!1,value:function(){c=null}}}}());switch(arguments.length){case 0:break;case 1:typeof arguments[0]===
"function"&&(arguments[0].call(f),g=void 0);break;case 2:f.element=e;break;default:throw new SyntaxError("[object Layer](id, element): Invalid number of parameters.");}if(f.element===null)f.element=document.createElement("canvas");i+=1;return f};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object Layer]"}},__getBounds:{enumerable:!0,configurable:!0,value:function(){var a=doodle.geom.Rectangle(0,0,0,0);return function(){return a.compose(0,0,this.width,this.height)}}()}}})();
doodle.Layer.isLayer=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Layer]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,i=0,j,g,e,f,d,h,l,c=doodle.utils.create_scene_path,b=doodle.Layer.isLayer,k=doodle.utils.get_element,o=doodle.utils.get_element_property,r=doodle.utils.set_element_property,p=doodle.Layer,q=doodle.events.Event(doodle.events.Event.ENTER_FRAME),n=doodle.events.MouseEvent(""),t=doodle.events.KeyboardEvent("");doodle.Display=function(b){var e,g,m=typeof arguments[arguments.length-1]==="object"?Array.prototype.pop.call(arguments):!1;b&&typeof b!=="function"&&(b=k(b),g=o(b,"id"));g=typeof g===
"string"?g:"display"+String("00"+i++).slice(-2);e=Object.create(doodle.ElementNode(void 0,g));Object.defineProperties(e,a);Object.defineProperties(e,function(){function a(b){K(b,L,B,B.length,F,G,C)}function b(a){var c,d;F=c=I?a.offsetX:a.clientX-u.offsetLeft;G=d=I?a.offsetY:a.clientY-u.offsetTop;S(a,L,B,B.length,c,d,C)}function g(a){T(a,L,B,p,p.length,C)}function i(a){U(a,X,C)}function k(){V(p,p.length,D,D.length,W,B,B.length,C)}var m=0,s=0,u=null,p=e.children,D=doodle.EventDispatcher.dispatcher_queue,
B=[],F=0,G=0,I=document.createEvent("MouseEvent").offsetX!==void 0,C=e,K=f,S=d,T=h,U=l,V=j,W=q,L=n,X=t;document.addEventListener(doodle.events.KeyboardEvent.KEY_PRESS,i,!1);document.addEventListener(doodle.events.KeyboardEvent.KEY_DOWN,i,!1);document.addEventListener(doodle.events.KeyboardEvent.KEY_UP,i,!1);return{root:{enumerable:!0,writable:!1,configurable:!1,value:C},mouseX:{enumerable:!0,configurable:!1,get:function(){return F}},mouseY:{enumerable:!0,configurable:!1,get:function(){return G}},
width:{get:function(){return m},set:function(a){var b=p.length;r(this.element,"width",a+"px");for(m=a;b--;)p[b].width=a;return a}},height:{get:function(){return s},set:function(a){var b=p.length;r(this.element,"height",a+"px");for(s=a;b--;)p[b].height=a;return a}},__addDomElement:{enumerable:!1,writable:!1,value:function(c){r(c,"position","relative");var d=o(c,"width","int",!1)||c.width,e=o(c,"height","int",!1)||c.height;if(typeof d==="number")this.width=d;if(typeof e==="number")this.height=e;c.addEventListener(doodle.events.MouseEvent.MOUSE_MOVE,
b,!1);c.addEventListener(doodle.events.MouseEvent.MOUSE_OUT,g,!1);c.addEventListener(doodle.events.MouseEvent.CLICK,a,!1);c.addEventListener(doodle.events.MouseEvent.DOUBLE_CLICK,a,!1);c.addEventListener(doodle.events.MouseEvent.MOUSE_DOWN,a,!1);c.addEventListener(doodle.events.MouseEvent.MOUSE_UP,a,!1);c.addEventListener(doodle.events.MouseEvent.CONTEXT_MENU,a,!1);c.addEventListener(doodle.events.MouseEvent.MOUSE_WHEEL,a,!1);u=c}},__removeDomElement:{enumerable:!1,writable:!1,value:function(c){c.removeEventListener(doodle.events.MouseEvent.MOUSE_MOVE,
b,!1);c.removeEventListener(doodle.events.MouseEvent.MOUSE_OUT,g,!1);c.removeEventListener(doodle.events.MouseEvent.CLICK,a,!1);c.removeEventListener(doodle.events.MouseEvent.DOUBLE_CLICK,a,!1);c.removeEventListener(doodle.events.MouseEvent.MOUSE_DOWN,a,!1);c.removeEventListener(doodle.events.MouseEvent.MOUSE_UP,a,!1);c.removeEventListener(doodle.events.MouseEvent.CONTEXT_MENU,a,!1);c.removeEventListener(doodle.events.MouseEvent.MOUSE_WHEEL,a,!1);u=null}},allChildren:{enumerable:!0,configurable:!1,
get:function(){return B}},__sortAllChildren:{enumerable:!1,configurable:!1,value:function(){c(this,B,!0).reverse()}},getNodesUnderPoint:{enumerable:!0,configurable:!1,value:function(a){var b=[],c=B,d=c.length,e=a.x;a=a.y;for(var f;d--;)f=c[d],f.__getBounds(this).contains(e,a)&&b.push(f);return b}},addChildAt:{enumerable:!0,configurable:!1,value:function(){var a=C.addChildAt;return function(b,c){b.width=this.width;b.height=this.height;this.element.appendChild(b.element);return a.call(this,b,c)}}()},
removeChildAt:{enumerable:!0,writable:!1,configurable:!1,value:function(){var a=C.removeChildAt;return function(b){this.element.removeChild(p[b].element);return a.call(this,b)}}()},swapChildrenAt:{enumerable:!0,writable:!1,configurable:!1,value:function(){var a=C.swapChildrenAt;return function(b,c){b>c?this.element.insertBefore(p[c].element,p[b].element):this.element.insertBefore(p[b].element,p[c].element);return a.call(this,b,c)}}()},frameRate:function(){var a=!1,b;return{get:function(){return a},
set:function(c){c===0||c===!1?(a=!1,b!==void 0&&clearInterval(b)):c!==a&&(b!==void 0&&clearInterval(b),b=setInterval(k,1E3/c),a=c)}}}()}}());switch(arguments.length){case 0:break;case 1:typeof arguments[0]==="function"?(arguments[0].call(b),b=void 0):e.element=b;break;default:throw new SyntaxError("[object Display](element): Invalid number of parameters.");}j(e.children,e.children.length,doodle.EventDispatcher.dispatcher_queue,doodle.EventDispatcher.dispatcher_queue.length,q,e.allChildren,e.allChildren.length,
e);if(m){if(m.width!==void 0)e.width=m.width;if(m.height!==void 0)e.height=m.height;if(m.backgroundColor!==void 0)e.backgroundColor=m.backgroundColor;if(m.frameRate!==void 0)e.frameRate=m.frameRate}return e};a={parent:{enumerable:!0,writable:!1,configurable:!1,value:null},toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Display]"}},addLayer:{value:function(a){return this.addChild(p(a))}},removeLayer:{value:function(a){return this.removeChildById(a)}},__getBounds:{enumerable:!1,
configurable:!0,value:function(){var a=doodle.geom.Rectangle(0,0,0,0);return function(){return a.compose(0,0,this.width,this.height)}}()}};j=function(){var a=0;return function(b,c,d,f,h,i,j,k){for(k.clearBitmap===!0&&g(b,c);f--;)d[f].eventListeners.hasOwnProperty("enterFrame")&&d[f].handleEvent(h.__setTarget(d[f]));e(i,j);d=k.width;for(i=k.height;c--;)if(k=b[c],k.filters){f=k.filters;for(h=f.length;h--;)f[h].__applyFilter(k.context,0,0,d,i)}a++}}();g=function(a,b){for(var c,d;b--;)if(c=a[b],c.clearBitmap===
!0)d=c.context,d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,c.width,c.height),d.restore()};e=function(a){for(var c,d=a.length,e,f=1;f<d;f++)if(c=a[f],(e=c.context)&&c.visible){e.save();e.transform.apply(e,c.__allTransforms.__toArray());if(!b(c)&&c.alpha!==1)e.globalAlpha=c.alpha;typeof c.__draw==="function"&&c.__draw(e);e.restore()}};f=function(a,b,c,d,e,f,g){for(;d--;)if(c[d].__getBounds(g).contains(e,f))return c[d].dispatchEvent(b.__copyMouseEventProperties(a,null)),!0;return!1};d=function(a,
b,c,d,e,f,g){for(var h;d--;)if(h=c[d],h.__getBounds(g).contains(e,f)){if(!h.__pointInBounds)return h.__pointInBounds=!0,h.dispatchEvent(b.__copyMouseEventProperties(a,null,"mouseover")),h.dispatchEvent(b.__copyMouseEventProperties(a,null,"mouseenter")),!0;h.dispatchEvent(b.__copyMouseEventProperties(a,null));return!0}else if(h.__pointInBounds)return h.__pointInBounds=!1,h.dispatchEvent(b.__copyMouseEventProperties(a,null,"mouseout")),h.dispatchEvent(b.__copyMouseEventProperties(a,null,"mouseleave")),
!0};h=function(a,b,c,d,e,f){if(e===0)f.__pointInBounds=!1;else{f=d[e-1];for(e=c.length;e--;)c[e].__pointInBounds=!1}f.dispatchEvent(b.__copyMouseEventProperties(a,null,"mouseout"));f.dispatchEvent(b.__copyMouseEventProperties(a,null,"mouseleave"));return!0};l=function(a,b,c){c.broadcastEvent(b.__copyKeyboardEventProperties(a,null));return!0}})();doodle.Display.isDisplay=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Display]")return!0;else a=Object.getPrototypeOf(a);return!1};
Object.defineProperty(doodle,"FontStyle",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{NORMAL:{enumerable:!0,writable:!1,configurable:!1,value:"normal"},ITALIC:{enumerable:!0,writable:!1,configurable:!1,value:"italic"},OBLIQUE:{enumerable:!0,writable:!1,configurable:!1,value:"oblique"}})});
Object.defineProperty(doodle,"FontVariant",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{NORMAL:{enumerable:!0,writable:!1,configurable:!1,value:"normal"},SMALL_CAPS:{enumerable:!0,writable:!1,configurable:!1,value:"small-caps"}})});
Object.defineProperty(doodle,"FontWeight",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{NORMAL:{enumerable:!0,writable:!1,configurable:!1,value:"normal"},BOLD:{enumerable:!0,writable:!1,configurable:!1,value:"bold"},BOLDER:{enumerable:!0,writable:!1,configurable:!1,value:"bolder"},LIGHTER:{enumerable:!0,writable:!1,configurable:!1,value:"lighter"}})});
Object.defineProperty(doodle,"TextAlign",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{START:{enumerable:!0,writable:!1,configurable:!1,value:"start"},END:{enumerable:!0,writable:!1,configurable:!1,value:"end"},LEFT:{enumerable:!0,writable:!1,configurable:!1,value:"left"},RIGHT:{enumerable:!0,writable:!1,configurable:!1,value:"right"},CENTER:{enumerable:!0,writable:!1,configurable:!1,value:"center"}})});
Object.defineProperty(doodle,"TextBaseline",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{TOP:{enumerable:!0,writable:!1,configurable:!1,value:"top"},MIDDLE:{enumerable:!0,writable:!1,configurable:!1,value:"middle"},BOTTOM:{enumerable:!0,writable:!1,configurable:!1,value:"bottom"},HANGING:{enumerable:!0,writable:!1,configurable:!1,value:"hanging"},ALPHABETIC:{enumerable:!0,writable:!1,configurable:!1,value:"alphabetic"},IDEOGRAPHIC:{enumerable:!0,writable:!1,configurable:!1,
value:"ideographic"}})});
(function(){var a,i=doodle.utils.hex_to_rgb_str,j=doodle.FontStyle,g=doodle.FontVariant,e=doodle.FontWeight,f=doodle.TextAlign,d=doodle.TextBaseline;doodle.Text=function(h){var l=Object.create(doodle.Sprite());Object.defineProperties(l,a);Object.defineProperties(l,function(){function a(){var c=l.context||document.createElement("canvas").getContext("2d"),e,g,i=l.graphics,j=0,z=0,w=0;c.save();c.font=p+" "+q+" "+n+" "+o+"px "+h;e=c.measureText(b).width;g=o;r=c.measureText("m").width;c.restore();l.graphics.clear();
l.graphics.draw(function(a){if(x)a.fillStyle=x,a.fillRect(0,0,e,g);a.lineWidth=m;a.textAlign=t;a.textBaseline=s;a.font=p+" "+q+" "+n+" "+o+"px "+h;if(v)a.fillStyle=v,a.fillText(b,0,0);if(u)a.strokeStyle=u,a.strokeText(b,0,0)});l.width=e;l.height=g;switch(s){case d.TOP:z=o-r;w=o;break;case d.MIDDLE:z=-r/2;w=r/2;break;case d.BOTTOM:z=-o;break;case d.HANGING:z=o-r;w=o;break;case d.ALPHABETIC:z=-r;break;case d.IDEOGRAPHIC:z=-o}switch(t){case f.END:j=-e;break;case f.RIGHT:j=-e;break;case f.CENTER:j=-e/
2}i.__minX=j;i.__maxX=0;i.__minY=z;i.__maxY=w}var b="",h="sans-serif",o=10,r=o,p=j.NORMAL,q=g.NORMAL,n=e.NORMAL,t=f.START,s=d.ALPHABETIC,v="#000000",u="#000000",m=1,x;return{text:{enumerable:!0,configurable:!1,get:function(){return b},set:function(d){b=d;a()}},font:{enumerable:!0,configurable:!1,get:function(){return p+" "+q+" "+n+" "+o+"px "+h},set:function(a){var b;a=a.split(" ");b=a.length;b===2?a.unshift(j.NORMAL,g.NORMAL,e.NORMAL):b===3?a.splice(1,0,g.NORMAL,e.NORMAL):b===4&&a.splice(1,0,g.NORMAL);
l.fontStyle=a[0];l.fontVariant=a[1];l.fontWeight=a[2];l.fontSize=a[3];l.fontFamily=a[4]}},fontFamily:{enumerable:!0,configurable:!1,get:function(){return h},set:function(b){h=b;a()}},fontSize:{enumerable:!0,configurable:!1,get:function(){return o},set:function(b){typeof b==="string"&&(b=parseInt(b,10));o=b;a()}},fontStyle:{enumerable:!0,configurable:!1,get:function(){return p},set:function(b){p=b;a()}},fontVariant:{enumerable:!0,configurable:!1,get:function(){return q},set:function(b){q=b;a()}},fontWeight:{enumerable:!0,
configurable:!1,get:function(){return n},set:function(b){n=b;a()}},align:{enumerable:!0,configurable:!1,get:function(){return t},set:function(b){t=b;a()}},baseline:{enumerable:!0,configurable:!1,get:function(){return s},set:function(b){s=b;a()}},strokeWidth:{enumerable:!0,configurable:!1,get:function(){return m},set:function(a){m=a}},color:{enumerable:!0,configurable:!1,get:function(){return v},set:function(a){typeof a==="number"&&(a=i(a));v=a}},strokeColor:{enumerable:!0,configurable:!1,get:function(){return u},
set:function(a){typeof a==="number"&&(a=i(a));u=a}},backgroundColor:{enumerable:!0,configurable:!1,get:function(){return x},set:function(a){typeof a==="number"&&(a=i(a));x=a}}}}());switch(arguments.length){case 1:typeof arguments[0]==="function"?(arguments[0].call(l),h=void 0):l.text=h}return l};a={toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Text]"}}}})();
(function(){var a,i=doodle.utils.get_element,j=doodle.events.Event,g=doodle.events.Event.LOAD,e=doodle.events.Event.CHANGE;doodle.Image=function(f){var d=Object.create(doodle.Sprite());Object.defineProperties(d,a);Object.defineProperties(d,function(){function a(c){b=c;if(b.id!=="")d.id=b.id;d.width=b.width;d.height=b.height;d.graphics.draw(function(a){a.drawImage(b,0,0)});d.dispatchEvent(j(g))}function f(){b!==null&&(b=null,d.graphics.clear(),d.dispatchEvent(j(e)))}function c(b){var c=i(b);if(typeof b===
"string")d.id=b;c.complete?a(c):(c.onload=function(){a(c)},c.onerror=function(){throw new URIError("[object Image](imageSrc): Unable to load "+c.src);},c.onabort=function(){throw new URIError("[object Image](imageSrc): Unable to load "+c.src);})}var b=null;return{element:{enumerable:!0,configurable:!1,get:function(){return b},set:function(a){a===null||a===!1?f():c(a)}},src:{enumerable:!0,configurable:!1,get:function(){return b===null?null:b.src},set:function(a){if(a===null||a===!1)f();else{var b=
new Image;b.src=encodeURI(a);c(b)}}}}}());switch(arguments.length){case 1:typeof arguments[0]==="function"?(arguments[0].call(d),f=void 0):typeof f!=="string"?d.element=f:typeof f==="string"&&f[0]==="#"?d.element=f:d.src=f}return d};a={toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Image]"}}}})();
