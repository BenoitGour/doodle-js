window.doodle={};doodle.utils={};doodle.geom={};doodle.events={};doodle.filters={};(function(){var a=[],e=function(){var d=a.length,i=0;if(d>0){for(;i<d;i++)a[i](doodle);a.length=0}},d=function(){e();document.removeEventListener("DOMContentLoaded",d,!1)};doodle.ready=function(d){a.push(d);document.readyState==="complete"&&e()};document.readyState!=="complete"&&(document.addEventListener?document.addEventListener("DOMContentLoaded",d,!1):console.error("document.addEventListener not supported."))})();
if(typeof Function.prototype.bind!=="function")Function.prototype.bind=function(a){var e=this;return function(){return e.apply(a,arguments)}};
(function(){Object.defineProperties(doodle.utils,{hex_to_rgb:{enumerable:!0,writable:!1,configurable:!1,value:function(a){typeof a==="string"&&(a=a[0]==="#"?a.slice(1):a,a=window.parseInt(a,16));return[a>>16&255,a>>8&255,a&255]}},hex_to_rgb_str:{enumerable:!0,writable:!1,configurable:!1,value:function(a,e){var d=doodle.utils,e=e===void 0?1:e,a=d.hex_to_rgb(a);return d.rgb_to_rgb_str(a[0],a[1],a[2],e)}},rgb_str_to_hex:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var e=doodle.utils,
a=e.rgb_str_to_rgb(a);return e.rgb_to_hex(window.parseInt(a[0],10),window.parseInt(a[1],10),window.parseInt(a[2],10))}},rgb_str_to_rgb:{enumerable:!0,writable:!1,configurable:!1,value:function(){var a=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?(.*)\)$/;return function(e){var e=e.trim().match(a),d=[window.parseInt(e[1],10),window.parseInt(e[2],10),window.parseInt(e[3],10)],e=window.parseFloat(e[4]);typeof e==="number"&&!window.isNaN(e)&&d.push(e);return d}}()},rgb_to_hex:{enumerable:!0,
writable:!1,configurable:!1,value:function(a,e,d){a=(d|e<<8|a<<16).toString(16);return"#"+String("000000"+a).slice(-6)}},rgb_to_rgb_str:{enumerable:!0,writable:!1,configurable:!1,value:function(a,e,d,c){c=c===void 0?1:c;c=c<0?0:c>1?1:c;return c===1?"rgb("+a+","+e+","+d+")":"rgba("+a+","+e+","+d+","+c+")"}},get_element:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return typeof a==="string"?(a=a[0]==="#"?a.slice(1):a,document.getElementById(a)):a&&a.tagName?a:null}},get_style_property:{enumerable:!0,
writable:!1,configurable:!1,value:function(a,e,d){try{if(d===void 0&&document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(a,null)[e];else if(a.currentStyle)return a.currentStyle[e];else if(a.style)return a.style[e];else throw new ReferenceError("get_style_property: Cannot read property '"+e+"' of "+a+".");}catch(c){throw new ReferenceError("get_style_property: Cannot read property '"+e+"' of "+a+".");}}},get_element_property:{enumerable:!0,writable:!1,
configurable:!1,value:function(a,e,d,c){var d=d||!1,i;try{i=doodle.utils.get_style_property(a,e,c)}catch(b){i=void 0}if(i===void 0||i===null||i==="")i=a.getAttribute(e);if(d!==!1)switch(d){case "int":i=window.parseInt(i,10);i=window.isNaN(i)?null:i;break;case "number":case "float":i=window.parseFloat(i);i=window.isNaN(i)?null:i;break;case "string":i=String(i)}return i}},set_element_property:{enumerable:!0,writable:!1,configurable:!1,value:function(a,e,d,c){switch(c===void 0?"css":c){case "css":a.style[e]=
d;break;case "html":a.setAttribute(e,d);break;default:throw new SyntaxError("set_element_property: type must be 'css' property or 'html' attribute.");}return d}},create_scene_path:{enumerable:!0,writable:!1,configurable:!1,value:function e(d,c,i){var c=c===void 0?[]:c,b=d.children.length;(i===void 0?0:i)&&c.splice(0,c.length);if(b!==0)for(;b--;)e(d.children[b],c,!1);c.push(d);return c}}})})();
Object.defineProperty(doodle,"Keyboard",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{BACKSPACE:{enumerable:!0,writable:!1,configurable:!1,value:8},TAB:{enumerable:!0,writable:!1,configurable:!1,value:9},ENTER:{enumerable:!0,writable:!1,configurable:!1,value:13},COMMAND:{enumerable:!0,writable:!1,configurable:!1,value:15},SHIFT:{enumerable:!0,writable:!1,configurable:!1,value:16},CONTROL:{enumerable:!0,writable:!1,configurable:!1,value:17},ALTERNATE:{enumerable:!0,writable:!1,
configurable:!1,value:18},PAUSE:{enumerable:!0,writable:!1,configurable:!1,value:19},CAPS_LOCK:{enumerable:!0,writable:!1,configurable:!1,value:20},NUMPAD:{enumerable:!0,writable:!1,configurable:!1,value:21},ESCAPE:{enumerable:!0,writable:!1,configurable:!1,value:27},SPACE:{enumerable:!0,writable:!1,configurable:!1,value:32},PAGE_UP:{enumerable:!0,writable:!1,configurable:!1,value:33},PAGE_DOWN:{enumerable:!0,writable:!1,configurable:!1,value:34},END:{enumerable:!0,writable:!1,configurable:!1,value:35},
HOME:{enumerable:!0,writable:!1,configurable:!1,value:36},LEFT:{enumerable:!0,writable:!1,configurable:!1,value:37},UP:{enumerable:!0,writable:!1,configurable:!1,value:38},RIGHT:{enumerable:!0,writable:!1,configurable:!1,value:39},DOWN:{enumerable:!0,writable:!1,configurable:!1,value:40},INSERT:{enumerable:!0,writable:!1,configurable:!1,value:45},DELETE:{enumerable:!0,writable:!1,configurable:!1,value:46},NUMBER_0:{enumerable:!0,writable:!1,configurable:!1,value:48},NUMBER_1:{enumerable:!0,writable:!1,
configurable:!1,value:49},NUMBER_2:{enumerable:!0,writable:!1,configurable:!1,value:50},NUMBER_3:{enumerable:!0,writable:!1,configurable:!1,value:51},NUMBER_4:{enumerable:!0,writable:!1,configurable:!1,value:52},NUMBER_5:{enumerable:!0,writable:!1,configurable:!1,value:53},NUMBER_6:{enumerable:!0,writable:!1,configurable:!1,value:54},NUMBER_7:{enumerable:!0,writable:!1,configurable:!1,value:55},NUMBER_8:{enumerable:!0,writable:!1,configurable:!1,value:56},NUMBER_9:{enumerable:!0,writable:!1,configurable:!1,
value:57},A:{enumerable:!0,writable:!1,configurable:!1,value:65},B:{enumerable:!0,writable:!1,configurable:!1,value:66},C:{enumerable:!0,writable:!1,configurable:!1,value:67},D:{enumerable:!0,writable:!1,configurable:!1,value:68},E:{enumerable:!0,writable:!1,configurable:!1,value:69},F:{enumerable:!0,writable:!1,configurable:!1,value:70},G:{enumerable:!0,writable:!1,configurable:!1,value:71},H:{enumerable:!0,writable:!1,configurable:!1,value:72},I:{enumerable:!0,writable:!1,configurable:!1,value:73},
J:{enumerable:!0,writable:!1,configurable:!1,value:74},K:{enumerable:!0,writable:!1,configurable:!1,value:75},L:{enumerable:!0,writable:!1,configurable:!1,value:76},M:{enumerable:!0,writable:!1,configurable:!1,value:77},N:{enumerable:!0,writable:!1,configurable:!1,value:78},O:{enumerable:!0,writable:!1,configurable:!1,value:79},P:{enumerable:!0,writable:!1,configurable:!1,value:80},Q:{enumerable:!0,writable:!1,configurable:!1,value:81},R:{enumerable:!0,writable:!1,configurable:!1,value:82},S:{enumerable:!0,
writable:!1,configurable:!1,value:83},T:{enumerable:!0,writable:!1,configurable:!1,value:84},U:{enumerable:!0,writable:!1,configurable:!1,value:85},V:{enumerable:!0,writable:!1,configurable:!1,value:86},W:{enumerable:!0,writable:!1,configurable:!1,value:87},X:{enumerable:!0,writable:!1,configurable:!1,value:88},Y:{enumerable:!0,writable:!1,configurable:!1,value:89},Z:{enumerable:!0,writable:!1,configurable:!1,value:90},WINDOWS_KEY:{enumerable:!0,writable:!1,configurable:!1,value:91},NUMPAD_0:{enumerable:!0,
writable:!1,configurable:!1,value:96},NUMPAD_1:{enumerable:!0,writable:!1,configurable:!1,value:97},NUMPAD_2:{enumerable:!0,writable:!1,configurable:!1,value:98},NUMPAD_3:{enumerable:!0,writable:!1,configurable:!1,value:99},NUMPAD_4:{enumerable:!0,writable:!1,configurable:!1,value:100},NUMPAD_5:{enumerable:!0,writable:!1,configurable:!1,value:101},NUMPAD_6:{enumerable:!0,writable:!1,configurable:!1,value:102},NUMPAD_7:{enumerable:!0,writable:!1,configurable:!1,value:103},NUMPAD_8:{enumerable:!0,writable:!1,
configurable:!1,value:104},NUMPAD_9:{enumerable:!0,writable:!1,configurable:!1,value:105},NUMPAD_MULTIPLY:{enumerable:!0,writable:!1,configurable:!1,value:106},NUMPAD_ADD:{enumerable:!0,writable:!1,configurable:!1,value:107},NUMPAD_ENTER:{enumerable:!0,writable:!1,configurable:!1,value:108},NUMPAD_SUBTRACT:{enumerable:!0,writable:!1,configurable:!1,value:109},NUMPAD_DECIMAL:{enumerable:!0,writable:!1,configurable:!1,value:110},NUMPAD_DIVIDE:{enumerable:!0,writable:!1,configurable:!1,value:111},F1:{enumerable:!0,
writable:!1,configurable:!1,value:112},F2:{enumerable:!0,writable:!1,configurable:!1,value:113},F3:{enumerable:!0,writable:!1,configurable:!1,value:114},F4:{enumerable:!0,writable:!1,configurable:!1,value:115},F5:{enumerable:!0,writable:!1,configurable:!1,value:116},F6:{enumerable:!0,writable:!1,configurable:!1,value:117},F7:{enumerable:!0,writable:!1,configurable:!1,value:118},F8:{enumerable:!0,writable:!1,configurable:!1,value:119},F9:{enumerable:!0,writable:!1,configurable:!1,value:120},F10:{enumerable:!0,
writable:!1,configurable:!1,value:121},F11:{enumerable:!0,writable:!1,configurable:!1,value:122},F12:{enumerable:!0,writable:!1,configurable:!1,value:123},F13:{enumerable:!0,writable:!1,configurable:!1,value:124},F14:{enumerable:!0,writable:!1,configurable:!1,value:125},F15:{enumerable:!0,writable:!1,configurable:!1,value:126},SCROLL:{enumerable:!0,writable:!1,configurable:!1,value:145},SEMICOLON:{enumerable:!0,writable:!1,configurable:!1,value:186},EQUAL:{enumerable:!0,writable:!1,configurable:!1,
value:187},COMMA:{enumerable:!0,writable:!1,configurable:!1,value:188},MINUS:{enumerable:!0,writable:!1,configurable:!1,value:189},PERIOD:{enumerable:!0,writable:!1,configurable:!1,value:190},SLASH:{enumerable:!0,writable:!1,configurable:!1,value:191},BACKQUOTE:{enumerable:!0,writable:!1,configurable:!1,value:192},LEFTBRACKET:{enumerable:!0,writable:!1,configurable:!1,value:219},BACKSLASH:{enumerable:!0,writable:!1,configurable:!1,value:220},RIGHTBRACKET:{enumerable:!0,writable:!1,configurable:!1,
value:221},QUOTE:{enumerable:!0,writable:!1,configurable:!1,value:222}})});Object.defineProperty(doodle,"GradientType",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{LINEAR:{enumerable:!0,writable:!1,configurable:!1,value:"linearGradient"},RADIAL:{enumerable:!0,writable:!1,configurable:!1,value:"radialGradient"}})});
Object.defineProperty(doodle,"Pattern",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{REPEAT:{enumerable:!0,writable:!1,configurable:!1,value:"repeat"},REPEAT_X:{enumerable:!0,writable:!1,configurable:!1,value:"repeat-x"},REPEAT_Y:{enumerable:!0,writable:!1,configurable:!1,value:"repeat-y"},NO_REPEAT:{enumerable:!0,writable:!1,configurable:!1,value:"no-repeat"}})});
Object.defineProperty(doodle,"LineCap",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{BUTT:{enumerable:!0,writable:!1,configurable:!1,value:"butt"},ROUND:{enumerable:!0,writable:!1,configurable:!1,value:"round"},SQUARE:{enumerable:!0,writable:!1,configurable:!1,value:"square"}})});
Object.defineProperty(doodle,"LineJoin",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{MITER:{enumerable:!0,writable:!1,configurable:!1,value:"miter"},ROUND:{enumerable:!0,writable:!1,configurable:!1,value:"round"},BEVEL:{enumerable:!0,writable:!1,configurable:!1,value:"bevel"}})});
(function(){var a,e,d;doodle.events.Event=doodle.events.createEvent=function(c,i,b){var h=Object.create(a),k=arguments.length,f,g;Object.defineProperties(h,e);Object.defineProperties(h,function(){var b,a,d,h=!1,c=0,k=null,n=null,i=null,r=new Date,v=!0,s=!1,o=!1;g=function(g,f,e){f=f===void 0?!1:f;e=e===void 0?!1:e;f!==!1?n=k=f:(k=g.currentTarget,n=g.target);b=e?e:g.type;a=g.bubbles;d=g.cancelable;h=g.cancelBubble;c=g.eventPhase;i=g.srcElement;r=g.timeStamp;v=g.returnValue;g.__cancel&&(s=!0);g.__cancelNow&&
(o=!0)};return{id:function(){var b=null;return{enumerable:!0,configurable:!1,get:function(){return b===null?this.toString()+"[type="+this.type+"]":b},set:function(a){b=a}}}(),type:{enumerable:!0,configurable:!1,get:function(){return b}},__setType:{enumerable:!1,value:function(a){b=a}},bubbles:{enumerable:!0,configurable:!1,get:function(){return a}},cancelable:{enumerable:!0,configurable:!1,get:function(){return d}},cancelBubble:{enumerable:!0,configurable:!1,get:function(){return h},set:function(b){h=
b}},__cancel:{enumerable:!1,configurable:!1,get:function(){return s}},__cancelNow:{enumerable:!1,configurable:!1,get:function(){return o}},currentTarget:{enumerable:!0,configurable:!1,get:function(){return k}},__setCurrentTarget:{enumerable:!1,value:function(b){k=b;return this}},target:{enumerable:!0,configurable:!1,get:function(){return n}},__setTarget:{enumerable:!1,value:function(b){n=b;return this}},eventPhase:{enumerable:!0,configurable:!1,get:function(){return c}},__setEventPhase:{enumerable:!1,
value:function(b){c=b;return this}},srcElement:{enumerable:!0,configurable:!1,get:function(){return i}},timeStamp:{enumerable:!0,configurable:!1,get:function(){return r}},returnValue:{enumerable:!0,configurable:!1,get:function(){return v}},initEvent:{enumerable:!0,configurable:!1,value:function(g,o,h){b=g===void 0?"undefined":g;a=o===void 0?!1:o;d=h===void 0?!1:h;return this}},preventDefault:{enumerable:!0,configurable:!1,value:function(){}},stopPropagation:{enumerable:!0,configurable:!1,value:function(){if(this.cancelable)s=
!0;else throw Error(this.id+" Event.stopPropagation: Event can not be cancelled.");}},stopImmediatePropagation:{enumerable:!0,configurable:!1,value:function(){if(this.cancelable)o=s=!0;else throw Error(this.id+" Event.stopImmediatePropagation: Event can not be cancelled.");}},__copyEventProperties:{enumerable:!1,configurable:!1,value:function(b,a,d){g(b,a===void 0?!1:a,d===void 0?!1:d);return this}}}}());if(k===1&&(typeof arguments[0]==="function"||d(arguments[0])))f=arguments[0],c=void 0;f?typeof f===
"function"?f.call(h):g(f,!1,!1):h.initEvent(c,i,b);return h};e={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object Event]"}}};a=Object.create({},{CAPTURING_PHASE:{enumerable:!0,writable:!1,configurable:!1,value:1},AT_TARGET:{enumerable:!0,writable:!1,configurable:!1,value:2},BUBBLING_PHASE:{enumerable:!0,writable:!1,configurable:!1,value:3},MOUSEDOWN:{enumerable:!0,writable:!1,configurable:!1,value:1},MOUSEUP:{enumerable:!0,writable:!1,configurable:!1,value:2},MOUSEOVER:{enumerable:!0,
writable:!1,configurable:!1,value:4},MOUSEOUT:{enumerable:!0,writable:!1,configurable:!1,value:8},MOUSEMOVE:{enumerable:!0,writable:!1,configurable:!1,value:16},MOUSEDRAG:{enumerable:!0,writable:!1,configurable:!1,value:32},CLICK:{enumerable:!0,writable:!1,configurable:!1,value:64},DBLCLICK:{enumerable:!0,writable:!1,configurable:!1,value:128},KEYDOWN:{enumerable:!0,writable:!1,configurable:!1,value:256},KEYUP:{enumerable:!0,writable:!1,configurable:!1,value:512},KEYPRESS:{enumerable:!0,writable:!1,
configurable:!1,value:1024},DRAGDROP:{enumerable:!0,writable:!1,configurable:!1,value:2048},FOCUS:{enumerable:!0,writable:!1,configurable:!1,value:4096},BLUR:{enumerable:!0,writable:!1,configurable:!1,value:8192},SELECT:{enumerable:!0,writable:!1,configurable:!1,value:16384},CHANGE:{enumerable:!0,writable:!1,configurable:!1,value:32768}});d=doodle.events.Event.isEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Event]"||a.constructor&&a.constructor.name==="Event")return!0;
else a=Object.getPrototypeOf(a);return!1}})();
(function(){var a,e=doodle.events.Event.isEvent;doodle.events.UIEvent=doodle.events.createUIEvent=function(d,c,i,b,h){var k,f,g;e(arguments[0])?(f=arguments[0],d=void 0,k=Object.create(doodle.events.createEvent(f))):typeof arguments[0]==="function"?(f=arguments[0],d=void 0,k=Object.create(doodle.events.createEvent(""))):(c=c===void 0?!1:c,i=i===void 0?!1:i,k=Object.create(doodle.events.createEvent(d,c,i)));Object.defineProperties(k,a);Object.defineProperties(k,function(){var b=null,a=0,d=0,h=0,c=
0,k=0,n=0,i=0,f=0;g=function(g){if(g.view!==void 0)b=g.view;if(g.detail!==void 0)a=g.detail;if(g.which!==void 0)d=g.which;if(g.charCode!==void 0)h=g.charCode;if(g.keyCode!==void 0)c=g.keyCode;if(g.layerX!==void 0)k=g.layerX;if(g.layerY!==void 0)n=g.layerY;if(g.pageX!==void 0)i=g.pageX;if(g.pageY!==void 0)f=g.pageY};return{view:{enumerable:!0,configurable:!1,get:function(){return b}},detail:{enumerable:!0,configurable:!1,get:function(){return a}},which:{enumerable:!0,configurable:!1,get:function(){return d}},
charCode:{enumerable:!0,configurable:!1,get:function(){return h}},keyCode:{enumerable:!0,configurable:!1,get:function(){return c}},layerX:{enumerable:!0,configurable:!1,get:function(){return k}},layerY:{enumerable:!0,configurable:!1,get:function(){return n}},pageX:{enumerable:!0,configurable:!1,get:function(){return i}},pageY:{enumerable:!0,configurable:!1,get:function(){return f}},initUIEvent:{value:function(g,d,h,c,k){b=c===void 0?null:c;a=k===void 0?0:k;this.initEvent(g,d===void 0?!1:d,h===void 0?
!1:h);return this}},__copyUIEventProperties:{enumerable:!1,configurable:!1,value:function(b,a,d){a=a===void 0?!1:a;d=d===void 0?!1:d;g(b);return this.__copyEventProperties(b,a,d)}}}}());f?typeof f==="function"?f.call(k):g(f):k.initUIEvent(d,c,i,b,h);return k};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object UIEvent]"}}}})();
doodle.events.UIEvent.isUIEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object UIEvent]"||a.constructor&&a.constructor.name==="UIEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,e=doodle.events.Event.isEvent;doodle.events.MouseEvent=doodle.events.createMouseEvent=function(d,c,i,b,h,k,f,g,j,m,l,p,q,t,n){var u,r,v;e(arguments[0])?(r=arguments[0],d=void 0,u=Object.create(doodle.events.createUIEvent(r))):typeof arguments[0]==="function"?(r=arguments[0],d=void 0,u=Object.create(doodle.events.createUIEvent(""))):(c=c===void 0?!1:c,i=i===void 0?!1:i,b=b===void 0?null:b,h=h===void 0?0:h,u=Object.create(doodle.events.createUIEvent(d,c,i,b,h)));Object.defineProperties(u,
a);Object.defineProperties(u,function(){var b=0,a=0,g=0,d=0,h=0,c=0,k=0,j=0,m=!1,i=!1,f=!1,l=!1,r=0,u=null;v=function(n){b=n.x!==void 0?n.x:0;a=n.y!==void 0?n.y:0;g=n.offsetX!==void 0?n.offsetX:0;d=n.offsetY!==void 0?n.offsetY:0;if(n.screenX!==void 0)h=n.screenX;if(n.screenY!==void 0)c=n.screenY;if(n.clientX!==void 0)k=n.clientX;if(n.clientY!==void 0)j=n.clientY;if(n.ctrlKey!==void 0)m=n.ctrlKey;if(n.altKey!==void 0)i=n.altKey;if(n.shiftKey!==void 0)f=n.shiftKey;if(n.metaKey!==void 0)l=n.metaKey;
if(n.button!==void 0)r=n.button;if(n.relatedTarget!==void 0)u=n.relatedTarget};return{x:{enumerable:!0,configurable:!1,get:function(){return b}},y:{enumerable:!0,configurable:!1,get:function(){return a}},screenX:{enumerable:!0,configurable:!1,get:function(){return h}},screenY:{enumerable:!0,configurable:!1,get:function(){return c}},clientX:{enumerable:!0,configurable:!1,get:function(){return k}},clientY:{enumerable:!0,configurable:!1,get:function(){return j}},offsetX:{enumerable:!0,configurable:!1,
get:function(){return g}},offsetY:{enumerable:!0,configurable:!1,get:function(){return d}},ctrlKey:{enumerable:!0,configurable:!1,get:function(){return m}},altKey:{enumerable:!0,configurable:!1,get:function(){return i}},shiftKey:{enumerable:!0,configurable:!1,get:function(){return f}},metaKey:{enumerable:!0,configurable:!1,get:function(){return l}},button:{enumerable:!0,configurable:!1,get:function(){return r}},relatedTarget:{enumerable:!0,configurable:!1,get:function(){return u}},initMouseEvent:{value:function(b,
a,g,d,o,v,s,e,L,z,p,I,q,t,F){n=F===void 0?null:F;h=v===void 0?0:v;c=s===void 0?0:s;k=e===void 0?0:e;j=L===void 0?0:L;m=z===void 0?!1:z;i=p===void 0?!1:p;f=I===void 0?!1:I;l=q===void 0?!1:q;r=t===void 0?0:t;u=F;return this.initUIEvent(b,a===void 0?!1:a,g===void 0?!1:g,d===void 0?null:d,o===void 0?0:o)}},getModifierState:{value:function(b){switch(b){case "Alt":return i;case "Control":return m;case "Meta":return l;case "Shift":return f;default:return!1}}},__copyMouseEventProperties:{enumerable:!1,configurable:!1,
value:function(b,a,g){a=a===void 0?!1:a;g=g===void 0?!1:g;v(b);return this.__copyUIEventProperties(b,a,g)}}}}());r?typeof r==="function"?r.call(u):v(r):u.initMouseEvent(d,c,i,b,h,k,f,g,j,m,l,p,q,t,n);return u};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object MouseEvent]"}}}})();
doodle.events.MouseEvent.isMouseEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object MouseEvent]"||a.constructor&&(a.constructor.name==="MouseEvent"||a.constructor.name==="WheelEvent"))return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,e=doodle.events.Event.isEvent;doodle.events.TouchEvent=doodle.events.createTouchEvent=function(d,c,i,b,h,k,f,g,j,m,l,p,q,t,n,u,r,v){var s,o,z;e(arguments[0])?(o=arguments[0],d=void 0,s=Object.create(doodle.events.createUIEvent(o))):typeof arguments[0]==="function"?(o=arguments[0],d=void 0,s=Object.create(doodle.events.createUIEvent(""))):(c=c===void 0?!1:c,i=i===void 0?!1:i,b=b===void 0?null:b,h=h===void 0?0:h,s=Object.create(doodle.events.createUIEvent(d,c,i,b,h)));Object.defineProperties(s,
a);Object.defineProperties(s,function(){var b=0,a=0,g=0,d=0,h=!1,o=!1,c=!1,n=!1,k=null,j=null,m=null,i=1,v=0;z=function(f){if(f.screenX!==void 0)b=f.screenX;if(f.screenY!==void 0)a=f.screenY;if(f.clientX!==void 0)g=f.clientX;if(f.clientY!==void 0)d=f.clientY;if(f.ctrlKey!==void 0)h=f.ctrlKey;if(f.altKey!==void 0)o=f.altKey;if(f.shiftKey!==void 0)c=f.shiftKey;if(f.metaKey!==void 0)n=f.metaKey;if(f.touches!==void 0)k=f.touches;if(f.targetTouches!==void 0)j=f.targetTouches;if(f.changedTouches!==void 0)m=
f.changedTouches;if(f.scale!==void 0)i=f.scale;if(f.rotation!==void 0)v=f.rotation};return{screenX:{enumerable:!0,configurable:!1,get:function(){return b}},screenY:{enumerable:!0,configurable:!1,get:function(){return a}},clientX:{enumerable:!0,configurable:!1,get:function(){return g}},clientY:{enumerable:!0,configurable:!1,get:function(){return d}},ctrlKey:{enumerable:!0,configurable:!1,get:function(){return h}},altKey:{enumerable:!0,configurable:!1,get:function(){return o}},shiftKey:{enumerable:!0,
configurable:!1,get:function(){return c}},metaKey:{enumerable:!0,configurable:!1,get:function(){return n}},touches:{enumerable:!0,configurable:!1,get:function(){return k}},targetTouches:{enumerable:!0,configurable:!1,get:function(){return j}},changedTouches:{enumerable:!0,configurable:!1,get:function(){return m}},scale:{enumerable:!0,configurable:!1,get:function(){return i}},rotation:{enumerable:!0,configurable:!1,get:function(){return v}},initTouchEvent:{value:function(f,l,r,s,u,e,z,p,q,I,t,M,F,
N,O,P,Q,R){b=e===void 0?0:e;a=z===void 0?0:z;g=p===void 0?0:p;d=q===void 0?0:q;h=I===void 0?!1:I;o=t===void 0?!1:t;c=M===void 0?!1:M;n=F===void 0?!1:F;k=N===void 0?null:N;j=O===void 0?null:O;m=P===void 0?null:P;i=Q===void 0?1:Q;v=R===void 0?0:R;this.initUIEvent(f,l===void 0?!1:l,r===void 0?!1:r,s===void 0?null:s,u===void 0?0:u);return this}},getModifierState:{value:function(b){switch(b){case "Alt":return o;case "Control":return h;case "Meta":return n;case "Shift":return c;default:return!1}}},__copyTouchEventProperties:{enumerable:!1,
configurable:!1,value:function(b,a,g){a=a===void 0?!1:a;g=g===void 0?!1:g;z(b);return this.__copyUIEventProperties(b,a,g)}}}}());o?typeof o==="function"?o.call(s):z(o):s.initTouchEvent(d,c,i,b,h,k,f,g,j,m,l,p,q,t,n,u,r,v);return s};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object TouchEvent]"}}}})();
doodle.events.TouchEvent.isTouchEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object TouchEvent]"||a.constructor&&a.constructor.name==="TouchEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,e=doodle.events.Event.isEvent;doodle.events.TextEvent=doodle.events.createTextEvent=function(d,c,i,b,h,k){var f,g,j;e(arguments[0])?(g=arguments[0],d=void 0,f=Object.create(doodle.events.createUIEvent(g))):typeof arguments[0]==="function"?(g=arguments[0],d=void 0,f=Object.create(doodle.events.createUIEvent(""))):(c=c===void 0?!1:c,i=i===void 0?!1:i,b=b===void 0?null:b,f=Object.create(doodle.events.createUIEvent(d,c,i,b)));Object.defineProperties(f,a);Object.defineProperties(f,function(){var b=
"",a=doodle.events.TextEvent.INPUT_METHOD_UNKNOWN;j=function(g){if(g.data!==void 0)b=g.data;if(g.inputMode!==void 0)a=g.inputMode};return{data:{enumerable:!0,configurable:!1,get:function(){return b}},inputMode:{enumerable:!0,configurable:!1,get:function(){return a}},initTextEvent:{value:function(g,d,h,c,k,j){j=j===void 0?doodle.events.TextEvent.INPUT_METHOD_UNKNOWN:j;b=k===void 0?"":k;a=j;this.initUIEvent(g,d===void 0?!1:d,h===void 0?!1:h,c===void 0?null:c);return this}},__copyTextEventProperties:{enumerable:!1,
configurable:!1,value:function(b,a,g){a=a===void 0?!1:a;g=g===void 0?!1:g;j(b);return this.__copyUIEventProperties(b,a,g)}}}}());g?typeof g==="function"?g.call(f):j(g):f.initTextEvent(d,c,i,b,h,k);return f};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object TextEvent]"}}}})();
doodle.events.TextEvent.isTextEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object TextEvent]"||a.constructor&&a.constructor.name==="TextEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,e=doodle.events.Event.isEvent;doodle.events.KeyboardEvent=doodle.events.createKeyboardEvent=function(d,c,i,b,h,k,f,g){var j,m,l;e(arguments[0])?(m=arguments[0],d=void 0,j=Object.create(doodle.events.createUIEvent(m))):typeof arguments[0]==="function"?(m=arguments[0],d=void 0,j=Object.create(doodle.events.createUIEvent(""))):(c=c===void 0?!1:c,i=i===void 0?!1:i,b=b===void 0?null:b,j=Object.create(doodle.events.createUIEvent(d,c,i,b)));Object.defineProperties(j,a);Object.defineProperties(j,
function(){var b="",a=0,g=!1,d=!1,h=!1,c=!1,k=!1;l=function(j){if(j.keyIdentifier!==void 0)b=j.keyIdentifier;if(j.keyLocation!==void 0)a=j.keyLocation;if(j.repeat!==void 0)g=j.repeat;if(j.ctrlKey!==void 0)d=j.ctrlKey;if(j.altKey!==void 0)h=j.altKey;if(j.shiftKey!==void 0)c=j.shiftKey;if(j.metaKey!==void 0)k=j.metaKey;if(j.altGraphKey!==void 0)h=j.altGraphKey};return{keyIdentifier:{enumerable:!0,configurable:!1,get:function(){return b}},keyLocation:{enumerable:!0,configurable:!1,get:function(){return a}},
repeat:{enumerable:!0,configurable:!1,get:function(){return g}},ctrlKey:{enumerable:!0,configurable:!1,get:function(){return d}},altKey:{enumerable:!0,configurable:!1,get:function(){return h}},shiftKey:{enumerable:!0,configurable:!1,get:function(){return c}},metaKey:{enumerable:!0,configurable:!1,get:function(){return k}},altGraphKey:{enumerable:!0,configurable:!1,get:function(){return!1}},initKeyboardEvent:{value:function(j,o,f,m,i,l,e,x){o=o===void 0?!1:o;f=f===void 0?!1:f;m=m===void 0?null:m;b=
i===void 0?"":i;a=l===void 0?0:l;g=x===void 0?!1:x;(e===void 0?"":e).split(" ").forEach(function(b){switch(b){case "Alt":h=!0;break;case "Control":d=!0;break;case "Meta":k=!0;break;case "Shift":c=!0}});this.initUIEvent(j,o,f,m);return this}},getModifierState:{value:function(b){switch(b){case "Alt":return h;case "Control":return d;case "Meta":return k;case "Shift":return c;default:return!1}}},__copyKeyboardEventProperties:{enumerable:!1,configurable:!1,value:function(b,a,g){a=a===void 0?!1:a;g=g===
void 0?!1:g;l(b);return this.__copyUIEventProperties(b,a,g)}}}}());m?typeof m==="function"?m.call(j):l(m):j.initKeyboardEvent(d,c,i,b,h,k,f,g);return j};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object KeyboardEvent]"}}}})();doodle.events.KeyboardEvent.isKeyboardEvent=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object KeyboardEvent]"||a.constructor&&a.constructor.name==="KeyboardEvent")return!0;else a=Object.getPrototypeOf(a);return!1};
Object.defineProperties(doodle.events.Event,{CAPTURING_PHASE:{enumerable:!0,writable:!1,configurable:!1,value:1},AT_TARGET:{enumerable:!0,writable:!1,configurable:!1,value:2},BUBBLING_PHASE:{enumerable:!0,writable:!1,configurable:!1,value:3},ADDED:{enumerable:!0,writable:!1,configurable:!1,value:"added"},REMOVED:{enumerable:!0,writable:!1,configurable:!1,value:"removed"},ENTER_FRAME:{enumerable:!0,writable:!1,configurable:!1,value:"enterFrame"},LOAD:{enumerable:!0,writable:!1,configurable:!1,value:"load"},
CHANGE:{enumerable:!0,writable:!1,configurable:!1,value:"change"}});Object.defineProperties(doodle.events.UIEvent,{FOCUS_IN:{enumerable:!0,writable:!1,configurable:!1,value:"focusIn"}});
Object.defineProperties(doodle.events.MouseEvent,{CLICK:{enumerable:!0,writable:!1,configurable:!1,value:"click"},DOUBLE_CLICK:{enumerable:!0,writable:!1,configurable:!1,value:"dblclick"},CONTEXT_MENU:{enumerable:!0,writable:!1,configurable:!1,value:"contextmenu"},MOUSE_DOWN:{enumerable:!0,writable:!1,configurable:!1,value:"mousedown"},MOUSE_UP:{enumerable:!0,writable:!1,configurable:!1,value:"mouseup"},MOUSE_WHEEL:{enumerable:!0,writable:!1,configurable:!1,value:"mousewheel"},MOUSE_MOVE:{enumerable:!0,
writable:!1,configurable:!1,value:"mousemove"},MOUSE_OUT:{enumerable:!0,writable:!1,configurable:!1,value:"mouseout"},MOUSE_OVER:{enumerable:!0,writable:!1,configurable:!1,value:"mouseover"},MOUSE_ENTER:{enumerable:!0,writable:!1,configurable:!1,value:"mouseenter"},MOUSE_LEAVE:{enumerable:!0,writable:!1,configurable:!1,value:"mouseleave"}});
Object.defineProperties(doodle.events.TouchEvent,{TOUCH_START:{enumerable:!0,writable:!1,configurable:!1,value:"touchstart"},TOUCH_MOVE:{enumerable:!0,writable:!1,configurable:!1,value:"touchmove"},TOUCH_END:{enumerable:!0,writable:!1,configurable:!1,value:"touchend"},TOUCH_CANCEL:{enumerable:!0,writable:!1,configurable:!1,value:"touchcancel"}});
Object.defineProperties(doodle.events.KeyboardEvent,{KEY_PRESS:{enumerable:!0,writable:!1,configurable:!1,value:"keypress"},KEY_UP:{enumerable:!0,writable:!1,configurable:!1,value:"keyup"},KEY_DOWN:{enumerable:!0,writable:!1,configurable:!1,value:"keydown"},KEY_LOCATION_STANDARD:{enumerable:!0,writable:!1,configurable:!1,value:0},KEY_LOCATION_LEFT:{enumerable:!0,writable:!1,configurable:!1,value:1},KEY_LOCATION_RIGHT:{enumerable:!0,writable:!1,configurable:!1,value:2},KEY_LOCATION_NUMPAD:{enumerable:!0,
writable:!1,configurable:!1,value:3},KEY_LOCATION_MOBILE:{enumerable:!0,writable:!1,configurable:!1,value:4},KEY_LOCATION_JOYSTICK:{enumerable:!0,writable:!1,configurable:!1,value:5}});
Object.defineProperties(doodle.events.TextEvent,{TEXT_INPUT:{enumerable:!0,writable:!1,configurable:!1,value:"textInput"},INPUT_METHOD_UNKNOWN:{enumerable:!0,writable:!1,configurable:!1,value:0},INPUT_METHOD_KEYBOARD:{enumerable:!0,writable:!1,configurable:!1,value:1},INPUT_METHOD_PASTE:{enumerable:!0,writable:!1,configurable:!1,value:2},INPUT_METHOD_DROP:{enumerable:!0,writable:!1,configurable:!1,value:3},INPUT_METHOD_IME:{enumerable:!0,writable:!1,configurable:!1,value:4},INPUT_METHOD_OPTION:{enumerable:!0,
writable:!1,configurable:!1,value:5},INPUT_METHOD_HANDWRITING:{enumerable:!0,writable:!1,configurable:!1,value:6},INPUT_METHOD_VOICE:{enumerable:!0,writable:!1,configurable:!1,value:7},INPUT_METHOD_MULTIMODAL:{enumerable:!0,writable:!1,configurable:!1,value:8},INPUT_METHOD_SCRIPT:{enumerable:!0,writable:!1,configurable:!1,value:9}});
(function(){var a={},e=Array(8);doodle.filters.ColorFilter=doodle.filters.createColorFilter=function(d,c,i,b,h,k,f,g){var j={},m=arguments.length;Object.defineProperties(j,a);Object.defineProperties(j,function(){var b=null,a=1,g=1,d=1,h=1,c=0,j=0,k=0,f=0;return{redMultiplier:{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}},greenMultiplier:{enumerable:!0,configurable:!1,get:function(){return g},set:function(b){g=b}},blueMultiplier:{enumerable:!0,configurable:!1,get:function(){return d},
set:function(b){d=b}},alphaMultiplier:{enumerable:!0,configurable:!1,get:function(){return h},set:function(b){h=b}},redOffset:{enumerable:!0,configurable:!1,get:function(){return c},set:function(b){c=b}},greenOffset:{enumerable:!0,configurable:!1,get:function(){return j},set:function(b){j=b}},blueOffset:{enumerable:!0,configurable:!1,get:function(){return k},set:function(b){k=b}},alphaOffset:{enumerable:!0,configurable:!1,get:function(){return f},set:function(b){f=b}},id:{enumerable:!0,configurable:!1,
get:function(){return b===null?this.toString():b},set:function(a){b=a}},__applyFilter:{enumerable:!0,configurable:!1,value:function(b,m,i,l,e){var A=b.getImageData(m,i,l,e),x=A.data;l*=e;for(var B=a,E=c,w=g,S=j,y=d,G=k,H=h,J=f;--l;)e=l<<2,x[e]=x[e]*B+E,x[e+1]=x[e+1]*w+S,x[e+2]=x[e+2]*y+G,x[e+3]=x[e+3]*H+J;A.data=x;b.putImageData(A,m,i)}},__toArray:{enumerable:!1,writable:!1,configurable:!1,value:function(){e[0]=a;e[1]=g;e[2]=d;e[3]=h;e[4]=c;e[5]=j;e[6]=k;e[7]=f;return e}}}}());switch(m){case 8:j.compose(d,
c,i,b,h,k,f,g);break;case 1:m=arguments[0],d=void 0,typeof m==="function"?m.call(j):Array.isArray(m)?j.compose.apply(j,m):j.compose.apply(j,m.__toArray())}return j};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object ColorFilter]"}},toArray:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.__toArray().concat()}},compose:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c,i,b,h,k,f,g){this.redMultiplier=a;this.greenMultiplier=c;this.blueMultiplier=
i;this.alphaMultiplier=b;this.redOffset=h;this.greenOffset=k;this.blueOffset=f;this.alphaOffset=g;return this}},clone:{enumerable:!0,writable:!1,configurable:!1,value:function(){return doodle.filters.createColorFilter(this.__toArray())}},equals:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.redMultiplier===a.redMultiplier&&this.greenMultiplier===a.greenMultiplier&&this.blueMultiplier===a.blueMultiplier&&this.alphaMultiplier===a.alphaMultiplier&&this.redOffset===a.redOffset&&
this.greenOffset===a.greenOffset&&this.blueOffset===a.blueOffset&&this.alphaOffset===a.alphaOffset}}}})();
(function(){var a,e,d=Array(2),c={x:0,y:0};doodle.geom.Point=doodle.geom.createPoint=function(c,b){var h={},k=arguments.length;Object.defineProperties(h,a);Object.defineProperties(h,function(){var b=0,a=0;return{x:{enumerable:!0,configurable:!1,get:function(){return b},set:function(a){b=a}},y:{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}},__toArray:{enumerable:!1,writable:!1,configurable:!1,value:function(){d[0]=b;d[1]=a;return d}},id:function(){var b=null;return{enumerable:!0,
configurable:!1,get:function(){return b===null?this.toString():b},set:function(a){b=a}}}()}}());switch(k){case 2:h.compose(c,b);break;case 1:k=arguments[0],c=void 0,typeof k==="function"?k.call(h):Array.isArray(k)?h.compose.apply(h,k):h.compose(k.x,k.y)}return h};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"(x="+this.x+",y="+this.y+")"}},toArray:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.__toArray().concat()}},length:{enumerable:!0,configurable:!1,
get:function(){return e(c,this)}},compose:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b){this.x=a;this.y=b;return this}},clone:{enumerable:!0,writable:!1,configurable:!1,value:function(){return doodle.geom.createPoint(this.x,this.y)}},equals:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.x===a.x&&this.y===a.y}},add:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return doodle.geom.createPoint(this.x+a.x,this.y+a.y)}},subtract:{enumerable:!0,writable:!1,
configurable:!1,value:function(a){return doodle.geom.createPoint(this.x-a.x,this.y-a.y)}},offset:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b){this.x+=a;this.y+=b;return this}},normalize:{enumerable:!0,writable:!1,configurable:!1,value:function(a){this.x=this.x/this.length*a;this.y=this.y/this.length*a;return this}},interpolate:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b,d){return doodle.geom.createPoint(a.x+(b.x-a.x)*d,a.y+(b.y-a.y)*d)}},polar:{enumerable:!0,writable:!1,
configurable:!1,value:function(a,b){return doodle.geom.createPoint(a*Math.cos(b),a*Math.sin(b))}}};e=doodle.geom.Point.distance=function(a,b){var d=b.x-a.x,c=b.y-a.y;return Math.sqrt(d*d+c*c)}})();doodle.geom.Point.isPoint=function(a){return typeof a==="object"&&typeof a.x==="number"&&typeof a.y==="number"};
(function(){var a,e=Array(6),d={x:null,y:null},c={a:null,b:null,c:null,d:null,tx:null,ty:null},i=doodle.geom.createPoint;doodle.geom.Matrix=doodle.geom.createMatrix=function(b,d,c,f,g,j){var m={},l=arguments.length;Object.defineProperties(m,a);Object.defineProperties(m,function(){var b=1,a=0,g=0,d=1,h=0,c=0;return{a:{enumerable:!0,configurable:!1,get:function(){return b},set:function(a){b=a}},b:{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}},c:{enumerable:!0,configurable:!1,
get:function(){return g},set:function(b){g=b}},d:{enumerable:!0,configurable:!1,get:function(){return d},set:function(b){d=b}},tx:{enumerable:!0,configurable:!1,get:function(){return h},set:function(b){h=b}},ty:{enumerable:!0,configurable:!1,get:function(){return c},set:function(b){c=b}},__toArray:{enumerable:!1,writable:!1,configurable:!1,value:function(){e[0]=b;e[1]=a;e[2]=g;e[3]=d;e[4]=h;e[5]=c;return e}},id:function(){var b=null;return{enumerable:!0,configurable:!1,get:function(){return b===null?
this.toString():b},set:function(a){b=a}}}()}}());switch(l){case 6:m.compose(b,d,c,f,g,j);break;case 1:l=arguments[0],b=void 0,typeof l==="function"?l.call(m):Array.isArray(l)?m.compose.apply(m,l):m.compose(l.a,l.b,l.c,l.d,l.tx,l.ty)}return m};a={compose:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a,d,c,g,j){this.a=b;this.b=a;this.c=d;this.d=c;this.tx=g;this.ty=j;return this}},toArray:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.__toArray().concat()}},toString:{enumerable:!0,
writable:!1,configurable:!1,value:function(){return"(a="+this.a+",b="+this.b+",c="+this.c+",d="+this.d+",tx="+this.tx+",ty="+this.ty+")"}},equals:{enumerable:!0,writable:!1,configurable:!1,value:function(b){return this.a===b.a&&this.b===b.b&&this.c===b.c&&this.d===b.d&&this.tx===b.tx&&this.ty===b.ty}},identity:{enumerable:!0,writable:!1,configurable:!1,value:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this}},clone:{enumerable:!0,writable:!1,configurable:!1,value:function(){return doodle.geom.createMatrix(this.a,
this.b,this.c,this.d,this.tx,this.ty)}},multiply:{enumerable:!0,writable:!1,configurable:!1,value:function(b){return this.compose(this.a*b.a+this.c*b.b,this.b*b.a+this.d*b.b,this.a*b.c+this.c*b.d,this.b*b.c+this.d*b.d,this.a*b.tx+this.c*b.ty+this.tx,this.b*b.tx+this.d*b.ty+this.ty)}},rotate:{enumerable:!0,writable:!1,configurable:!1,value:function(b){var a=Math.cos(b),b=Math.sin(b);c.a=a;c.b=b;c.c=-b;c.d=a;c.tx=0;c.ty=0;return this.multiply(c)}},deltaRotate:{enumerable:!0,writable:!1,configurable:!1,
value:function(b){var a=this.tx,d=this.ty;this.rotate(b);this.tx=a;this.ty=d;return this}},rotation:{enumerable:!0,configurable:!1,get:function(){return Math.atan2(this.b,this.a)},set:function(b){var a=Math.cos(b),b=Math.sin(b);this.compose(a,b,-b,a,this.tx,this.ty)}},scale:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){c.a=b;c.b=0;c.c=0;c.d=a;c.tx=0;c.ty=0;return this.multiply(c)}},deltaScale:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){var d=this.tx,c=this.ty;this.scale(b,
a);this.tx=d;this.ty=c;return this}},translate:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){this.tx+=b;this.ty+=a;return this}},skew:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){var d=Math.tan(b),f=Math.tan(a);c.a=1;c.b=f;c.c=d;c.d=1;c.tx=0;c.ty=0;return this.multiply(c)}},deltaSkew:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){var d=this.tx,c=this.ty;this.skew(b,a);this.tx=d;this.ty=c;return this}},add:{enumerable:!0,writable:!1,configurable:!1,
value:function(b){this.a+=b.a;this.b+=b.b;this.c+=b.c;this.d+=b.d;this.tx+=b.tx;this.ty+=b.ty;return this}},invert:{enumerable:!0,writable:!1,configurable:!1,value:function(){var b=this.a*this.d-this.b*this.c;return this.compose(this.d/b,-this.b/b,-this.c/b,this.a/b,(this.ty*this.c-this.d*this.tx)/b,-(this.ty*this.a-this.b*this.tx)/b)}},transformPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(b){return i(this.a*b.x+this.c*b.y+this.tx,this.b*b.x+this.d*b.y+this.ty)}},__transformPoint:{enumerable:!1,
writable:!1,configurable:!1,value:function(b){var a=b.x,d=b.y;b.x=this.a*a+this.c*d+this.tx;b.y=this.b*a+this.d*d+this.ty;return b}},deltaTransformPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(b){return i(this.a*b.x+this.c*b.y,this.b*b.x+this.d*b.y)}},__deltaTransformPoint:{enumerable:!1,writable:!1,configurable:!1,value:function(b){var a=b.x,d=b.y;b.x=this.a*a+this.c*d;b.y=this.b*a+this.d*d;return b}},rotateAroundExternalPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(b,
a){var k=Math.cos(a),f=Math.sin(a);c.a=k;c.b=f;c.c=-f;c.d=k;c.tx=0;c.ty=0;this.translate(-b.x,-b.y);d.x=c.a*this.tx+c.c*this.ty+c.tx;d.y=c.b*this.tx+c.d*this.ty+c.ty;this.tx=d.x;this.ty=d.y;return this.multiply(c).translate(b.x,b.y)}},rotateAroundInternalPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){d.x=this.a*b.x+this.c*b.y+this.tx;d.y=this.b*b.x+this.d*b.y+this.ty;return this.rotateAroundExternalPoint(d,a)}},matchInternalPointWithExternal:{enumerable:!0,writable:!1,configurable:!1,
value:function(b,a){d.x=this.a*b.x+this.c*b.y+this.tx;d.y=this.b*b.x+this.d*b.y+this.ty;return this.translate(a.x-d.x,a.y-d.y)}},interpolate:{enumerable:!0,writable:!1,configurable:!1,value:function(b,a){this.a+=(b.a-this.a)*a;this.b+=(b.b-this.b)*a;this.c+=(b.c-this.c)*a;this.d+=(b.d-this.d)*a;this.tx+=(b.tx-this.tx)*a;this.ty+=(b.ty-this.ty)*a;return this}}}})();
doodle.geom.Matrix.isMatrix=function(a){return typeof a==="object"&&typeof a.a==="number"&&typeof a.b==="number"&&typeof a.c==="number"&&typeof a.d==="number"&&typeof a.tx==="number"&&typeof a.ty==="number"};
(function(){var a,e=Array(4);doodle.geom.Rectangle=doodle.geom.createRectangle=function(d,c,i,b){var h={},k=arguments.length;Object.defineProperties(h,a);Object.defineProperties(h,function(){var b=0,a=0,d=0,c=0;return{x:{enumerable:!0,configurable:!1,get:function(){return b},set:function(a){b=a}},y:{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}},width:{enumerable:!0,configurable:!1,get:function(){return d},set:function(b){d=b}},height:{enumerable:!0,configurable:!1,get:function(){return c},
set:function(b){c=b}},__toArray:{enumerable:!1,writable:!1,configurable:!1,value:function(){e[0]=b;e[1]=a;e[2]=d;e[3]=c;return e}},id:function(){var b=null;return{enumerable:!0,configurable:!1,get:function(){return b===null?this.toString():b},set:function(a){b=a}}}()}}());switch(k){case 4:h.compose(d,c,i,b);break;case 1:k=arguments[0],d=void 0,typeof k==="function"?k.call(h):Array.isArray(k)?h.compose.apply(h,k):h.compose(k.x,k.y,k.width,k.height)}return h};a={top:{enumerable:!0,configurable:!1,get:function(){return this.y},
set:function(a){this.y=a;this.height-=a}},right:{enumerable:!0,configurable:!1,get:function(){return this.x+this.width},set:function(a){this.width=a-this.x}},bottom:{enumerable:!0,configurable:!1,get:function(){return this.y+this.height},set:function(a){this.height=a-this.y}},left:{enumerable:!0,configurable:!1,get:function(){return this.x},set:function(a){this.x=a;this.width-=a}},toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"(x="+this.x+",y="+this.y+",w="+this.width+
",h="+this.height+")"}},toArray:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.__toArray().concat()}},compose:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c,e,b){this.x=a;this.y=c;this.width=e;this.height=b;return this}},__compose:{enumerable:!1,writable:!1,configurable:!1,value:function(a){this.compose.apply(this,a.__toArray());return this}},clone:{enumerable:!0,writable:!1,configurable:!1,value:function(){return doodle.geom.createRectangle(this.x,this.y,this.width,
this.height)}},offset:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){this.x+=a;this.y+=c;return this}},inflate:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){this.x-=a;this.width+=2*a;this.y-=c;this.height+=2*c;return this}},equals:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height}},isEmpty:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.width>=0||this.height>=
0}},contains:{enumerable:!1,writable:!1,configurable:!1,value:function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom}},containsPoint:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.contains(a.x,a.y)}},containsRect:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var c=a.x+a.width,e=a.y+a.height;return this.contains(a.x,a.y)&&this.contains(c,a.y)&&this.contains(c,e)&&this.contains(a.x,e)}},intersects:{enumerable:!0,writable:!1,configurable:!1,
value:function(a){var c=a.x+a.width,e=a.y+a.height;return this.contains(a.x,a.y)||this.contains(c,a.y)||this.contains(c,e)||this.contains(a.x,a.bot)}},intersection:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var c=doodle.geom.createRectangle(0,0,0,0);if(this.intersects(a))c.left=Math.max(this.left,a.x),c.top=Math.max(this.top,a.y),c.right=Math.min(this.right,a.x+a.width),c.bottom=Math.min(this.bottom,a.y+a.height);return c}},__intersection:{enumerable:!1,writable:!1,configurable:!1,
value:function(a){if(this.intersects(a))this.left=Math.max(this.left,a.x),this.top=Math.max(this.top,a.y),this.right=Math.min(this.right,a.x+a.width),this.bottom=Math.min(this.bottom,a.y+a.height);return this}},union:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var c=doodle.geom.createRectangle(0,0,0,0);c.left=Math.min(this.left,a.x);c.top=Math.min(this.top,a.y);c.right=Math.max(this.right,a.x+a.width);c.bottom=Math.max(this.bottom,a.y+a.height);return c}},__union:{enumerable:!1,writable:!1,
configurable:!1,value:function(a){var c=Math.min(this.top,a.y),e=Math.max(this.right,a.x+a.width),b=Math.max(this.bottom,a.y+a.height);this.left=Math.min(this.left,a.x);this.top=c;this.right=e;this.bottom=b;return this}}}})();doodle.geom.Rectangle.isRectangle=function(a){return typeof a==="object"&&typeof a.x==="number"&&typeof a.y==="number"&&typeof a.width==="number"&&typeof a.height==="number"};
(function(){var a,e,d=doodle.events.Event.CAPTURING_PHASE,c=doodle.events.Event.AT_TARGET,i=doodle.events.Event.BUBBLING_PHASE;doodle.Emitter=doodle.createEmitter=function(b){var c={};Object.defineProperties(c,a);Object.defineProperties(c,{allListeners:function(){var a={};return{enumerable:!0,configurable:!1,get:function(){return a}}}(),listeners:{enumerable:!0,configurable:!1,value:function(){console.error("Emitter.listeners(type) not implemented.")}}});typeof b==="function"&&b.call(c);return c};
a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object Emitter]"}},addListener:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c,d){var d=d===void 0?!1:d,f=this.allListeners;f.hasOwnProperty(a)||(f[a]={capture:[],bubble:[]});f[a][d?"capture":"bubble"].push(c);e.indexOf(this)===-1&&e.push(this)}},on:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){this.addListener(a,c,!1)}},once:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){var d=
function(){c();this.removeListener(a,d,!1)}.bind(this);this.addListener(a,d,!1)}},removeListener:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c,d){var d=d===void 0?!1:d,f=this.allListeners,g=f.hasOwnProperty(a)?f[a]:!1;g&&(f=g[d?"capture":"bubble"],c=f.indexOf(c),c!==-1&&f.splice(c,1),g.capture.length===0&&g.bubble.length===0&&delete f[a],Object.keys(f).length===0&&e.splice(e.indexOf(this),1))}},removeAllListeners:{enumerable:!0,writable:!1,configurable:!1,value:function(a,c){var c=
c===void 0?null:c,d=this.allListeners;c===null?delete d[a]:(d[a][c?"capture":"bubble"].length=0,d[a].capture.length===0&&d[a].bubble.length===0&&delete d[a]);Object.keys(d).length===0&&e.splice(e.indexOf(this),1)}},handleEvent:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var c=a.eventPhase===d?"capture":"bubble",e=this.allListeners[a.type],f=0,g;if((e=e&&e[c])&&e.length>0){a.__setCurrentTarget(this);f=e.length;for(g=0;g<f;g+=1){c=e[g].call(this,a);if(c===!1||a.returnValue===!1)a.__cancel||
a.stopPropagation();if(a.__cancelNow)break}}return f>0?!0:!1}},emit:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var e,k=a.type,f=this.allListeners.hasOwnProperty(k),g,j=[];if(a.__cancel)return!1;a.target||a.__setTarget(this);e=a.target;for(g=e.parent||null;g;)f||(f=g.allListeners.hasOwnProperty(k)),j.push(g),g=g.parent;if(!f)return!0;a.__setEventPhase(d);for(f=k=j.length;f--;)if(j[f].handleEvent(a),a.__cancel)return!0;a.__setEventPhase(c);e.handleEvent(a);if(a.__cancel)return!0;if(!a.bubbles||
a.cancelBubble)return!0;a.__setEventPhase(i);for(f=0;f<k;f+=1)if(j[f].handleEvent(a),a.__cancel||a.cancelBubble)break;return!0}},broadcast:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var c=a.type,d=e,f=d.length;if(a.__cancel)throw Error(this+".broadcast: Can not dispatch a cancelled event.");for(a.target||a.__setTarget(this);f--;)if(d[f].allListeners.hasOwnProperty(c)&&d[f].handleEvent(a),a.__cancel)break;return!0}},hasListener:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.allListeners.hasOwnProperty(a)}},
willTrigger:{enumerable:!0,writable:!1,configurable:!1,value:function(a){if(this.allListeners.hasOwnProperty(a))return!0;for(var c=this.children,d=c?c.length:0;d--;)if(c[d].willTrigger(a))return!0;return!1}}};e=doodle.Emitter.emitter_queue=[]})();doodle.Emitter.isEmitter=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Emitter]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a=0,e,d=doodle.events.Event(doodle.events.Event.ADDED,!0),c=doodle.events.Event(doodle.events.Event.REMOVED,!0),i=doodle.geom.createPoint,b=doodle.geom.createMatrix,h=doodle.geom.createRectangle,k=doodle.utils.create_scene_path,f=Math.PI;doodle.Node=doodle.createNode=function(g){var c=Object.create(doodle.createEmitter());Object.defineProperties(c,e);Object.defineProperties(c,{id:function(){var b=typeof g==="string"?g:"node"+String("000"+a).slice(-3);a+=1;return{enumerable:!0,configurable:!0,
get:function(){return b},set:function(a){b=a}}}(),root:function(){var a=null;return{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}}}(),parent:function(){var a=null;return{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}}}(),children:function(){var a=[];return{enumerable:!0,configurable:!1,get:function(){return a}}}(),transform:function(){var a=b(1,0,0,1,0,0);return{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}}}(),
visible:function(){var a=!0;return{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}}}(),alpha:function(){var a=1;return{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b>1?1:b<0?0:b}}}(),getBounds:{enumerable:!0,writable:!0,configurable:!1,value:function(a){return this.__getBounds(a).clone()}},__getBounds:{enumerable:!1,writable:!0,configurable:!1,value:function(){var a=h(0,0,0,0);return function(b){for(var g=null,c,d=this.children,j=d.length;j--;)c=
d[j].__getBounds(b),c!==null&&(g===null?g=a.__compose(c):g.__union(c));return g}}()}});typeof g==="function"&&(g.call(c),g=void 0);return c};e={x:{enumerable:!0,configurable:!1,get:function(){return this.transform.tx},set:function(a){this.transform.tx=a}},y:{enumerable:!0,configurable:!1,get:function(){return this.transform.ty},set:function(a){this.transform.ty=a}},rotate:{enumerable:!0,configurable:!1,value:function(a){this.transform.rotate(a*f/180)}},rotation:{enumerable:!0,configurable:!0,get:function(){return this.transform.rotation*
180/f},set:function(a){this.transform.rotation=a*f/180}},scaleX:{enumerable:!0,configurable:!1,get:function(){return this.transform.a},set:function(a){this.transform.a=a}},scaleY:{enumerable:!0,configurable:!1,get:function(){return this.transform.d},set:function(a){this.transform.d=a}},context:{enumerable:!0,configurable:!0,get:function(){for(var a=this.parent;a;){if(a.context)return a.context;a=a.parent}return null}},__allTransforms:{enumerable:!1,configurable:!1,get:function(){var a=b(1,0,0,1,0,
0);return function(){var b=this.parent;for(a.compose.apply(a,this.transform.__toArray());b;)a.multiply(b.transform),b=b.parent;return a}}()},toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object Node]"}},addChildAt:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b){var c=this.children,f=this.root,e=a.parent;if(c.indexOf(a)!==-1)return!1;e!==null&&e!==this&&a.parent.removeChild(a);a.parent=this;c.splice(b,0,a);if(f&&a.root!==f){f.__sortAllChildren();c=k(a,
[]);for(e=c.length;e--;)a=c[e],a.root=f,a.emit(d.__setTarget(null))}return a}},addChild:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.addChildAt(a,this.children.length)}},appendTo:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return a.addChild(this)}},createNode:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.addChild(doodle.createNode.apply(void 0,arguments))}},createSprite:{enumerable:!0,writable:!1,configurable:!1,value:function(){return this.addChild(doodle.createSprite.apply(void 0,
arguments))}},removeChildAt:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var a=this.children.splice(a,1)[0],b=k(a),d=b.length,f=d;if(this.root){for(;d--;)b[d].emit(c.__setTarget(null));for(;f--;)b[f].root=null}a.parent=null;this.root&&this.root.__sortAllChildren();return a}},removeChild:{enumerable:!1,writable:!1,configurable:!1,value:function(a){return this.removeChildAt(this.children.indexOf(a))}},removeChildById:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return this.removeChild(this.getChildById(a))}},
removeAllChildren:{enumerable:!0,writable:!1,configurable:!1,value:function(){var a=this.children,b=this.root,d=k(this,[]),f=a.length,e,h;d.pop();e=h=d.length;if(b)for(;e--;)d[e].emit(c.__setTarget(null));for(;h--;)d[h].root=null;for(;f--;)a[f].parent=null;a.length=0;b&&b.__sortAllChildren()}},getChildById:{enumerable:!0,writable:!1,configurable:!1,value:function(a){for(var b=this.children,c=b.length,d=0;d<c;d++)if(b[d].id===a)return b[d]}},setChildIndex:{enumerable:!0,writable:!1,configurable:!1,
value:function(a,b){var c=this.children,d=c.indexOf(a);c.splice(d,1);c.splice(b,0,a);this.root&&this.root.__sortAllChildren()}},swapChildrenAt:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b){var c=this.children,d;d=c.splice(a,1,void 0)[0];c.splice(a,1,c.splice(b,1,void 0)[0]);c[c.indexOf(void 0)]=d;this.root&&this.root.__sortAllChildren()}},swapChildren:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b){var c=this.children;this.swapChildrenAt(c.indexOf(a),c.indexOf(b))}},
swapDepths:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var b=this.parent,c;c=b.children;b.swapChildrenAt(c.indexOf(this),c.indexOf(a))}},swapDepthAt:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var b=this.parent;b.swapChildrenAt(b.children.indexOf(this),a)}},contains:{enumerable:!0,writable:!1,configurable:!1,value:function(a){return k(this,[]).indexOf(a)!==-1?!0:!1}},localToGlobal:{enumerable:!0,writable:!1,configurable:!1,value:function(a){for(var b=this.parent,
a=this.transform.transformPoint(a);b;)b.transform.__transformPoint(a),b=b.parent;return a}},__localToGlobal:{enumerable:!1,writable:!1,configurable:!1,value:function(a){for(var b=this;b;)b.transform.__transformPoint(a),b=b.parent;return a}},globalToLocal:{enumerable:!0,writable:!1,configurable:!1,value:function(a){var b={x:0,y:0};this.__localToGlobal(b);return i(a.x-b.x,a.y-b.y)}},__globalToLocal:{enumerable:!1,writable:!1,configurable:!1,value:function(a){var b={x:0,y:0};this.__localToGlobal(b);
a.x-=b.x;a.y-=b.y;return a}}}})();doodle.Node.isNode=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Node]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,e=doodle.geom.createRectangle;doodle.Sprite=doodle.createSprite=function(d){var c=Object.create(doodle.createNode(typeof d==="string"?d:void 0));Object.defineProperties(c,a);Object.defineProperties(c,function(){var a=[];return{graphics:{enumerable:!1,configurable:!1,value:Object.create(doodle.createGraphics.call(c,a))},width:function(){var a=0;return{enumerable:!0,configurable:!1,get:function(){return a},set:function(c){a=c}}}(),height:function(){var a=0;return{enumerable:!0,configurable:!1,
get:function(){return a},set:function(c){a=c}}}(),getBounds:{enumerable:!0,writable:!0,configurable:!1,value:function(a){return this.__getBounds(a).clone()}},__getBounds:{enumerable:!1,writable:!0,configurable:!1,value:function(){var a=e(0,0,0,0);return function(c){var d=this.children,f=d.length,g,e=this.width,i=this.height,l=this.graphics;g={x:l.__minX,y:l.__minY};var p={x:l.__minX+e,y:l.__minY},e={x:l.__minX+e,y:l.__minY+i},i={x:l.__minX,y:l.__minY+i},l=Math.min,q=Math.max;this.__localToGlobal(g);
this.__localToGlobal(p);this.__localToGlobal(e);this.__localToGlobal(i);c.__globalToLocal(g);c.__globalToLocal(p);c.__globalToLocal(e);c.__globalToLocal(i);a.left=l(g.x,p.x,e.x,i.x);a.right=q(g.x,p.x,e.x,i.x);a.top=l(g.y,p.y,e.y,i.y);for(a.bottom=q(g.y,p.y,e.y,i.y);f--;)g=d[f].__getBounds(c),g!==null&&a.__union(g);return a}}()},hitTestObject:{enumerable:!0,writable:!0,configurable:!1,value:function(a){return this.getBounds(this).intersects(a.getBounds(this))}},hitTestPoint:{enumerable:!0,writable:!0,
configurable:!1,value:function(a){return this.getBounds(this).containsPoint(this.globalToLocal(a))}},__draw:{enumerable:!1,writable:!1,configurable:!1,value:function(b){for(var d=0,e=a.length;d<e;d++)a[d].call(c,b)}}}}());typeof d==="function"&&d.call(c);return c};a={rotation:function(){var a=180/Math.PI,c=Math.PI/180;return{enumerable:!0,configurable:!1,get:function(){return this.transform.rotation*a},set:function(a){this.transform.rotation=a*c}}}(),toString:{enumerable:!1,writable:!1,configurable:!1,
value:function(){return"[object Sprite]"}},compose:{enumerable:!1,writable:!1,configurable:!1,value:function(a,c,e,b){this.x=a;this.y=c;this.width=e;this.height=b;return this}}}})();doodle.Sprite.isSprite=function(a){if(typeof a==="object")for(;a;)if(a.toLocaleString()==="[object Sprite]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,e=doodle.events.createEvent,d=doodle.events.Event.LOAD,c=doodle.utils.hex_to_rgb_str,i=doodle.utils.get_element,b=doodle.GradientType.LINEAR,h=doodle.GradientType.RADIAL;doodle.Graphics=doodle.createGraphics=function(k){var f={},g=this,j=0,m=0,l=1,p=doodle.LineCap.BUTT,q=doodle.LineJoin.MITER,t=10;Object.defineProperties(f,a);Object.defineProperties(f,{__minX:{enumerable:!1,writable:!0,configurable:!1,value:0},__minY:{enumerable:!1,writable:!0,configurable:!1,value:0},__maxX:{enumerable:!1,
writable:!0,configurable:!1,value:0},__maxY:{enumerable:!1,writable:!0,configurable:!1,value:0},lineWidth:{enumerable:!0,configurable:!1,get:function(){return l}},lineCap:{enumerable:!0,configurable:!1,get:function(){return p}},lineJoin:{enumerable:!0,configurable:!1,get:function(){return q}},lineMiter:{enumerable:!0,configurable:!1,get:function(){return t}},draw:{enumerable:!1,writable:!1,configurable:!1,value:function(a){k.push(a)}},clear:{enumerable:!1,writable:!1,configurable:!1,value:function(){k.length=
0;g.width=0;j=m=this.__minX=this.__minY=this.__maxX=this.__maxY=g.height=0;return this}},rect:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b,c,d){this.__minX=Math.min(0,a,this.__minX);this.__minY=Math.min(0,b,this.__minY);this.__maxX=Math.max(0,a,a+c,this.__maxX);this.__maxY=Math.max(0,b,b+d,this.__maxY);g.width=-this.__minX+this.__maxX;g.height=-this.__minY+this.__maxY;k.push(function(g){g.beginPath();g.rect(a,b,c,d);g.closePath();g.stroke()});return this}},circle:{enumerable:!1,writable:!1,
configurable:!1,value:function(a,b,c){this.__minX=Math.min(0,-c+a,this.__minX);this.__minY=Math.min(0,-c+b,this.__minY);this.__maxX=Math.max(0,a,a+c,this.__maxX);this.__maxY=Math.max(0,b,b+c,this.__maxY);g.width=-this.__minX+this.__maxX;g.height=-this.__minY+this.__maxY;k.push(function(d){d.beginPath();d.arc(a,b,c,0,6.283185307179586,!0);d.closePath();d.stroke()});return this}},ellipse:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b,c,d){var e=c/2,f=(d===void 0?c:d)/2,h=0.5522847498*
e,j=0.5522847498*f;this.__minX=Math.min(0,-e+a,this.__minX);this.__minY=Math.min(0,-f+b,this.__minY);this.__maxX=Math.max(0,a,a+e,this.__maxX);this.__maxY=Math.max(0,b,b+f,this.__maxY);g.width=-this.__minX+this.__maxX;g.height=-this.__minY+this.__maxY;k.push(function(c){c.beginPath();c.moveTo(a+e,b);c.bezierCurveTo(a+e,b-j,a+h,b-f,a,b-f);c.bezierCurveTo(a-h,b-f,a-e,b-j,a-e,b);c.bezierCurveTo(a-e,b+j,a-h,b+f,a,b+f);c.bezierCurveTo(a+h,b+f,a+e,b+j,a+e,b);c.closePath();c.stroke()});return this}},roundRect:{enumerable:!1,
writable:!1,configurable:!1,value:function(a,b,c,d,e,f){var e=e===void 0?0:e,f=f===void 0?0:f,h=a+c,j=h-e,i=a+e,m=b+d,l=m-f,x=b+f;this.__minX=Math.min(0,a,this.__minX);this.__minY=Math.min(0,b,this.__minY);this.__maxX=Math.max(0,a,a+c,this.__maxX);this.__maxY=Math.max(0,b,b+d,this.__maxY);g.width=-this.__minX+this.__maxX;g.height=-this.__minY+this.__maxY;k.push(function(c){c.beginPath();c.moveTo(i,b);c.beginPath();c.lineTo(j,b);c.quadraticCurveTo(h,b,h,x);c.lineTo(h,l);c.quadraticCurveTo(h,m,j,m);
c.lineTo(i,m);c.quadraticCurveTo(a,m,a,l);c.lineTo(a,x);c.quadraticCurveTo(a,b,i,b);c.closePath();c.stroke()});return this}},moveTo:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b){k.push(function(c){c.moveTo(a,b)});j=a;m=b;return this}},lineTo:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b){this.__minX=Math.min(0,a,j,this.__minX);this.__minY=Math.min(0,b,m,this.__minY);this.__maxX=Math.max(0,a,j,this.__maxX);this.__maxY=Math.max(0,b,m,this.__maxY);g.width=this.__maxX-
this.__minX;g.height=this.__maxY-this.__minY;k.push(function(c){c.lineTo(a,b)});j=a;m=b;return this}},curveTo:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b){var c=j,d=m,e=a.x,f=a.y,h=b.x,i=b.y,l,D=0,A=0;l=(c-e)/(c-2*e+h);0<=l&&l<=1&&(D=(1-l)*(1-l)*c+2*(1-l)*l*e+l*l*h);l=(d-f)/(d-2*f+i);0<=l&&l<=1&&(A=(1-l)*(1-l)*d+2*(1-l)*l*f+l*l*i);this.__minX=Math.min(0,c,D,h,this.__minX);this.__minY=Math.min(0,d,A,i,this.__minY);this.__maxX=Math.max(0,c,D,h,this.__maxX);this.__maxY=Math.max(0,d,
A,i,this.__maxY);g.width=-this.__minX+this.__maxX;g.height=-this.__minY+this.__maxY;k.push(function(a){a.quadraticCurveTo(e,f,h,i)});j=h;m=i;return this}},bezierCurveTo:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b,c){for(var d=Math.pow,e=Math.max,f=Math.min,h=j,i=m,l=a.x,D=a.y,A=b.x,x=b.y,p=c.x,q=c.y,w,t=c=b=0,y=0,a=0.1;a<1;a+=0.1)w=d(1-a,3)*h+3*d(1-a,2)*a*l+3*d(1-a,1)*d(a,2)*A+d(a,3)*p,w>b&&(b=w),w<c&&(c=w),w=d(1-a,3)*i+3*d(1-a,2)*a*D+3*d(1-a,1)*d(a,2)*x+d(a,3)*q,w>t&&(t=w),w<y&&
(y=w);this.__minX=f(0,h,c,p,this.__minX);this.__minY=f(0,i,y,q,this.__minY);this.__maxX=e(0,h,b,p,this.__maxX);this.__maxY=e(0,i,t,q,this.__maxY);g.width=-this.__minX+this.__maxX;g.height=-this.__minY+this.__maxY;k.push(function(a){a.bezierCurveTo(l,D,A,x,p,q)});j=p;m=q;return this}},beginFill:{enumerable:!1,writable:!1,configurable:!1,value:function(a,b){b=b===void 0?1:b;k.push(function(d){d.fillStyle=c(a,b)});return this}},beginGradientFill:{enumerable:!0,writable:!1,configurable:!1,value:function(a,
c,d,e,f,o){k.push(function(j){var i=doodle.utils.hex_to_rgb_str,k,l=e.length,m=0;if(a===b)k=j.createLinearGradient(c.x,c.y,d.x,d.y);else if(a===h)k=j.createRadialGradient(c.x,c.y,c.radius,d.x,d.y,d.radius);else throw new TypeError(g.id+" Graphics.beginGradientFill(*type*, point1, point2, ratios, colors, alphas): Unknown gradient type.");for(;m<l;m++)k.addColorStop(e[m],i(f[m],o[m]));j.fillStyle=k});return this}},beginPatternFill:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b){var c=
null,f;f=doodle.Pattern;b=b===void 0?f.REPEAT:b;typeof a==="string"&&(a[0]==="#"?a=i(a):function(){var b=window.encodeURI(a);a=new window.Image;a.src=b}());a.complete?c=a:(a.onload=function(){c=a;g.emit(e(d))},f=function(){throw new URIError(g.id+"Graphics.beginPatternFill(*image*,repeat): Unable to load "+a.src);},a.onerror=f,a.onabort=f);k.push(function(a){a.fillStyle=c?a.createPattern(c,b):"rgba(0,0,0,0)"});return this}},lineStyle:{enumerable:!0,writable:!1,configurable:!1,value:function(a,b,d,
e,f,h){b=b===void 0?"#000000":b;d=d===void 0?1:d;e=e===void 0?doodle.LineCap.BUTT:e;f=f===void 0?doodle.LineJoin.MITER:f;l=a===void 0?1:a;q=f;p=e;t=h===void 0?10:h;if(typeof b==="string"||typeof b==="number")b=c(b,d);else throw new TypeError(g+" Graphics.lineStyle(thickness,*color*,alpha,caps,joints,miterLimit): Color must be a hex value.");k.push(function(a){a.lineWidth=l;a.strokeStyle=b;a.lineCap=p;a.lineJoin=q;a.miterLimit=t});return this}},beginPath:{enumerable:!1,writable:!1,configurable:!1,
value:function(){k.push(function(a){a.beginPath();a.moveTo(j,m)});return this}},closePath:{enumerable:!1,writable:!1,configurable:!1,value:function(){k.push(function(a){a.closePath();a.stroke()});m=j=0;return this}},endFill:{enumerable:!1,writable:!1,configurable:!1,value:function(){k.push(function(a){a.fill()});return this}},stroke:{enumerable:!1,writable:!1,configurable:!1,value:function(){k.push(function(a){a.stroke()});m=j=0;return this}}});return f};a={toString:{enumerable:!1,writable:!1,configurable:!1,
value:function(){return"[object Graphics]"}}}})();
(function(){var a,e=/^url\((.*)\)/,d=doodle.geom.createRectangle,c=doodle.utils.rgb_str_to_hex,i=doodle.utils.hex_to_rgb_str,b=doodle.utils.get_element,h=doodle.utils.get_element_property,k=doodle.utils.set_element_property;doodle.ElementNode=doodle.createElementNode=function(f,g){var j=Object.create(doodle.createNode(typeof g==="string"?g:void 0));Object.defineProperties(j,a);Object.defineProperties(j,function(){var a=null,f=j.id,g=j.alpha,q=j.visible,t=0,n=0,u=null,r=null,v="repeat",s=!0;return{element:{enumerable:!0,
configurable:!0,get:function(){return a},set:function(d){var l;d===null?(a!==null&&(typeof this.__removeDomElement==="function"&&this.__removeDomElement(a),r=u=null,v="repeat",this.parent||(n=t=0)),a=null):(a=d=b(d),this.__addDomElement(a),(d=h(a,"id"))?f=d:this.id=f,v=h(a,"backgroundRepeat")||v,u=(d=h(a,"backgroundColor",!1,!1))?c(d):u,d=h(a,"backgroundImage"),l=(d=!d||d==="none"?null:r.match(e))?d[1]:r,r=l)}},id:{enumerable:!0,configurable:!0,get:function(){return f},set:function(a){f=k(this.element,
"id",a,"html")}},width:{enumerable:!0,configurable:!0,get:function(){return t},set:function(a){k(this.element,"width",a+"px");t=a}},height:{enumerable:!0,configurable:!0,get:function(){return n},set:function(a){k(this.element,"height",a+"px");n=a}},backgroundColor:{enumerable:!0,configurable:!0,get:function(){return u},set:function(a){typeof a==="number"&&(a=i(a));k(this.element,"backgroundColor",a);u=c(h(this.element,"backgroundColor"))}},backgroundImage:{enumerable:!0,configurable:!0,get:function(){return r},
set:function(a){if(a){if(typeof a==="string"){if(a[0]==="#")a=b(a).src}else if(a&&a.tagName==="IMG")a=a.src;e.test(a)||(a="url("+window.encodeURI(a)+")");r=k(this.element,"backgroundImage",a)}else r=k(this.element,"backgroundImage",null)}},backgroundRepeat:{enumerable:!0,configurable:!0,get:function(){return v},set:function(a){v=k(this.element,"backgroundRepeat",a)}},alpha:{enumerable:!0,configurable:!0,get:function(){return g},set:function(a){k(this.element,"opacity",a)}},visible:{enumerable:!0,
configurable:!0,get:function(){return q},set:function(a){a?k(this.element,"visibility","visible"):k(this.element,"visibility","hidden");q=a}},clearBitmap:{enumerable:!1,configurable:!0,get:function(){return s},set:function(a){s=a}},__addDomElement:{enumerable:!1,configurable:!0,value:function(a){var b=h(a,"width","int")||a.width,a=h(a,"height","int")||a.height;typeof b==="number"&&(t=b);typeof a==="number"&&(n=a)}},__getBounds:{enumerable:!0,configurable:!0,value:function(){var a=d(0,0,0,0);return function(b){var c=
this.children,d=c.length,f,e=this.width,g=this.height;f={x:0,y:0};var h={x:e,y:0},e={x:e,y:g},g={x:0,y:g},j=Math.min,i=Math.max;this.__localToGlobal(f);this.__localToGlobal(h);this.__localToGlobal(e);this.__localToGlobal(g);b.__globalToLocal(f);b.__globalToLocal(h);b.__globalToLocal(e);b.__globalToLocal(g);a.left=j(f.x,h.x,e.x,g.x);a.right=i(f.x,h.x,e.x,g.x);a.top=j(f.y,h.y,e.y,g.y);for(a.bottom=i(f.y,h.y,e.y,g.y);d--;)f=c[d].__getBounds(b),f!==null&&a.__union(f);return a}}()}}}());switch(arguments.length){case 0:break;
case 1:typeof arguments[0]==="function"?(arguments[0].call(j),f=void 0):j.element=f;break;case 2:if(f)j.element=f;break;default:throw new SyntaxError("[object ElementNode](element, id): Invalid number of parameters.");}return j};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object ElementNode]"}}}})();doodle.ElementNode.isElementNode=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object ElementNode]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,e=0,d=doodle.utils.set_element_property;doodle.Layer=doodle.createLayer=function(c,i){var b=typeof c==="string"?c:"layer"+String("00"+e).slice(-2),b=Object.create(doodle.createElementNode(void 0,b));Object.defineProperties(b,a);Object.defineProperties(b,function(){var a=0,b=0,c=null,e=null;return{width:{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=d(this.element,"width",b,"html")}},height:{enumerable:!0,configurable:!0,get:function(){return b},set:function(a){b=
d(this.element,"height",a,"html")}},context:{enumerable:!0,configurable:!0,get:function(){return e}},filters:{enumerable:!0,configurable:!0,get:function(){return c},set:function(a){c=a}},__addDomElement:{enumerable:!1,writable:!1,value:function(a){d(a,"position","absolute");if(this.parent)this.width=this.parent.width,this.height=this.parent.height;e=a.getContext("2d")}},__removeDomElement:{enumerable:!1,writable:!1,value:function(){e=null}}}}());switch(arguments.length){case 0:break;case 1:typeof arguments[0]===
"function"&&(arguments[0].call(b),c=void 0);break;case 2:b.element=i;break;default:throw new SyntaxError("[object Layer](id, element): Invalid number of parameters.");}if(b.element===null)b.element=document.createElement("canvas");e+=1;return b};a={toString:{enumerable:!0,writable:!1,configurable:!1,value:function(){return"[object Layer]"}},__getBounds:{enumerable:!0,configurable:!0,value:function(){var a=doodle.geom.createRectangle(0,0,0,0);return function(){return a.compose(0,0,this.width,this.height)}}()}}})();
doodle.Layer.isLayer=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Layer]")return!0;else a=Object.getPrototypeOf(a);return!1};
(function(){var a,e=0,d,c,i,b,h,k,f,g=doodle.utils.create_scene_path,j=doodle.Layer.isLayer,m=doodle.utils.get_element,l=doodle.utils.get_element_property,p=doodle.utils.set_element_property,q=doodle.createLayer,t=doodle.events.createEvent(doodle.events.Event.ENTER_FRAME),n=doodle.events.createMouseEvent(""),u=doodle.events.createKeyboardEvent("");doodle.Display=doodle.createDisplay=function(c){var i,j,o=typeof arguments[arguments.length-1]==="object"?Array.prototype.pop.call(arguments):null;c&&typeof c!==
"function"&&(c=m(c),j=l(c,"id"));j=typeof j==="string"?j:"display"+String("00"+e++).slice(-2);i=Object.create(doodle.createElementNode(void 0,j));Object.defineProperties(i,a);Object.defineProperties(i,function(){function a(b){T(b,K,y,y.length,G,H,C)}function c(a){var b,d;G=b=J?a.offsetX:a.clientX-s.offsetLeft;H=d=J?a.offsetY:a.clientY-s.offsetTop;U(a,K,y,y.length,b,d,C)}function e(a){V(a,K,y,w,w.length,C)}function j(a){W(a,Z,C)}function m(){X(w,w.length,q,q.length,Y,y,y.length,C)}var o=0,r=0,s=null,
w=i.children,q=doodle.Emitter.emitter_queue,y=[],G=0,H=0,J=document.createEvent("MouseEvent").offsetX!==void 0,C=i,T=b,U=h,V=k,W=f,X=d,Y=t,K=n,Z=u;document.addEventListener(doodle.events.KeyboardEvent.KEY_PRESS,j,!1);document.addEventListener(doodle.events.KeyboardEvent.KEY_DOWN,j,!1);document.addEventListener(doodle.events.KeyboardEvent.KEY_UP,j,!1);return{root:{enumerable:!0,writable:!1,configurable:!1,value:C},mouseX:{enumerable:!0,configurable:!1,get:function(){return G}},mouseY:{enumerable:!0,
configurable:!1,get:function(){return H}},width:{get:function(){return o},set:function(a){var b=w.length;p(this.element,"width",a+"px");for(o=a;b--;)w[b].width=a;return a}},height:{get:function(){return r},set:function(a){var b=w.length;p(this.element,"height",a+"px");for(r=a;b--;)w[b].height=a;return a}},__addDomElement:{enumerable:!1,writable:!1,value:function(b){p(b,"position","relative");var d=l(b,"width","int")||b.width,f=l(b,"height","int")||b.height;if(typeof d==="number")this.width=d;if(typeof f===
"number")this.height=f;b.addEventListener(doodle.events.MouseEvent.MOUSE_MOVE,c,!1);b.addEventListener(doodle.events.MouseEvent.MOUSE_OUT,e,!1);b.addEventListener(doodle.events.MouseEvent.CLICK,a,!1);b.addEventListener(doodle.events.MouseEvent.DOUBLE_CLICK,a,!1);b.addEventListener(doodle.events.MouseEvent.MOUSE_DOWN,a,!1);b.addEventListener(doodle.events.MouseEvent.MOUSE_UP,a,!1);b.addEventListener(doodle.events.MouseEvent.CONTEXT_MENU,a,!1);b.addEventListener(doodle.events.MouseEvent.MOUSE_WHEEL,
a,!1);s=b}},__removeDomElement:{enumerable:!1,writable:!1,value:function(b){b.removeEventListener(doodle.events.MouseEvent.MOUSE_MOVE,c,!1);b.removeEventListener(doodle.events.MouseEvent.MOUSE_OUT,e,!1);b.removeEventListener(doodle.events.MouseEvent.CLICK,a,!1);b.removeEventListener(doodle.events.MouseEvent.DOUBLE_CLICK,a,!1);b.removeEventListener(doodle.events.MouseEvent.MOUSE_DOWN,a,!1);b.removeEventListener(doodle.events.MouseEvent.MOUSE_UP,a,!1);b.removeEventListener(doodle.events.MouseEvent.CONTEXT_MENU,
a,!1);b.removeEventListener(doodle.events.MouseEvent.MOUSE_WHEEL,a,!1);s=null}},allChildren:{enumerable:!0,configurable:!1,get:function(){return y}},__sortAllChildren:{enumerable:!1,configurable:!1,value:function(){g(this,y,!0).reverse()}},getNodesUnderPoint:{enumerable:!0,configurable:!1,value:function(a){for(var b=[],c=y,d=c.length,e=a.x,a=a.y,f;d--;)f=c[d],f.__getBounds(this).contains(e,a)&&b.push(f);return b}},addChildAt:{enumerable:!0,configurable:!1,value:function(){var a=C.addChildAt;return function(b,
c){b.width=this.width;b.height=this.height;this.element.appendChild(b.element);return a.call(this,b,c)}}()},removeChildAt:{enumerable:!0,writable:!1,configurable:!1,value:function(){var a=C.removeChildAt;return function(b){this.element.removeChild(w[b].element);return a.call(this,b)}}()},swapChildrenAt:{enumerable:!0,writable:!1,configurable:!1,value:function(){var a=C.swapChildrenAt;return function(b,c){b>c?this.element.insertBefore(w[c].element,w[b].element):this.element.insertBefore(w[b].element,
w[c].element);return a.call(this,b,c)}}()},frameRate:function(){var a=!1,b;return{get:function(){return a},set:function(c){c===0||c===!1?(a=!1,b!==void 0&&window.clearInterval(b)):c!==a&&(b!==void 0&&window.clearInterval(b),b=window.setInterval(m,1E3/c),a=c)}}}()}}());switch(arguments.length){case 0:break;case 1:typeof arguments[0]==="function"?(arguments[0].call(c),c=void 0):i.element=c;break;default:throw new SyntaxError("[object Display](element): Invalid number of parameters.");}d(i.children,
i.children.length,doodle.Emitter.emitter_queue,doodle.Emitter.emitter_queue.length,t,i.allChildren,i.allChildren.length,i);if(o){if(o.width!==void 0)i.width=o.width;if(o.height!==void 0)i.height=o.height;if(o.backgroundColor!==void 0)i.backgroundColor=o.backgroundColor;if(o.frameRate!==void 0)i.frameRate=o.frameRate;if(o.clearBitmap!==void 0)i.clearBitmap=o.clearBitmap;if(o.layers!==void 0)for(j=o.layers;j--;)i.createLayer()}return i};a={parent:{enumerable:!0,writable:!1,configurable:!1,value:null},
layers:{enumerable:!0,configurable:!1,get:function(){return this.children}},toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Display]"}},createLayer:{value:function(){return this.addChild(q.apply(void 0,arguments))}},removeLayer:{value:function(a){return this.removeChildById(a)}},__getBounds:{enumerable:!1,configurable:!0,value:function(){var a=doodle.geom.createRectangle(0,0,0,0);return function(){return a.compose(0,0,this.width,this.height)}}()}};d=function(){var a=
0;return function(b,d,e,f,g,h,j,k){for(k.clearBitmap===!0&&c(b,d);f--;)e[f].allListeners.hasOwnProperty("enterFrame")&&e[f].handleEvent(g.__setTarget(e[f]));i(h,j);e=k.width;for(h=k.height;d--;)if(k=b[d],k.filters){f=k.filters;for(g=f.length;g--;)f[g].__applyFilter(k.context,0,0,e,h)}a++}}();c=function(a,b){for(var c,d;b--;)if(c=a[b],c.clearBitmap===!0)d=c.context,d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,c.width,c.height),d.restore()};i=function(a){for(var b,c=a.length,d,e=1;e<c;e++)if(b=
a[e],(d=b.context)&&b.visible){d.save();d.transform.apply(d,b.__allTransforms.__toArray());if(!j(b)&&b.alpha!==1)d.globalAlpha=b.alpha;typeof b.__draw==="function"&&b.__draw(d);d.restore()}};b=function(a,b,c,d,e,f,g){for(;d--;)if(c[d].__getBounds(g).contains(e,f))return c[d].emit(b.__copyMouseEventProperties(a,null)),!0;return!1};h=function(a,b,c,d,e,f,g){for(var h;d--;)if(h=c[d],h.__getBounds(g).contains(e,f)){if(!h.__pointInBounds)return h.__pointInBounds=!0,h.emit(b.__copyMouseEventProperties(a,
null,"mouseover")),h.emit(b.__copyMouseEventProperties(a,null,"mouseenter")),!0;h.emit(b.__copyMouseEventProperties(a,null));return!0}else if(h.__pointInBounds)return h.__pointInBounds=!1,h.emit(b.__copyMouseEventProperties(a,null,"mouseout")),h.emit(b.__copyMouseEventProperties(a,null,"mouseleave")),!0};k=function(a,b,c,d,e,f){if(e===0)f.__pointInBounds=!1;else{f=d[e-1];for(e=c.length;e--;)c[e].__pointInBounds=!1}f.emit(b.__copyMouseEventProperties(a,null,"mouseout"));f.emit(b.__copyMouseEventProperties(a,
null,"mouseleave"));return!0};f=function(a,b,c){c.broadcast(b.__copyKeyboardEventProperties(a,null));return!0}})();doodle.Display.isDisplay=function(a){if(typeof a==="object")for(;a;)if(a.toString()==="[object Display]")return!0;else a=Object.getPrototypeOf(a);return!1};
Object.defineProperty(doodle,"FontStyle",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{NORMAL:{enumerable:!0,writable:!1,configurable:!1,value:"normal"},ITALIC:{enumerable:!0,writable:!1,configurable:!1,value:"italic"},OBLIQUE:{enumerable:!0,writable:!1,configurable:!1,value:"oblique"}})});
Object.defineProperty(doodle,"FontVariant",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{NORMAL:{enumerable:!0,writable:!1,configurable:!1,value:"normal"},SMALL_CAPS:{enumerable:!0,writable:!1,configurable:!1,value:"small-caps"}})});
Object.defineProperty(doodle,"FontWeight",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{NORMAL:{enumerable:!0,writable:!1,configurable:!1,value:"normal"},BOLD:{enumerable:!0,writable:!1,configurable:!1,value:"bold"},BOLDER:{enumerable:!0,writable:!1,configurable:!1,value:"bolder"},LIGHTER:{enumerable:!0,writable:!1,configurable:!1,value:"lighter"}})});
Object.defineProperty(doodle,"TextAlign",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{START:{enumerable:!0,writable:!1,configurable:!1,value:"start"},END:{enumerable:!0,writable:!1,configurable:!1,value:"end"},LEFT:{enumerable:!0,writable:!1,configurable:!1,value:"left"},RIGHT:{enumerable:!0,writable:!1,configurable:!1,value:"right"},CENTER:{enumerable:!0,writable:!1,configurable:!1,value:"center"}})});
Object.defineProperty(doodle,"TextBaseline",{enumerable:!0,writable:!1,configurable:!1,value:Object.create(null,{TOP:{enumerable:!0,writable:!1,configurable:!1,value:"top"},MIDDLE:{enumerable:!0,writable:!1,configurable:!1,value:"middle"},BOTTOM:{enumerable:!0,writable:!1,configurable:!1,value:"bottom"},HANGING:{enumerable:!0,writable:!1,configurable:!1,value:"hanging"},ALPHABETIC:{enumerable:!0,writable:!1,configurable:!1,value:"alphabetic"},IDEOGRAPHIC:{enumerable:!0,writable:!1,configurable:!1,
value:"ideographic"}})});
(function(){var a,e=doodle.utils.hex_to_rgb_str,d=doodle.FontStyle,c=doodle.FontVariant,i=doodle.FontWeight,b=doodle.TextAlign,h=doodle.TextBaseline;doodle.Text=doodle.createText=function(k){var f=Object.create(doodle.createSprite());Object.defineProperties(f,a);Object.defineProperties(f,function(){function a(){var c=f.context||document.createElement("canvas").getContext("2d"),d,e,g=f.graphics,i=0,B=0,E=0;c.save();c.font=q+" "+t+" "+n+" "+l+"px "+k;d=c.measureText(j).width;e=l;p=c.measureText("m").width;
c.restore();f.graphics.clear();f.graphics.draw(function(a){if(z)a.fillStyle=z,a.fillRect(0,0,d,e);a.lineWidth=o;a.textAlign=u;a.textBaseline=r;a.font=q+" "+t+" "+n+" "+l+"px "+k;if(v)a.fillStyle=v,a.fillText(j,0,0);if(s)a.strokeStyle=s,a.strokeText(j,0,0)});f.width=d;f.height=e;switch(r){case h.TOP:B=l-p;E=l;break;case h.MIDDLE:B=-p/2;E=p/2;break;case h.BOTTOM:B=-l;break;case h.HANGING:B=l-p;E=l;break;case h.ALPHABETIC:B=-p;break;case h.IDEOGRAPHIC:B=-l}switch(u){case b.END:i=-d;break;case b.RIGHT:i=
-d;break;case b.CENTER:i=-d/2}g.__minX=i;g.__maxX=0;g.__minY=B;g.__maxY=E}var j="",k="sans-serif",l=10,p=l,q=d.NORMAL,t=c.NORMAL,n=i.NORMAL,u=b.START,r=h.ALPHABETIC,v="#000000",s="#000000",o=1,z;return{text:{enumerable:!0,configurable:!1,get:function(){return j},set:function(b){j=b;a()}},font:{enumerable:!0,configurable:!1,get:function(){return q+" "+t+" "+n+" "+l+"px "+k},set:function(a){var b,a=a.split(" ");b=a.length;b===2?a.unshift(d.NORMAL,c.NORMAL,i.NORMAL):b===3?a.splice(1,0,c.NORMAL,i.NORMAL):
b===4&&a.splice(1,0,c.NORMAL);f.fontStyle=a[0];f.fontVariant=a[1];f.fontWeight=a[2];f.fontSize=a[3];f.fontFamily=a[4]}},fontFamily:{enumerable:!0,configurable:!1,get:function(){return k},set:function(b){k=b;a()}},fontSize:{enumerable:!0,configurable:!1,get:function(){return l},set:function(b){typeof b==="string"&&(b=window.parseInt(b,10));l=b;a()}},fontStyle:{enumerable:!0,configurable:!1,get:function(){return q},set:function(b){q=b;a()}},fontVariant:{enumerable:!0,configurable:!1,get:function(){return t},
set:function(b){t=b;a()}},fontWeight:{enumerable:!0,configurable:!1,get:function(){return n},set:function(b){n=b;a()}},align:{enumerable:!0,configurable:!1,get:function(){return u},set:function(b){u=b;a()}},baseline:{enumerable:!0,configurable:!1,get:function(){return r},set:function(b){r=b;a()}},strokeWidth:{enumerable:!0,configurable:!1,get:function(){return o},set:function(a){o=a}},color:{enumerable:!0,configurable:!1,get:function(){return v},set:function(a){typeof a==="number"&&(a=e(a));v=a}},
strokeColor:{enumerable:!0,configurable:!1,get:function(){return s},set:function(a){typeof a==="number"&&(a=e(a));s=a}},backgroundColor:{enumerable:!0,configurable:!1,get:function(){return z},set:function(a){typeof a==="number"&&(a=e(a));z=a}}}}());switch(arguments.length){case 1:typeof arguments[0]==="function"?(arguments[0].call(f),k=void 0):f.text=k}return f};a={toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Text]"}}}})();
(function(){var a,e=doodle.utils.get_element,d=doodle.events.createEvent,c=doodle.events.Event.LOAD,i=doodle.events.Event.CHANGE;doodle.Image=doodle.createImage=function(b){var h=Object.create(doodle.createSprite());Object.defineProperties(h,a);Object.defineProperties(h,function(){function a(b){j=b;if(j.id!=="")h.id=j.id;h.width=j.width;h.height=j.height;h.graphics.draw(function(a){a.drawImage(j,0,0)});h.emit(d(c))}function b(){j!==null&&(j=null,h.graphics.clear(),h.emit(d(i)))}function g(b){var c=
e(b);if(typeof b==="string")h.id=b;c.complete?a(c):(c.onload=function(){a(c)},c.onerror=function(){throw new URIError("[object Image](imageSrc): Unable to load "+c.src);},c.onabort=function(){throw new URIError("[object Image](imageSrc): Unable to load "+c.src);})}var j=null;return{element:{enumerable:!0,configurable:!1,get:function(){return j},set:function(a){a===null||a===!1?b():g(a)}},src:{enumerable:!0,configurable:!1,get:function(){return j===null?null:j.src},set:function(a){if(a===null||a===
!1)b();else{var c=new window.Image;c.src=window.encodeURI(a);g(c)}}}}}());switch(arguments.length){case 1:typeof arguments[0]==="function"?(arguments[0].call(h),b=void 0):typeof b!=="string"?h.element=b:typeof b==="string"&&b[0]==="#"?h.element=b:h.src=b}return h};a={toString:{enumerable:!1,writable:!1,configurable:!1,value:function(){return"[object Image]"}}}})();
