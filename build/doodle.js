var doodle={};doodle.geom={};if(typeof Function.prototype.bind!=="function")Function.prototype.bind=function(l){var k=this;return function(){return k.apply(l,arguments)}};
doodle.utils={rgb_to_hex:function(l,k,o){l=(o|k<<8|l<<16).toString(16);return"#"+String("000000"+l).slice(-6)},rgb_str_to_hex:function(l){var k=doodle.utils;l=k.rgb_str_to_rgb(l);return k.rgb_to_hex(parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10))},rgb_to_rgb_str:function(l,k,o,c){c=c===undefined?1:c;c=c<0?0:c>1?1:c;return c===1?"rgb("+l+","+k+","+o+")":"rgba("+l+","+k+","+o+","+c+")"},rgb_str_to_rgb:function(){var l=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?(.*)\)$/;return function(k){k=
k.trim().match(l);var o=[parseInt(k[1],10),parseInt(k[2],10),parseInt(k[3],10)];k=parseFloat(k[4]);typeof k==="number"&&!isNaN(k)&&o.push(k);return o}}(),hex_to_rgb:function(l){if(typeof l==="string"){l=l[0]==="#"?l.slice(1):l;l=parseInt(l,16)}return[l>>16&255,l>>8&255,l&255]},hex_to_rgb_str:function(l,k){var o=doodle.utils;k=k===undefined?1:k;l=o.hex_to_rgb(l);return o.rgb_to_rgb_str(l[0],l[1],l[2],k)}};
doodle.utils.types=function(){function l(k,o,c){if(typeof k!=="string")throw new TypeError("throw_type_error: type must be a string.");o=o===undefined?"throw_type_error":o;c=c===undefined?"":"("+c+")";throw new TypeError(o+c+": Parameter must be a "+k+".");}return{check_number_type:function(k,o,c){return typeof k==="number"?true:l("number",o||"check_number_type",c)},check_boolean_type:function(k,o,c){return typeof k==="boolean"?true:l("boolean",o||"check_boolean_type",c)},check_string_type:function(k,
o,c){return typeof k==="string"?true:l("string",o||"check_string_type",c)},check_function_type:function(k,o,c){return typeof k==="function"?true:l("function",o||"check_function_type",c)},check_array_type:function(k,o,c){return Array.isArray(k)?true:l("array",o||"check_array_type",c)},check_event_type:function(k,o,c){if(k&&(k.toString()==="[object Event]"||k.toString()==="[object UIEvent]"||k.toString()==="[object MouseEvent]"||k.toString()==="[object KeyboardEvent]"||k.toString()==="[object TextEvent]"))return true;
else l("event",o||"check_event_type",c)},check_canvas_type:function(k,o,c){return k&&k.toString()==="[object HTMLCanvasElement]"?true:l("canvas element",o||"check_canvas_type",c)},check_context_type:function(k,o,c){return k&&k.toString()==="[object CanvasRenderingContext2D]"?true:l("canvas context",o||"check_context_type",c)},check_block_element:function(k,o,c){try{return doodle.utils.get_style_property(k,"display")==="block"?true:l("HTML block element",o||"check_block_type",c)}catch(j){l("HTML block element",
o||"check_block_type",c)}}}}();doodle.utils.get_element=function(l){l=typeof l==="string"?l[0]==="#"?l.slice(1):l:l&&l.id?l.id:null;return document.getElementById(l)};
doodle.utils.get_style_property=function(l,k){try{if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(l,null)[k];else if(l.currentStyle)return l.currentStyle[k];else if(l.style)return l.style[k];else throw new ReferenceError("get_style_property: Cannot read property '"+k+"' of "+l+".");}catch(o){throw new ReferenceError("get_style_property: Cannot read property '"+k+"' of "+l+".");}};
doodle.utils.get_element_property=function(l,k,o){var c;try{c=doodle.utils.get_style_property(l,k)}catch(j){c=undefined}if(c===undefined||c===null)c=l.getAttribute(k);if(o!==undefined)switch(o){case "int":c=parseInt(c,10);c=isNaN(c)?null:c;break;case "float":c=parseFloat(c);c=isNaN(c)?null:c;break;default:break}return c};
doodle.utils.set_element_property=function(l,k,o,c){c=c===undefined?"css":c;switch(c){case "css":l.style[k]=o;break;case "html":l.setAttribute(k,o);break;default:throw new SyntaxError("set_element_property: type must be 'css' property or 'html' attribute.");}return o};
var Stats=function(){function l(s,v){var z,w,y;for(w=0;w<30;w++)for(z=0;z<73;z++){y=(z+w*74)*4;s[y]=s[y+4];s[y+1]=s[y+5];s[y+2]=s[y+6]}for(w=0;w<30;w++){y=(73+w*74)*4;if(w<v){s[y]=16;s[y+1]=16;s[y+2]=48}else{s[y]=0;s[y+1]=255;s[y+2]=255}}}var k,o="fps",c=0,j=(new Date).getTime(),e=j,h=j,a=0,b=1E3,p=0,n,g,d,f,i=0,q=1E3,t=0,u,m,x,r;k=document.createElement("div");k.style.fontFamily="Helvetica, Arial, sans-serif";k.style.fontSize="9px";k.style.backgroundColor="#000020";k.style.opacity="0.9";k.style.width=
"80px";k.style.paddingTop="2px";k.style.cursor="pointer";k.addEventListener("click",function(){switch(o){case "fps":o="ms";n.style.display="none";g.style.display="none";u.style.display="block";m.style.display="block";break;case "ms":o="fps";n.style.display="block";g.style.display="block";u.style.display="none";m.style.display="none";break}},false);n=document.createElement("div");n.innerHTML="<strong>FPS</strong>";n.style.color="#00ffff";n.style.marginLeft="3px";n.style.marginBottom="3px";k.appendChild(n);
g=document.createElement("canvas");g.width=74;g.height=30;g.style.display="block";g.style.marginLeft="3px";g.style.marginBottom="3px";k.appendChild(g);d=g.getContext("2d");d.fillStyle="#101030";d.fillRect(0,0,g.width,g.height);f=d.getImageData(0,0,g.width,g.height);u=document.createElement("div");u.innerHTML="<strong>MS</strong>";u.style.color="#00ffff";u.style.marginLeft="3px";u.style.marginBottom="3px";u.style.display="none";k.appendChild(u);m=document.createElement("canvas");m.width=74;m.height=
30;m.style.display="block";m.style.marginLeft="3px";m.style.marginBottom="3px";m.style.display="none";k.appendChild(m);x=m.getContext("2d");x.fillStyle="#101030";x.fillRect(0,0,m.width,m.height);r=x.getImageData(0,0,m.width,m.height);return{domElement:k,update:function(){c++;j=(new Date).getTime();i=j-e;q=Math.min(q,i);t=Math.max(t,i);l(r.data,Math.min(30,30-i/200*30));u.innerHTML="<strong>"+i+" MS</strong> ("+q+"-"+t+")";x.putImageData(r,0,0);e=j;if(j>h+1E3){a=Math.round(c*1E3/(j-h));b=Math.min(b,
a);p=Math.max(p,a);l(f.data,Math.min(30,30-a/100*30));n.innerHTML="<strong>"+a+" FPS</strong> ("+b+"-"+p+")";d.putImageData(f,0,0);h=j;c=0}}}};
Object.defineProperty(doodle,"Keyboard",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{BACKSPACE:{enumerable:true,writable:false,configurable:false,value:8},TAB:{enumerable:true,writable:false,configurable:false,value:9},ENTER:{enumerable:true,writable:false,configurable:false,value:13},COMMAND:{enumerable:true,writable:false,configurable:false,value:15},SHIFT:{enumerable:true,writable:false,configurable:false,value:16},CONTROL:{enumerable:true,writable:false,configurable:false,
value:17},ALTERNATE:{enumerable:true,writable:false,configurable:false,value:18},PAUSE:{enumerable:true,writable:false,configurable:false,value:19},CAPS_LOCK:{enumerable:true,writable:false,configurable:false,value:20},NUMPAD:{enumerable:true,writable:false,configurable:false,value:21},ESCAPE:{enumerable:true,writable:false,configurable:false,value:27},SPACE:{enumerable:true,writable:false,configurable:false,value:32},PAGE_UP:{enumerable:true,writable:false,configurable:false,value:33},PAGE_DOWN:{enumerable:true,
writable:false,configurable:false,value:34},END:{enumerable:true,writable:false,configurable:false,value:35},HOME:{enumerable:true,writable:false,configurable:false,value:36},LEFT:{enumerable:true,writable:false,configurable:false,value:37},UP:{enumerable:true,writable:false,configurable:false,value:38},RIGHT:{enumerable:true,writable:false,configurable:false,value:39},DOWN:{enumerable:true,writable:false,configurable:false,value:40},INSERT:{enumerable:true,writable:false,configurable:false,value:45},
DELETE:{enumerable:true,writable:false,configurable:false,value:46},NUMBER_0:{enumerable:true,writable:false,configurable:false,value:48},NUMBER_1:{enumerable:true,writable:false,configurable:false,value:49},NUMBER_2:{enumerable:true,writable:false,configurable:false,value:50},NUMBER_3:{enumerable:true,writable:false,configurable:false,value:51},NUMBER_4:{enumerable:true,writable:false,configurable:false,value:52},NUMBER_5:{enumerable:true,writable:false,configurable:false,value:53},NUMBER_6:{enumerable:true,
writable:false,configurable:false,value:54},NUMBER_7:{enumerable:true,writable:false,configurable:false,value:55},NUMBER_8:{enumerable:true,writable:false,configurable:false,value:56},NUMBER_9:{enumerable:true,writable:false,configurable:false,value:57},A:{enumerable:true,writable:false,configurable:false,value:65},B:{enumerable:true,writable:false,configurable:false,value:66},C:{enumerable:true,writable:false,configurable:false,value:67},D:{enumerable:true,writable:false,configurable:false,value:68},
E:{enumerable:true,writable:false,configurable:false,value:69},F:{enumerable:true,writable:false,configurable:false,value:70},G:{enumerable:true,writable:false,configurable:false,value:71},H:{enumerable:true,writable:false,configurable:false,value:72},I:{enumerable:true,writable:false,configurable:false,value:73},J:{enumerable:true,writable:false,configurable:false,value:74},K:{enumerable:true,writable:false,configurable:false,value:75},L:{enumerable:true,writable:false,configurable:false,value:76},
M:{enumerable:true,writable:false,configurable:false,value:77},N:{enumerable:true,writable:false,configurable:false,value:78},O:{enumerable:true,writable:false,configurable:false,value:79},P:{enumerable:true,writable:false,configurable:false,value:80},Q:{enumerable:true,writable:false,configurable:false,value:81},R:{enumerable:true,writable:false,configurable:false,value:82},S:{enumerable:true,writable:false,configurable:false,value:83},T:{enumerable:true,writable:false,configurable:false,value:84},
U:{enumerable:true,writable:false,configurable:false,value:85},V:{enumerable:true,writable:false,configurable:false,value:86},W:{enumerable:true,writable:false,configurable:false,value:87},X:{enumerable:true,writable:false,configurable:false,value:88},Y:{enumerable:true,writable:false,configurable:false,value:89},Z:{enumerable:true,writable:false,configurable:false,value:90},WINDOWS_KEY:{enumerable:true,writable:false,configurable:false,value:91},NUMPAD_0:{enumerable:true,writable:false,configurable:false,
value:96},NUMPAD_1:{enumerable:true,writable:false,configurable:false,value:97},NUMPAD_2:{enumerable:true,writable:false,configurable:false,value:98},NUMPAD_3:{enumerable:true,writable:false,configurable:false,value:99},NUMPAD_4:{enumerable:true,writable:false,configurable:false,value:100},NUMPAD_5:{enumerable:true,writable:false,configurable:false,value:101},NUMPAD_6:{enumerable:true,writable:false,configurable:false,value:102},NUMPAD_7:{enumerable:true,writable:false,configurable:false,value:103},
NUMPAD_8:{enumerable:true,writable:false,configurable:false,value:104},NUMPAD_9:{enumerable:true,writable:false,configurable:false,value:105},NUMPAD_MULTIPLY:{enumerable:true,writable:false,configurable:false,value:106},NUMPAD_ADD:{enumerable:true,writable:false,configurable:false,value:107},NUMPAD_ENTER:{enumerable:true,writable:false,configurable:false,value:108},NUMPAD_SUBTRACT:{enumerable:true,writable:false,configurable:false,value:109},NUMPAD_DECIMAL:{enumerable:true,writable:false,configurable:false,
value:110},NUMPAD_DIVIDE:{enumerable:true,writable:false,configurable:false,value:111},F1:{enumerable:true,writable:false,configurable:false,value:112},F2:{enumerable:true,writable:false,configurable:false,value:113},F3:{enumerable:true,writable:false,configurable:false,value:114},F4:{enumerable:true,writable:false,configurable:false,value:115},F5:{enumerable:true,writable:false,configurable:false,value:116},F6:{enumerable:true,writable:false,configurable:false,value:117},F7:{enumerable:true,writable:false,
configurable:false,value:118},F8:{enumerable:true,writable:false,configurable:false,value:119},F9:{enumerable:true,writable:false,configurable:false,value:120},F10:{enumerable:true,writable:false,configurable:false,value:121},F11:{enumerable:true,writable:false,configurable:false,value:122},F12:{enumerable:true,writable:false,configurable:false,value:123},F13:{enumerable:true,writable:false,configurable:false,value:124},F14:{enumerable:true,writable:false,configurable:false,value:125},F15:{enumerable:true,
writable:false,configurable:false,value:126},SCROLL:{enumerable:true,writable:false,configurable:false,value:145},SEMICOLON:{enumerable:true,writable:false,configurable:false,value:186},EQUAL:{enumerable:true,writable:false,configurable:false,value:187},COMMA:{enumerable:true,writable:false,configurable:false,value:188},MINUS:{enumerable:true,writable:false,configurable:false,value:189},PERIOD:{enumerable:true,writable:false,configurable:false,value:190},SLASH:{enumerable:true,writable:false,configurable:false,
value:191},BACKQUOTE:{enumerable:true,writable:false,configurable:false,value:192},LEFTBRACKET:{enumerable:true,writable:false,configurable:false,value:219},BACKSLASH:{enumerable:true,writable:false,configurable:false,value:220},RIGHTBRACKET:{enumerable:true,writable:false,configurable:false,value:221},QUOTE:{enumerable:true,writable:false,configurable:false,value:222}})});
Object.defineProperty(doodle,"GradientType",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{LINEAR:{enumerable:true,writable:false,configurable:false,value:"linearGradient"},RADIAL:{enumerable:true,writable:false,configurable:false,value:"radialGradient"}})});
Object.defineProperty(doodle,"Pattern",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{REPEAT:{enumerable:true,writable:false,configurable:false,value:"repeat"},REPEAT_X:{enumerable:true,writable:false,configurable:false,value:"repeat-x"},REPEAT_Y:{enumerable:true,writable:false,configurable:false,value:"repeat-y"},NO_REPEAT:{enumerable:true,writable:false,configurable:false,value:"no-repeat"}})});
Object.defineProperty(doodle,"LineCap",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{BUTT:{enumerable:true,writable:false,configurable:false,value:"butt"},ROUND:{enumerable:true,writable:false,configurable:false,value:"round"},SQUARE:{enumerable:true,writable:false,configurable:false,value:"square"}})});
Object.defineProperty(doodle,"LineJoin",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{MITER:{enumerable:true,writable:false,configurable:false,value:"miter"},ROUND:{enumerable:true,writable:false,configurable:false,value:"round"},BEVEL:{enumerable:true,writable:false,configurable:false,value:"bevel"}})});
(function(){var l={},k,o;doodle.Event=function(c,j,e){var h=arguments.length,a=Object.create(l),b=false,p=false,n=false,g=false,d=0,f=null,i=null,q=new Date,t=null,u=true;if(h===1&&o(arguments[0])){h=arguments[0];c=h.type;j=h.bubbles;e=h.cancelable;n=h.cancelBubble;g=h.defaultPrevented;d=h.eventPhase;f=h.target;i=h.currentTarget;q=h.timeStamp;t=h.srcElement;u=h.returnValue;if(h.__cancel)b=h.__cancel;if(h.__cancelNow)p=h.__cancelNow}else if(h===0||h>3)throw new SyntaxError("[object Event]: Invalid number of parameters.");
Object.defineProperties(a,k);Object.defineProperties(a,{bubbles:{enumerable:true,configurable:false,get:function(){return j}},cancelBubble:{enumerable:true,configurable:false,get:function(){return n},set:function(m){n=m}},cancelable:{enumerable:true,configurable:false,get:function(){return e}},__cancel:{enumerable:false,configurable:false,get:function(){return b}},__cancelNow:{enumerable:false,configurable:false,get:function(){return p}},currentTarget:{enumerable:true,configurable:false,get:function(){return i}},
__setCurrentTarget:{enumerable:false,value:function(m){i=m}},target:{enumerable:true,configurable:false,get:function(){return f}},__setTarget:{enumerable:false,value:function(m){f=m}},eventPhase:{enumerable:true,configurable:false,get:function(){return d}},__setEventPhase:{enumerable:false,value:function(m){d=m}},srcElement:{enumerable:true,configurable:false,get:function(){return t}},timeStamp:{enumerable:true,configurable:false,get:function(){return q}},type:{enumerable:true,configurable:false,
get:function(){return c}},__setType:{enumerable:false,value:function(m){c=m}},returnValue:{enumerable:true,configurable:false,get:function(){return u}},initEvent:{enumerable:true,configurable:false,value:function(m,x,r){x=x===true;r=r===true;c=m;j=x;e=r;return this}},preventDefault:{enumerable:true,configurable:false,value:function(){g=true}},stopPropagation:{enumerable:true,configurable:false,value:function(){if(this.cancelable)b=true;else throw Error(this+".stopPropagation: Event can not be cancelled.");
}},stopImmediatePropagation:{enumerable:true,configurable:false,value:function(){if(this.cancelable)p=b=true;else throw Error(this+".stopImmediatePropagation: Event can not be cancelled.");}}});a.initEvent(c,j,e);return a};(function(){var c=Object.getPrototypeOf(document.createEvent("Event"));for(var j in c)if(typeof c[j]!=="function")l[j]=c[j];k={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object Event]"}}}})();o=doodle.Event.isEvent=function(c){if(typeof c!==
"object")return false;else c=c.toString();return c==="[object Event]"||c==="[object UIEvent]"||c==="[object MouseEvent]"||c==="[object KeyboardEvent]"||c==="[object TextEvent]"||c==="[object WheelEvent]"}})();
(function(){var l,k=doodle.Event.isEvent;doodle.UIEvent=function(o,c,j,e,h){var a=arguments.length,b=0,p=0,n=0,g=0,d=0,f=0,i=0;if(a===1&&k(arguments[0])){a=arguments[0];o=a.type;c=a.bubbles;j=a.cancelable;e=a.view;h=a.detail;b=a.which||0;p=a.charCode||0;n=a.keyCode||0;g=a.layerX||0;d=a.layerY||0;f=a.pageX||0;i=a.pageY||0;a=Object.create(doodle.Event(a))}else if(a===0||a>5)throw new SyntaxError("[object UIEvent]: Invalid number of parameters.");else{c=c===true;j=j===true;a=Object.create(doodle.Event(o,
c,j))}Object.defineProperties(a,l);Object.defineProperties(a,{view:{enumerable:true,configurable:false,get:function(){return e}},detail:{enumerable:true,configurable:false,get:function(){return h}},which:{enumerable:true,configurable:false,get:function(){return b}},charCode:{enumerable:true,configurable:false,get:function(){return p}},keyCode:{enumerable:true,configurable:false,get:function(){return n}},layerX:{enumerable:true,configurable:false,get:function(){return g}},layerY:{enumerable:true,configurable:false,
get:function(){return d}},pageX:{enumerable:true,configurable:false,get:function(){return f}},pageY:{enumerable:true,configurable:false,get:function(){return i}},initUIEvent:{value:function(q,t,u,m,x){o=q;c=t===true;j=u===true;e=m===undefined?null:m;h=x===undefined?0:x;this.initEvent(o,c,j);return this}}});a.initUIEvent(o,c,j,e,h);return a};l={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object UIEvent]"}}}})();
(function(){var l,k=doodle.Event.isEvent,o=doodle.utils.types.check_string_type;doodle.MouseEvent=function(c,j,e,h,a,b,p,n,g,d,f,i,q,t,u){var m=arguments.length,x=0,r=0,s=0,v=0;if(m===1&&k(arguments[0])){m=arguments[0];c=m.type;j=m.bubbles;e=m.cancelable;h=m.view;a=m.detail;b=m.screenX;p=m.screenY;n=m.clientX;g=m.clientY;d=m.ctrlKey;f=m.altKey;i=m.shiftKey;q=m.metaKey;t=m.button;u=m.relatedTarget;x=m.x||0;r=m.y||0;s=m.offsetX||0;v=m.offsetY||0;m=Object.create(doodle.UIEvent(m))}else if(m===0||m>15)throw new SyntaxError("[object MouseEvent]: Invalid number of parameters.");
else{j=j===true;e=e===true;h=h===undefined?null:h;a=a===undefined?0:a;m=Object.create(doodle.UIEvent(c,j,e,h,a))}Object.defineProperties(m,l);Object.defineProperties(m,{x:{enumerable:true,configurable:false,get:function(){return x}},y:{enumerable:true,configurable:false,get:function(){return r}},screenX:{enumerable:true,configurable:false,get:function(){return b}},screenY:{enumerable:true,configurable:false,get:function(){return p}},clientX:{enumerable:true,configurable:false,get:function(){return n}},
clientY:{enumerable:true,configurable:false,get:function(){return g}},offsetX:{enumerable:true,configurable:false,get:function(){return s}},offsetY:{enumerable:true,configurable:false,get:function(){return v}},ctrlKey:{enumerable:true,configurable:false,get:function(){return d}},altKey:{enumerable:true,configurable:false,get:function(){return f}},shiftKey:{enumerable:true,configurable:false,get:function(){return i}},metaKey:{enumerable:true,configurable:false,get:function(){return q}},button:{enumerable:true,
configurable:false,get:function(){return t}},relatedTarget:{enumerable:true,configurable:false,get:function(){return u}},initMouseEvent:{value:function(z,w,y,B,C,A,D,E,F,I,J,K,L,G,H){j=w===true;e=y===true;h=B===undefined?null:B;a=C===undefined?0:C;b=A===undefined?0:A;p=D===undefined?0:D;n=E===undefined?0:E;g=F===undefined?0:F;d=I===true;f=J===true;i=K===true;q=L===true;t=G===undefined?0:G;u=H===undefined?null:H;this.initUIEvent(c,j,e,h,a);return this}},getModifierState:{value:function(z){o(z,this+
".getModifierState");switch(z){case "Alt":return f;case "Control":return d;case "Meta":return q;case "Shift":return i;default:return false}}}});m.initMouseEvent(c,j,e,h,a,b,p,n,g,d,f,i,q,t,u);return m};l={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object MouseEvent]"}}}})();
(function(){var l,k=doodle.Event.isEvent;doodle.TextEvent=function(o,c,j,e,h,a){var b=arguments.length;if(b===1&&k(arguments[0])){b=arguments[0];o=b.type;c=b.bubbles;j=b.cancelable;e=b.view;h=b.data;a=b.inputMode;b=Object.create(doodle.UIEvent(b))}else if(b===0||b>6)throw new SyntaxError("[object TextEvent]: Invalid number of parameters.");else{c=c===true;j=j===true;e=viewArg===undefined?null:e;b=Object.create(doodle.UIEvent(o,c,j,e))}Object.defineProperties(b,l);Object.defineProperties(b,{data:{enumerable:true,
configurable:false,get:function(){return h}},inputMode:{enumerable:true,configurable:false,get:function(){return a}},initTextEvent:{value:function(p,n,g,d,f,i){o=p;c=n===true;j=g===true;e=d===undefined?null:d;h=f===undefined?"":f;a=i===undefined?doodle.TextEvent.INPUT_METHOD_UNKNOWN:i;this.initUIEvent(o,c,j,e);return this}}});b.initTextEvent(o,c,j,e,h,a);return b};l={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object TextEvent]"}}}})();
(function(){var l,k=doodle.Event.isEvent,o=doodle.utils.types.check_string_type;doodle.KeyboardEvent=function(c,j,e,h,a,b,p,n){var g=arguments.length,d=false,f=false,i=false,q=false;if(g===1&&k(arguments[0])){g=arguments[0];c=g.type;j=g.bubbles;e=g.cancelable;h=g.view;a=g.keyIdentifier;b=g.keyLocation;n=g.repeat;d=g.ctrlKey||false;f=g.shiftKey||false;i=g.altKey||false;q=g.metaKey||false;g=Object.create(doodle.UIEvent(g))}else if(g===0||g>8)throw new SyntaxError("[object KeyboardEvent]: Invalid number of parameters.");
else{j=j===true;e=e===true;h=h===undefined?null:h;g=Object.create(doodle.UIEvent(c,j,e,h))}Object.defineProperties(g,l);Object.defineProperties(g,{keyIdentifier:{enumerable:true,configurable:false,get:function(){return a}},keyLocation:{enumerable:true,configurable:false,get:function(){return b}},repeat:{enumerable:true,configurable:false,get:function(){return n}},altKey:{enumerable:true,configurable:false,get:function(){return i}},ctrlKey:{enumerable:true,configurable:false,get:function(){return d}},
metaKey:{enumerable:true,configurable:false,get:function(){return q}},shiftKey:{enumerable:true,configurable:false,get:function(){return f}},initKeyboardEvent:{value:function(t,u,m,x,r,s,v,z){c=t;j=u===true;e=m===true;h=x===undefined?null:x;a=r===undefined?"":r;b=s===undefined?0:s;p=v===undefined?"":v;n=z===true;p.split(" ").forEach(function(w){switch(w){case "Alt":i=true;break;case "Control":d=true;break;case "Meta":q=true;break;case "Shift":f=true;break}});this.initUIEvent(c,j,e,h);return this}},
getModifierState:{value:function(t){o(t,this+".getModifierState");switch(t){case "Alt":return i;case "Control":return d;case "Meta":return q;case "Shift":return f;default:return false}}}});g.initKeyboardEvent(c,j,e,h,a,b,p,n);return g};l={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object KeyboardEvent]"}}}})();
Object.defineProperties(doodle.Event,{CAPTURING_PHASE:{enumerable:true,writable:false,configurable:false,value:1},AT_TARGET:{enumerable:true,writable:false,configurable:false,value:2},BUBBLING_PHASE:{enumerable:true,writable:false,configurable:false,value:3},ADDED:{enumerable:true,writable:false,configurable:false,value:"added"},REMOVED:{enumerable:true,writable:false,configurable:false,value:"removed"},ENTER_FRAME:{enumerable:true,writable:false,configurable:false,value:"enterFrame"},LOAD:{enumerable:true,
writable:false,configurable:false,value:"load"},CHANGE:{enumerable:true,writable:false,configurable:false,value:"change"}});Object.defineProperties(doodle.UIEvent,{FOCUS_IN:{enumerable:true,writable:false,configurable:false,value:"focusIn"}});
Object.defineProperties(doodle.MouseEvent,{CLICK:{enumerable:true,writable:false,configurable:false,value:"click"},DOUBLE_CLICK:{enumerable:true,writable:false,configurable:false,value:"dblclick"},CONTEXT_MENU:{enumerable:true,writable:false,configurable:false,value:"contextmenu"},MOUSE_DOWN:{enumerable:true,writable:false,configurable:false,value:"mousedown"},MOUSE_UP:{enumerable:true,writable:false,configurable:false,value:"mouseup"},MOUSE_WHEEL:{enumerable:true,writable:false,configurable:false,
value:"mousewheel"},MOUSE_MOVE:{enumerable:true,writable:false,configurable:false,value:"mousemove"},MOUSE_OUT:{enumerable:true,writable:false,configurable:false,value:"mouseout"},MOUSE_OVER:{enumerable:true,writable:false,configurable:false,value:"mouseover"},MOUSE_ENTER:{enumerable:true,writable:false,configurable:false,value:"mouseenter"},MOUSE_LEAVE:{enumerable:true,writable:false,configurable:false,value:"mouseleave"}});
Object.defineProperties(doodle.KeyboardEvent,{KEY_PRESS:{enumerable:true,writable:false,configurable:false,value:"keypress"},KEY_UP:{enumerable:true,writable:false,configurable:false,value:"keyup"},KEY_DOWN:{enumerable:true,writable:false,configurable:false,value:"keydown"},KEY_LOCATION_STANDARD:{enumerable:true,writable:false,configurable:false,value:0},KEY_LOCATION_LEFT:{enumerable:true,writable:false,configurable:false,value:1},KEY_LOCATION_RIGHT:{enumerable:true,writable:false,configurable:false,
value:2},KEY_LOCATION_NUMPAD:{enumerable:true,writable:false,configurable:false,value:3},KEY_LOCATION_MOBILE:{enumerable:true,writable:false,configurable:false,value:4},KEY_LOCATION_JOYSTICK:{enumerable:true,writable:false,configurable:false,value:5}});
Object.defineProperties(doodle.TextEvent,{TEXT_INPUT:{enumerable:true,writable:false,configurable:false,value:"textInput"},INPUT_METHOD_UNKNOWN:{enumerable:true,writable:false,configurable:false,value:0},INPUT_METHOD_KEYBOARD:{enumerable:true,writable:false,configurable:false,value:1},INPUT_METHOD_PASTE:{enumerable:true,writable:false,configurable:false,value:2},INPUT_METHOD_DROP:{enumerable:true,writable:false,configurable:false,value:3},INPUT_METHOD_IME:{enumerable:true,writable:false,configurable:false,
value:4},INPUT_METHOD_OPTION:{enumerable:true,writable:false,configurable:false,value:5},INPUT_METHOD_HANDWRITING:{enumerable:true,writable:false,configurable:false,value:6},INPUT_METHOD_VOICE:{enumerable:true,writable:false,configurable:false,value:7},INPUT_METHOD_MULTIMODAL:{enumerable:true,writable:false,configurable:false,value:8},INPUT_METHOD_SCRIPT:{enumerable:true,writable:false,configurable:false,value:9}});
(function(){var l,k,o;o=doodle.geom.Point=function(c,j){var e={},h=arguments.length;Object.defineProperties(e,l);Object.defineProperties(e,{x:{enumerable:true,configurable:false,get:function(){return c},set:function(a){c=a}},y:{enumerable:true,configurable:false,get:function(){return j},set:function(a){j=a}}});if(h===0)e.compose(0,0);else if(h===2)e.compose(c,j);else{h=arguments[0];c=undefined;if(typeof h==="function"){e.compose(0,0);h.call(e)}else Array.isArray(h)?e.compose.apply(e,h):e.compose(h.x,
h.y)}return e};l={length:{enumerable:true,configurable:false,get:function(){return this.distance({x:0,y:0},this)}},compose:{enumerable:false,writable:false,configurable:false,value:function(c,j){this.x=c;this.y=j;return this}},clone:{enumerable:false,writable:false,configurable:false,value:function(){return o(this.x,this.y)}},toArray:{enumerable:false,writable:false,configurable:false,value:function(){var c=Array(2);c[0]=this.x;c[1]=this.y;return c}},toString:{enumerable:false,writable:false,configurable:false,
value:function(){return"(x="+this.x+", y="+this.y+")"}},distance:{enumerable:false,writable:false,configurable:false,value:function(c,j){var e=j.x-c.x,h=j.y-c.x;return Math.sqrt(e*e+h*h)}},normalize:{enumerable:false,writable:false,configurable:false,value:function(c){var j=this.length;this.x=this.x/j*c;this.y=this.y/j*c;return this}},equals:{enumerable:false,writable:false,configurable:false,value:function(c){return this&&c&&this.x===c.x&&this.y===c.y||!this&&!c}},interpolate:{enumerable:false,writable:false,
configurable:false,value:function(c,j,e){return o(c.x+(j.x-c.x)*e,c.y+(j.y-c.y)*e)}},polar:{enumerable:false,writable:false,configurable:false,value:function(c,j){return o(c*Math.cos(j),c*Math.sin(j))}},add:{enumerable:false,writable:false,configurable:false,value:function(c){return o(this.x+c.x,this.y+c.y)}},subtract:{enumerable:false,writable:false,configurable:false,value:function(c){return o(this.x-c.x,this.y-c.y)}},offset:{enumerable:false,writable:false,configurable:false,value:function(c,j){this.x+=
c;this.y+=j;return this}}};k=doodle.geom.Point.isPoint=function(c){return c&&typeof c.x==="number"&&typeof c.y==="number"};doodle.utils.types.check_point_type=function(c,j,e){if(k(c))return true;else{j=j===undefined?"check_point_type":j;e=e===undefined?"":"("+e+")";throw new TypeError(j+e+": Parameter must be a point.");}}})();
(function(){var l,k,o=doodle.geom.Point,c=Math.sin,j=Math.cos,e=Math.atan2,h=Math.tan;doodle_Matrix=doodle.geom.Matrix=function(a,b,p,n,g,d){var f={},i=arguments.length;Object.defineProperties(f,l);Object.defineProperties(f,{a:{enumerable:true,configurable:false,get:function(){return a},set:function(q){a=q}},b:{enumerable:true,configurable:false,get:function(){return b},set:function(q){b=q}},c:{enumerable:true,configurable:false,get:function(){return p},set:function(q){p=q}},d:{enumerable:true,configurable:false,
get:function(){return n},set:function(q){n=q}},tx:{enumerable:true,configurable:false,get:function(){return g},set:function(q){g=q}},ty:{enumerable:true,configurable:false,get:function(){return d},set:function(q){d=q}}});if(i===0)f.identity();else if(i===6)f.compose(a,b,p,n,g,d);else{i=arguments[0];a=undefined;if(typeof i==="function"){f.identity();i.call(f)}else Array.isArray(i)?f.compose.apply(f,i):f.compose(i.a,i.b,i.c,i.d,i.tx,i.ty)}return f};l={compose:{enumerable:false,writable:false,configurable:false,
value:function(a,b,p,n,g,d){this.a=a;this.b=b;this.c=p;this.d=n;this.tx=g;this.ty=d;return this}},toArray:{enumerable:false,writable:false,configurable:false,value:function(){var a=Array(6);a[0]=this.a;a[1]=this.b;a[2]=this.c;a[3]=this.d;a[4]=this.tx;a[5]=this.ty;return a}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}},equals:{enumerable:false,writable:false,configurable:false,
value:function(a){return this&&a&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d&&this.tx===a.tx&&this.ty===a.ty||!this&&!a}},identity:{enumerable:false,writable:false,configurable:false,value:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this}},clone:{enumerable:false,writable:false,configurable:false,value:function(){return doodle_Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty)}},multiply:{enumerable:false,writable:false,configurable:false,value:function(a){return this.compose(this.a*
a.a+this.c*a.b,this.b*a.a+this.d*a.b,this.a*a.c+this.c*a.d,this.b*a.c+this.d*a.d,this.a*a.tx+this.c*a.ty+this.tx,this.b*a.tx+this.d*a.ty+this.ty)}},rotate:{enumerable:false,writable:false,configurable:false,value:function(a){var b=j(a);a=c(a);return this.multiply(doodle_Matrix(b,a,-a,b,0,0))}},deltaRotate:{enumerable:false,writable:false,configurable:false,value:function(a){var b=this.tx,p=this.ty;this.rotate(a);this.tx=b;this.ty=p;return this}},rotation:{enumerable:true,configurable:false,get:function(){return e(this.b,
this.a)},set:function(a){var b=j(a);a=c(a);return this.compose(b,a,-a,b,this.tx,this.ty)}},scale:{enumerable:false,writable:false,configurable:false,value:function(a,b){return this.multiply(doodle_Matrix(a,0,0,b,0,0))}},deltaScale:{enumerable:false,writable:false,configurable:false,value:function(a,b){var p=this.tx,n=this.ty;this.scale(a,b);this.tx=p;this.ty=n;return this}},translate:{enumerable:false,writable:false,configurable:false,value:function(a,b){this.tx+=a;this.ty+=b;return this}},skew:{enumerable:false,
writable:false,configurable:false,value:function(a,b){var p=h(a),n=h(b);return this.multiply(doodle_Matrix(1,n,p,1,0,0))}},deltaSkew:{enumerable:false,writable:false,configurable:false,value:function(a,b){var p=this.tx,n=this.ty;this.skew(a,b);this.tx=p;this.ty=n;return this}},add:{enumerable:false,writable:false,configurable:false,value:function(a){this.a+=a.a;this.b+=a.b;this.c+=a.c;this.d+=a.d;this.tx+=a.tx;this.ty+=a.ty;return this}},invert:{enumerable:false,writable:false,configurable:false,
value:function(){var a=this.a*this.d-this.b*this.c;return this.compose(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.ty*this.c-this.d*this.tx)/a,-(this.ty*this.a-this.b*this.tx)/a)}},transformPoint:{enumerable:false,writable:false,configurable:false,value:function(a){return o(this.a*a.x+this.c*a.y+this.tx,this.b*a.x+this.d*a.y+this.ty)}},deltaTransformPoint:{enumerable:false,writable:false,configurable:false,value:function(a){return o(this.a*a.x+this.c*a.y,this.b*a.x+this.d*a.y)}},rotateAroundExternalPoint:{enumerable:false,
writable:false,configurable:false,value:function(a,b){var p=doodle_Matrix().rotate(b),n,g=a.x,d=a.y;this.translate(-g,-d);n=p.transformPoint({x:this.tx,y:this.ty});this.tx=n.x;this.ty=n.y;return this.multiply(p).translate(g,d)}},rotateAroundInternalPoint:{enumerable:false,writable:false,configurable:false,value:function(a,b){return this.rotateAroundExternalPoint(this.transformPoint(a),b)}},matchInternalPointWithExternal:{enumerable:false,writable:false,configurable:false,value:function(a,b){var p=
this.transformPoint(a);return this.translate(b.x-p.x,b.y-p.y)}},interpolate:{enumerable:false,writable:false,configurable:false,value:function(a,b){this.a+=(a.a-this.a)*b;this.b+=(a.b-this.b)*b;this.c+=(a.c-this.c)*b;this.d+=(a.d-this.d)*b;this.tx+=(a.tx-this.tx)*b;this.ty+=(a.ty-this.ty)*b;return this}}};k=doodle.geom.Matrix.isMatrix=function(a){return a!==undefined&&a!==null&&typeof a.a==="number"&&typeof a.b==="number"&&typeof a.c==="number"&&typeof a.d==="number"&&typeof a.tx==="number"&&typeof a.ty===
"number"};doodle.utils.types.check_matrix_type=function(a,b){if(k(a))return true;else{b=b===undefined?"check_matrix_type":b;throw new TypeError(b+": Parameter must be a matrix.");}}})();
(function(){var l,k,o;k=doodle.geom.Rectangle=function(c,j,e,h){var a={},b=arguments.length;Object.defineProperties(a,l);Object.defineProperties(a,{x:{enumerable:true,configurable:false,get:function(){return c},set:function(p){c=p}},y:{enumerable:true,configurable:false,get:function(){return j},set:function(p){j=p}},width:{enumerable:true,configurable:false,get:function(){return e},set:function(p){e=p}},height:{enumerable:true,configurable:false,get:function(){return h},set:function(p){h=p}}});if(b===
0)a.compose(0,0,0,0);else if(b===4)a.compose(c,j,e,h);else{b=arguments[0];c=undefined;if(typeof b==="function"){a.compose(0,0,0,0);b.call(a)}else Array.isArray(b)?a.compose.apply(a,b):a.compose(b.x,b.y,b.width,b.height)}return a};l={top:{enumerable:true,configurable:false,get:function(){return this.y},set:function(c){this.y=c;this.height-=c}},right:{enumerable:true,configurable:false,get:function(){return this.x+this.width},set:function(c){this.width=c-this.x}},bottom:{enumerable:true,configurable:false,
get:function(){return this.y+this.height},set:function(c){this.height=c-this.y}},left:{enumerable:true,configurable:false,get:function(){return this.x},set:function(c){this.x=c;this.width-=c}},clone:{enumerable:false,writable:false,configurable:false,value:function(){return k(this.x,this.y,this.width,this.height)}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"(x="+this.x+", y="+this.y+", w="+this.width+", h="+this.height+")"}},toArray:{enumerable:false,writable:false,
configurable:false,value:function(){return[this.top,this.right,this.bottom,this.left]}},compose:{enumerable:false,writable:false,configurable:false,value:function(c,j,e,h){this.x=c;this.y=j;this.width=e;this.height=h;return this}},offset:{enumerable:false,writable:false,configurable:false,value:function(c,j){this.x+=c;this.y+=j;return this}},inflate:{enumerable:false,writable:false,configurable:false,value:function(c,j){this.x-=c;this.width+=2*c;this.y-=j;this.height+=2*j;return this}},equals:{enumerable:false,
writable:false,configurable:false,value:function(c){return this.x===c.x&&this.y===c.y&&this.width===c.width&&this.height===c.height}},isEmpty:{enumerable:false,writable:false,configurable:false,value:function(){return this.width>=0||this.height>=0}},containsPoint:{enumerable:false,writable:false,configurable:false,value:function(c){var j=c.x;c=c.y;return j>=this.left&&j<=this.right&&c>=this.top&&c<=this.bottom}},containsRect:{enumerable:false,writable:false,configurable:false,value:function(c){return this.containsPoint({x:c.x,
y:c.y})&&this.containsPoint({x:c.right,y:c.y})&&this.containsPoint({x:c.right,y:c.bottom})&&this.containsPoint({x:c.x,y:c.bottom})}},intersects:{enumerable:false,writable:false,configurable:false,value:function(c){return this.containsPoint({x:c.x,y:c.y})||this.containsPoint({x:c.right,y:c.y})||this.containsPoint({x:c.right,y:c.bottom})||this.containsPoint({x:c.x,y:c.bottom})}},intersection:{enumerable:false,writable:false,configurable:false,value:function(c){var j=k();if(this.intersects(c)){j.left=
Math.max(this.left,c.left);j.top=Math.max(this.top,c.top);j.right=Math.min(this.right,c.right);j.bottom=Math.min(this.bottom,c.bottom)}return j}},union:{enumerable:false,writable:false,configurable:false,value:function(c){var j=k();j.left=Math.min(this.left,c.left);j.top=Math.min(this.top,c.top);j.right=Math.max(this.right,c.right);j.bottom=Math.max(this.bottom,c.bottom);return j}}};o=doodle.geom.Rectangle.isRect=function(c){return typeof c.x==="number"&&typeof c.y==="number"&&typeof c.width==="number"&&
typeof c.height==="number"&&typeof c.top==="number"&&typeof c.bottom==="number"&&typeof c.left==="number"&&typeof c.right==="number"};doodle.utils.types.check_rect_type=function(c,j){if(o(c))return true;else{j=j===undefined?"check_rect_type":j;throw new TypeError(j+": Parameter must be a rectangle.");}}})();
(function(){var l,k,o,c,j=doodle.utils.types.check_function_type;doodle.EventDispatcher=function(e){var h={};Object.defineProperties(h,l);Object.defineProperties(h,{eventListeners:function(){var a={};return{enumerable:true,configurable:false,get:function(){return a}}}()});typeof e==="function"&&e.call(h);return h};l={toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object EventDispatcher]"}},modify:{enumerable:false,writable:false,configurable:false,value:function(e){e.call(this);
return this}},addEventListener:{enumerable:false,writable:false,configurable:false,value:function(e,h,a){a=a===true;var b=this;this.eventListeners[e]||(this.eventListeners[e]={capture:[],bubble:[]});this.eventListeners[e][a?"capture":"bubble"].push(h);k.every(function(p){return b!==p})&&k.push(b)}},removeEventListener:{enumerable:false,writable:false,configurable:false,value:function(e,h,a){a=a===true;if(this.eventListeners[e]){var b=this.eventListeners[e];a=b[a?"capture":"bubble"];a.splice(a.indexOf(h),
1);b.capture.length===0&&b.bubble.length===0&&delete this.eventListeners[e];Object.keys(this.eventListeners).length===0&&k.splice(k.indexOf(this),1)}}},handleEvent:{enumerable:false,writable:false,configurable:false,value:function(e){var h=e.eventPhase===doodle.Event.CAPTURING_PHASE?"capture":"bubble",a=this.eventListeners[e.type],b=0,p;if((a=a&&a[h])&&a.length>0){e.__setCurrentTarget(this);b=a.length;for(p=0;p<b;p+=1){j(a[p],this+".handleEvent::listeners["+p+"]");h=a[p].call(this,e);if(h===false||
e.returnValue===false)e.__cancel||e.stopPropagation();if(e.__cancelNow)break}}return b>0?true:false}},dispatchEvent:{enumerable:true,writable:false,configurable:false,value:function(e){var h,a,b=[],p;if(e.__cancel)return false;e.target||e.__setTarget(this);h=e.target;for(a=h.parent||null;a;){b.push(a);a=a.parent}e.__setEventPhase(e.CAPTURING_PHASE);for(p=a=b.length;(p-=1)>=0;){b[p].handleEvent(e);if(e.__cancel)return true}e.__setEventPhase(e.AT_TARGET);h.handleEvent(e);if(e.__cancel)return true;if(!e.bubbles||
e.cancelBubble)return true;e.__setEventPhase(e.BUBBLING_PHASE);for(p=0;p<a;p+=1){b[p].handleEvent(e);if(e.__cancel||e.cancelBubble)return true}return true}},broadcastEvent:{enumerable:true,writable:false,configurable:false,value:function(e){var h,a,b;if(e.__cancel)throw Error(this+".broadcastEvent: Can not dispatch a cancelled event.");e.target||e.__setTarget(this);h=k.filter(function(p){return p.hasEventListener(e.type)});b=0;for(a=h.length;b<a;b+=1){h[b].handleEvent(e);if(e.__cancel)break}return true}},
hasEventListener:{enumerable:false,writable:false,configurable:false,value:function(e){return this.eventListeners!==null&&this.eventListeners.hasOwnProperty(e)}},willTrigger:{enumerable:false,writable:false,configurable:false,value:function(e){if(this.hasEventListener(e))return true;else if(!this.children||this.children.length===0)return false;else for(var h in this.children)if(this.children[h].willTrigger(e))return true;return false}}};k=doodle.EventDispatcher.dispatcher_queue=[];o=doodle.EventDispatcher.isEventDispatcher=
function(e){return e.toString()==="[object EventDispatcher]"};c=doodle.EventDispatcher.inheritsEventDispatcher=function(e){for(;e;)if(o(e))return true;else{if(typeof e!=="object")return false;e=Object.getPrototypeOf(e)}return false};doodle.utils.types.check_eventdispatcher_type=function(e,h,a){if(c(e))return true;else{h=h===undefined?"check_eventdispatcher_type":h;a=a===undefined?"":"("+a+")";throw new TypeError(h+a+": Parameter must be an EventDispatcher.");}}})();
(function(){function l(g,d,f){g.children.forEach(function(i){typeof f==="function"&&f(i);i.dispatchEvent(b(d,true));l(i,d,f)})}var k=0,o,c,j,e,h=doodle.utils.types.check_number_type,a=doodle.geom.Point,b=doodle.Event,p=180/Math.PI,n=Math.PI/180;doodle.Node=function(g){var d=Object.create(doodle.EventDispatcher());Object.defineProperties(d,o);Object.defineProperties(d,{id:function(){var f;return{enumerable:true,configurable:false,get:function(){return f},set:function(i){f=i}}}(),root:function(){var f=
null;return{enumerable:true,configurable:false,get:function(){return f},set:function(i){f=i}}}(),parent:function(){var f=null;return{enumerable:true,configurable:false,get:function(){return f},set:function(i){f=i}}}(),children:function(){var f=[];return{enumerable:true,configurable:false,get:function(){return f}}}(),transform:function(){var f=doodle.geom.Matrix();return{enumerable:true,configurable:false,get:function(){return f},set:function(i){f=i}}}(),visible:function(){var f=true;return{enumerable:true,
configurable:false,get:function(){return f},set:function(i){f=i}}}(),alpha:function(){var f=1;return{enumerable:true,configurable:false,get:function(){return f},set:function(i){f=i>1?1:i<0?0:i}}}()});if(typeof g==="function"){g.call(d);g=undefined}if(d.id===undefined){d.id=g!==undefined?g:"node"+String("000"+k).slice(-3);k+=1}return d};o={x:{enumerable:true,configurable:false,get:function(){return this.transform.tx},set:function(g){this.transform.tx=g}},y:{enumerable:true,configurable:false,get:function(){return this.transform.ty},
set:function(g){this.transform.ty=g}},axis:{value:{x:this.x,y:this.y}},rotate:{value:function(g){h(g,this+".rotate");this.transform.rotate(g*n)}},rotation:{enumerable:true,configurable:false,get:function(){return this.transform.rotation*p},set:function(g){this.transform.rotation=g*n}},scaleX:{enumerable:true,configurable:false,get:function(){return this.transform.a},set:function(g){this.transform.a=g}},scaleY:{enumerable:true,configurable:false,get:function(){return this.transform.d},set:function(g){this.transform.d=
g}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Node]"}},addChildAt:{enumerable:false,writable:false,configurable:false,value:function(g,d){if(this.children.indexOf(g)!==-1)return false;if(g.root!==this.root)g.root=this.root;g.parent!==null&&g.parent!==this&&g.parent.removeChild(g);g.parent=this;this.children.splice(d,0,g);if(e(g)){g.dispatchEvent(b(b.ADDED,true));l(g,b.ADDED)}return g}},addChild:{enumerable:false,writable:false,configurable:false,
value:function(g){return this.addChildAt(g,this.children.length)}},removeChildAt:{enumerable:false,writable:false,configurable:false,value:function(){function g(d,f){var i=d.getBounds(d.root);f&&f.clearRect(i.x,i.y,i.width,i.height);d.root=null}return function(d){var f=this.children[d],i=f.context;this.children.splice(d,1);if(i){g(f,i);f.dispatchEvent(b(b.REMOVED,true));l(f,b.REMOVED,function(q){g(q,i)})}f.root=null;f.parent=null}}()},removeChild:{enumerable:false,writable:false,configurable:false,
value:function(g){this.removeChildAt(this.children.indexOf(g))}},removeChildById:{enumerable:false,writable:false,configurable:false,value:function(g){this.removeChild(this.getChildById(g))}},removeAllChildren:{enumerable:false,writable:false,configurable:false,value:function(){for(var g=this.children.length;(g-=1)>=0;)this.removeChildAt(g)}},getChildById:{enumerable:false,writable:false,configurable:false,value:function(g){return this.children.filter(function(d){return d.id===g})[0]}},setChildIndex:{enumerable:true,
writable:false,configurable:false,value:function(g,d){var f=this.children,i=f.length,q=f.indexOf(g);if(q===-1)throw new ReferenceError(this+".setChildIndex(*child*, index): "+g+" does not exist on child list.");if(d>i||d<-i)throw new RangeError(this+".setChildIndex(child, *index*): "+d+" does not exist on child list.");f.splice(q,1);f.splice(d,0,g)}},swapChildrenAt:{enumerable:false,writable:false,configurable:false,value:function(g,d){var f=this.children;f[g]=f.splice(d,1,f[g])[0]}},swapChildren:{enumerable:false,
writable:false,configurable:false,value:function(g,d){var f=this.children;this.swapChildrenAt(f.indexOf(g),f.indexOf(d))}},swapDepths:{enumerable:false,writable:false,configurable:false,value:function(g){var d=this.parent;if(!d||!Array.isArray(d.children))throw Error(this+".swapDepths: no parent found.");else d.swapChildren(this,g)}},swapDepthAt:{enumerable:false,writable:false,configurable:false,value:function(g){var d=this.parent;if(!d||!Array.isArray(d.children))throw Error(this+".swapDepthAt: no parent found.");
else d.swapChildrenAt(g,d.children.indexOf(this))}},contains:{enumerable:false,writable:false,configurable:false,value:function(g){for(;g;){if(g===this)return true;g=g.parent}return false}},localToGlobal:{enumerable:false,writable:false,configurable:false,value:function(g){for(var d=this;d;){g=d.transform.transformPoint(g);d=d.parent}return g}},globalToLocal:{enumerable:false,writable:false,configurable:false,value:function(g){var d=this.localToGlobal({x:0,y:0});return a(g.x-d.x,g.y-d.y)}}};c=doodle.Node.isNode=
function(g){return g.toString()==="[object Node]"};j=doodle.Node.inheritsNode=function(g){for(;g;)if(c(g))return true;else{if(typeof g!=="object")return false;g=Object.getPrototypeOf(g)}return false};doodle.utils.types.check_node_type=function(g,d,f){if(j(g))return true;else{d=d===undefined?"check_node_type":d;f=f===undefined?"":"("+f+")";throw new TypeError(d+f+": Parameter must be a Node.");}};e=doodle.Node.inDisplayList=function(g){for(;g;){if(g.context)return true;g=g.parent}return false}})();
(function(){var l,k=doodle.utils.hex_to_rgb_str,o=doodle.utils.get_element,c=doodle.Event,j=doodle.GradientType.LINEAR,e=doodle.GradientType.RADIAL;doodle.Graphics=function(h,a,b){var p=Object.create(null),n=0,g=0;Object.defineProperties(p,l);Object.defineProperties(p,{draw:{enumerable:false,writable:false,configurable:false,value:function(d){a.push(d)}},clear:{enumerable:false,writable:false,configurable:false,value:function(){for(var d=a.length;(d-=1)>=0;)a.splice(d,1);h.width=0;h.height=0;n=g=
b.min_x=b.min_y=b.max_x=b.max_y=0}},rect:{enumerable:false,writable:false,configurable:false,value:function(d,f,i,q){b.min_x=Math.min(0,d,b.min_x);b.min_y=Math.min(0,f,b.min_y);b.max_x=Math.max(0,d,d+i,b.max_x);b.max_y=Math.max(0,f,f+q,b.max_y);h.width=-b.min_x+b.max_x;h.height=-b.min_y+b.max_y;a.push(function(t){t.beginPath();t.rect(d,f,i,q);t.closePath();t.stroke()})}},circle:{enumerable:false,writable:false,configurable:false,value:function(d,f,i){b.min_x=Math.min(0,-i+d,b.min_x);b.min_y=Math.min(0,
-i+f,b.min_y);b.max_x=Math.max(0,d,d+i,b.max_x);b.max_y=Math.max(0,f,f+i,b.max_y);h.width=-b.min_x+b.max_x;h.height=-b.min_y+b.max_y;a.push(function(q){q.beginPath();q.arc(d,f,i,0,6.283185307179586,true);q.closePath();q.stroke()})}},ellipse:{enumerable:false,writable:false,configurable:false,value:function(d,f,i,q){q=q===undefined?i:q;var t=i/2,u=q/2,m=0.5522847498*t,x=0.5522847498*u;b.min_x=Math.min(0,-t+d,b.min_x);b.min_y=Math.min(0,-u+f,b.min_y);b.max_x=Math.max(0,d,d+t,b.max_x);b.max_y=Math.max(0,
f,f+u,b.max_y);h.width=-b.min_x+b.max_x;h.height=-b.min_y+b.max_y;a.push(function(r){r.beginPath();r.moveTo(d+t,f);r.bezierCurveTo(d+t,f-x,d+m,f-u,d,f-u);r.bezierCurveTo(d-m,f-u,d-t,f-x,d-t,f);r.bezierCurveTo(d-t,f+x,d-m,f+u,d,f+u);r.bezierCurveTo(d+m,f+u,d+t,f+x,d+t,f);r.closePath();r.stroke()})}},roundRect:{enumerable:false,writable:false,configurable:false,value:function(d,f,i,q,t,u){t=t===undefined?0:t;u=u===undefined?0:u;var m=d+i,x=m-t,r=d+t,s=f+q,v=s-u,z=f+u;b.min_x=Math.min(0,d,b.min_x);b.min_y=
Math.min(0,f,b.min_y);b.max_x=Math.max(0,d,d+i,b.max_x);b.max_y=Math.max(0,f,f+q,b.max_y);h.width=-b.min_x+b.max_x;h.height=-b.min_y+b.max_y;a.push(function(w){w.beginPath();w.moveTo(r,f);w.beginPath();w.lineTo(x,f);w.quadraticCurveTo(m,f,m,z);w.lineTo(m,v);w.quadraticCurveTo(m,s,x,s);w.lineTo(r,s);w.quadraticCurveTo(d,s,d,v);w.lineTo(d,z);w.quadraticCurveTo(d,f,r,f);w.closePath();w.stroke()})}},moveTo:{enumerable:false,writable:false,configurable:false,value:function(d,f){a.push(function(i){i.moveTo(d,
f)});n=d;g=f}},lineTo:{enumerable:false,writable:false,configurable:false,value:function(d,f){b.min_x=Math.min(0,d,n,b.min_x);b.min_y=Math.min(0,f,g,b.min_y);b.max_x=Math.max(0,d,n,b.max_x);b.max_y=Math.max(0,f,g,b.max_y);h.width=b.max_x-b.min_x;h.height=b.max_y-b.min_y;a.push(function(i){i.lineTo(d,f)});n=d;g=f}},curveTo:{enumerable:false,writable:false,configurable:false,value:function(d,f){var i=n,q=g,t=d.x,u=d.y,m=f.x,x=f.y,r,s=0,v=0;r=(i-t)/(i-2*t+m);if(0<=r&&r<=1)s=(1-r)*(1-r)*i+2*(1-r)*r*t+
r*r*m;r=(q-u)/(q-2*u+x);if(0<=r&&r<=1)v=(1-r)*(1-r)*q+2*(1-r)*r*u+r*r*x;b.min_x=Math.min(0,i,s,m,b.min_x);b.min_y=Math.min(0,q,v,x,b.min_y);b.max_x=Math.max(0,i,s,m,b.max_x);b.max_y=Math.max(0,q,v,x,b.max_y);h.width=-b.min_x+b.max_x;h.height=-b.min_y+b.max_y;a.push(function(z){z.quadraticCurveTo(t,u,m,x)});n=m;g=x}},bezierCurveTo:{enumerable:false,writable:false,configurable:false,value:function(d,f,i){var q=Math.pow,t=Math.max,u=Math.min,m=n,x=g,r=d.x,s=d.y,v=f.x,z=f.y,w=i.x,y=i.y,B,C=i=f=0,A=0;
for(d=0.1;d<1;d+=0.1){B=q(1-d,3)*m+3*q(1-d,2)*d*r+3*q(1-d,1)*q(d,2)*v+q(d,3)*w;if(B>f)f=B;if(B<i)i=B;B=q(1-d,3)*x+3*q(1-d,2)*d*s+3*q(1-d,1)*q(d,2)*z+q(d,3)*y;if(B>C)C=B;if(B<A)A=B}b.min_x=u(0,m,i,w,b.min_x);b.min_y=u(0,x,A,y,b.min_y);b.max_x=t(0,m,f,w,b.max_x);b.max_y=t(0,x,C,y,b.max_y);h.width=-b.min_x+b.max_x;h.height=-b.min_y+b.max_y;a.push(function(D){D.bezierCurveTo(r,s,v,z,w,y)});n=w;g=y}},beginFill:{enumerable:false,writable:false,configurable:false,value:function(d,f){f=f===undefined?1:f;
a.push(function(i){i.fillStyle=k(d,f)})}},beginGradientFill:{enumerable:true,writable:false,configurable:false,value:function(d,f,i,q,t,u){a.push(function(m){var x=doodle.utils.hex_to_rgb_str,r,s=q.length,v=0;if(d===j)r=m.createLinearGradient(f.x,f.y,i.x,i.y);else if(d===e)r=m.createRadialGradient(f.x,f.y,f.radius,i.x,i.y,i.radius);else throw new TypeError(this+".graphics.beginGradientFill(*type*, point1, point2, ratios, colors, alphas): Unknown gradient type.");for(;v<s;v+=1)r.addColorStop(q[v],
x(t[v],u[v]));m.fillStyle=r})}},beginPatternFill:{enumerable:true,writable:false,configurable:false,value:function(d,f){var i=null,q;q=doodle.Pattern;f=f===undefined?q.REPEAT:f;if(f!==q.REPEAT&&f!==q.NO_REPEAT&&f!==q.REPEAT_X&&f!==q.REPEAT_Y)throw new SyntaxError(this+".graphics.beginPatternFill(image, *repeat*): Invalid pattern repeat type.");if(typeof d==="string")if(d[0]==="#")d=o(d,this+".beginPatternFill");else(function(){var t=encodeURI(d);d=new Image;d.src=t})();if(d.complete)i=d;else{d.onload=
function(){i=d;h.dispatchEvent(c(c.LOAD))};q=function(){throw new URIError(this+".graphics.beginPatternFill(*image*,repeat): Unable to load "+d.src);};d.onerror=q;d.onabort=q}a.push(function(t){t.fillStyle=i?t.createPattern(i,f):"rgba(0,0,0,0)"})}},lineStyle:{enumerable:true,writable:false,configurable:false,value:function(d,f,i,q,t,u){d=d===undefined?1:d;f=f===undefined?"#000000":f;i=i===undefined?1:i;q=q===undefined?doodle.LineCap.BUTT:q;t=t===undefined?doodle.LineJoin.MITER:t;u=u===undefined?10:
u;if(typeof f==="string"||typeof f==="number")f=k(f,i);else throw new TypeError(this+".graphics.lineStyle(thickness,*color*,alpha,caps,joints,miterLimit): Color must be a hex value.");a.push(function(m){m.lineWidth=d;m.strokeStyle=f;m.lineCap=q;m.lineJoin=t;m.miterLimit=u})}},beginPath:{enumerable:false,writable:false,configurable:false,value:function(){a.push(function(d){d.beginPath();d.moveTo(n,g)})}},closePath:{enumerable:false,writable:false,configurable:false,value:function(){a.push(function(d){d.closePath();
d.stroke()});g=n=0}},endFill:{enumerable:false,writable:false,configurable:false,value:function(){a.push(function(d){d.fill()})}},stroke:{enumerable:false,writable:false,configurable:false,value:function(){a.push(function(d){d.stroke()});g=n=0}}});return p};l={toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Graphics]"}}}})();
(function(){var l,k,o,c=doodle.utils.rgb_str_to_hex,j=doodle.utils.types.check_context_type,e=doodle.geom.Rectangle;doodle.Sprite=function(h){var a=Object.create(doodle.Node(typeof h==="string"?h:undefined)),b=[],p={min_x:0,max_x:0,min_y:0,max_y:0};Object.defineProperties(a,l);Object.defineProperties(a,{width:function(){var n=0;return{enumerable:true,configurable:false,get:function(){return n},set:function(g){n=g}}}(),height:function(){var n=0;return{enumerable:true,configurable:false,get:function(){return n},
set:function(g){n=g}}}(),getBounds:{enumerable:true,writable:true,configurable:false,value:function(n){var g=e(),d=this.width,f=this.height,i=this.localToGlobal({x:p.min_x,y:p.min_y}),q=this.localToGlobal({x:p.min_x+d,y:p.min_y});d=this.localToGlobal({x:p.min_x+d,y:p.min_y+f});f=this.localToGlobal({x:p.min_x,y:p.min_y+f});i=n.globalToLocal(i);q=n.globalToLocal(q);d=n.globalToLocal(d);f=n.globalToLocal(f);g.left=Math.min(i.x,q.x,d.x,f.x);g.right=Math.max(i.x,q.x,d.x,f.x);g.top=Math.min(i.y,q.y,d.y,
f.y);g.bottom=Math.max(i.y,q.y,d.y,f.y);return g}},hitArea:function(){var n=null;return{enumerable:true,configurable:false,get:function(){return n===null?this.getBounds(this):n},set:function(g){n=g=g===false?null:g}}}(),hitTestObject:{enumerable:true,writable:true,configurable:false,value:function(n){return this.getBounds(this).intersects(n.getBounds(this))}},hitTestPoint:{enumerable:true,writable:true,configurable:false,value:function(n){return this.getBounds(this).containsPoint(this.globalToLocal(n))}},
context:{get:function(){for(var n=this.parent;n;){if(n.context){n=n.context;j(n,this+".context (traversal)");return n}n=n.parent}return null}},__draw:{enumerable:false,writable:false,configurable:false,value:function(n){b.forEach(function(g){g.call(a,n)})}},debug:{enumerable:true,configurable:false,value:Object.create(null,{boundingBox:function(){var n="rgb(0,0,255)";return{enumerable:true,configurable:false,get:function(){return c(n)},set:function(g){n=g}}}()})}});a.graphics=Object.create(doodle.Graphics(a,
b,p));typeof h==="function"&&h.call(a);return a};l={rotation:function(){var h=180/Math.PI,a=Math.PI/180;return{enumerable:true,configurable:false,get:function(){return this.transform.rotation*h},set:function(b){this.transform.rotation=b*a}}}(),toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Sprite]"}},compose:{enumerable:false,writable:false,configurable:false,value:function(h,a,b,p){this.x=h;this.y=a;this.width=b;this.height=p;return this}}};k=doodle.Sprite.isSprite=
function(h){return h.toString()==="[object Sprite]"};o=doodle.Sprite.inheritsSprite=function(h){for(;h;)if(k(h))return true;else{if(typeof h!=="object")return false;h=Object.getPrototypeOf(h)}return false};doodle.utils.types.check_sprite_type=function(h,a,b){if(o(h))return true;else{a=a===undefined?"check_sprite_type":a;b=b===undefined?"":"("+b+")";throw new TypeError(a+b+": Parameter must inherit from Sprite.");}}})();
(function(){var l,k=doodle.utils,o=k.rgb_str_to_hex,c=k.hex_to_rgb_str,j=k.get_element,e=k.get_element_property,h=k.set_element_property;doodle.ElementNode=function(a){var b=Object.create(doodle.Node());Object.defineProperties(b,l);Object.defineProperties(b,{element:function(){var p=null;return{get:function(){return p},set:function(n){if(n===null)p=null;else p=n=j(n)}}}()});if(typeof a==="function")a.call(b);else if(a!==undefined)b.element=a;return b};l={id:{get:function(){return e(this.element,"id")},
set:function(a){return h(this.element,"id",a,"html")}},width:{get:function(){return e(this.element,"width","int")},set:function(a){h(this.element,"width",a+"px");return a}},height:{get:function(){return e(this.element,"height","int")},set:function(a){h(this.element,"height",a+"px");return a}},backgroundColor:{get:function(){return o(e(this.element,"backgroundColor"))},set:function(a){if(typeof a==="number")a=c(a);return h(this.element,"backgroundColor",a)}},backgroundImage:function(){var a=/^url\((.*)\)/;
return{get:function(){var b=e(this.element,"backgroundImage");return(b=b==="none"?null:b.match(a))?b[1]:null},set:function(b){if(!b)return h(this.element,"backgroundImage",null);if(typeof b==="string"){if(b[0]==="#")b=j(b).src}else if(b&&b.tagName==="IMG")b=b.src;a.test(b)||(b="url("+encodeURI(b)+")");return h(this.element,"backgroundImage",b)}}}(),backgroundRepeat:{get:function(){return e(this.element,"backgroundRepeat")},set:function(a){return h(this.element,"backgroundRepeat",a)}},alpha:{get:function(){return e(this.element,
"opacity","float")},set:function(a){return h(this.element,"opacity",a)}},visible:{get:function(){switch(e(this.element,"visibility")){case "visible":return true;case "hidden":return false;default:throw new ReferenceError(this+".visible: Unable to determine visibility.");}},set:function(a){a?h(this.element,"visibility","visible"):h(this.element,"visibility","hidden");return a}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object ElementNode]"}}}})();
(function(){var l,k=0,o=doodle.utils.get_element_property,c=doodle.utils.set_element_property;doodle.Layer=function(j,e){var h=arguments.length,a,b=Object.create(doodle.ElementNode());if(h===1&&typeof arguments[0]==="function"){a=arguments[0];j=undefined}else if(h>2)throw new SyntaxError("[object Layer]: Invalid number of parameters.");Object.defineProperties(b,l);Object.defineProperties(b,{element:{get:function(){return e},set:function(p){e=p}}});b.element=e||document.createElement("canvas");b.element.style.position=
"absolute";a&&a.call(b);if(!b.id){b.id=typeof j==="string"?j:"layer"+String("00"+k).slice(-2);k+=1}return b};(function(){var j=doodle.Layer.isLayer=function(h){return h.toString()==="[object Layer]"},e=doodle.Layer.inheritsLayer=function(h){for(;h;)if(j(h))return true;else{if(typeof h!=="object")return false;h=Object.getPrototypeOf(h)}return false};doodle.utils.types.check_layer_type=function(h,a,b){if(e(h))return true;else{a=a===undefined?"check_layer_type":a;b=b===undefined?"":"("+b+")";throw new TypeError(a+
b+": Parameter must be a Layer.");}}})();l={context:{get:function(){return this.element.getContext("2d")}},width:{get:function(){return o(this.element,"width","int")},set:function(j){c(this.element,"width",j,"html");return j}},height:{get:function(){return o(this.element,"height","int")},set:function(j){c(this.element,"height",j,"html");return j}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Layer]"}}}})();
(function(){var l,k=doodle.Layer.isLayer,o=doodle.utils.get_element,c=doodle.utils.get_element_property,j=doodle.utils.set_element_property;inheritsSprite=doodle.Sprite.inheritsSprite;doodle_Event=doodle.Event;doodle_MouseEvent=doodle.MouseEvent;ENTER_FRAME=doodle_Event.ENTER_FRAME;enterFrame=doodle_Event(ENTER_FRAME);dispatcher_queue=doodle.EventDispatcher.dispatcher_queue;doodle.Display=function(e){function h(){a(i);dispatcher_queue.forEach(function(r){if(r.hasEventListener(ENTER_FRAME)){enterFrame.__setTarget(r);
r.handleEvent(enterFrame)}});b(i);q+=1;m&&m.update()}function a(){i.children.forEach(function(r){var s=r.context;s.save();s.setTransform(1,0,0,1,0,0);s.clearRect(0,0,r.width,r.height);s.restore()})}function b(r,s){var v;r.children.forEach(function(z){if(z.visible){s=s||z.context;v=z.transform.toArray();s.save();s.transform(v[0],v[1],v[2],v[3],v[4],v[5]);if(x){var w=s;if(typeof z.getBounds==="function"){var y=z.getBounds(i);w.save();w.setTransform(1,0,0,1,0,0);w.lineWidth=0.5;w.strokeStyle=z.debug.boundingBox;
w.strokeRect(y.x,y.y,y.width,y.height);w.restore()}}if(!k(z))if(z.alpha!==1)s.globalAlpha=z.alpha;typeof z.__draw==="function"&&z.__draw(s);b(z,s);s.restore()}})}function p(){a(i);b(i)}function n(r){var s=doodle.EventDispatcher.dispatcher_queue,v=doodle_MouseEvent.MOUSE_OVER,z=doodle_MouseEvent.MOUSE_OUT,w=doodle_MouseEvent.MOUSE_MOVE,y=doodle_MouseEvent(r),B=y.type,C=false;s.forEach(function(A){if(inheritsSprite(A)){var D=A.getBounds(i).containsPoint({x:y.offsetX,y:y.offsetY});y.__setTarget(null);
if(D&&A.hasEventListener(B)){A.dispatchEvent(y);C=true}if(D&&A.hasEventListener(v))if(!A.__mouse_over){A.__mouse_over=true;y.__setType(v);A.dispatchEvent(y);C=true}if(!D&&A.hasEventListener(z))if(A.__mouse_over){A.__mouse_over=false;y.__setType(z);A.dispatchEvent(y);C=true}}else if(A.hasEventListener(B)){y.__setTarget(null);A.dispatchEvent(y);C=true}});s.forEach(function(A){if(A===i&&!C&&A.hasEventListener(w)){B===w&&y.__setType(w);y.__setTarget(null);A.dispatchEvent(y);C=true}})}function g(r){var s=
doodle.EventDispatcher.dispatcher_queue,v=doodle.KeyboardEvent(r);s.forEach(function(z){z.hasEventListener(v.type)&&z.handleEvent(v)})}var d=arguments.length,f,i=Object.create(doodle.ElementNode()),q=0,t=0,u=0,m=null,x=false;if(d===1&&typeof arguments[0]==="function"){f=arguments[0];e=undefined}else if(d>1)throw new SyntaxError("[object Display]: Invalid number of parameters.");Object.defineProperties(i,l);Object.defineProperties(i,{element:{get:function(){return e},set:function(r){var s=o(r,"[object Display]"),
v;e=s;e.style.position="relative";this.root=this;r=s.getAttribute("width");s=s.getAttribute("height");if(r)this.width=parseInt(r);if(s)this.height=parseInt(s);for(v in doodle_MouseEvent)e.addEventListener(doodle_MouseEvent[v],n,false);e.addEventListener(doodle_MouseEvent.MOUSE_MOVE,function(z){t=z.offsetX;u=z.offsetY});document.addEventListener(doodle.KeyboardEvent.KEY_PRESS,g,false);document.addEventListener(doodle.KeyboardEvent.KEY_DOWN,g,false);document.addEventListener(doodle.KeyboardEvent.KEY_UP,
g,false)}},frameRate:function(){var r=false,s;return{get:function(){return r},set:function(v){if(v===0||v===false){r=false;clearInterval(s)}else if(typeof v==="number"&&isFinite(1E3/v)){r=v;clearInterval(s);s=setInterval(h,1E3/r)}else throw new TypeError("[object Display].frameRate: Parameter must be a valid number or false.");}}}(),mouseX:{enumerable:false,configurable:false,get:function(){return t}},mouseY:{enumerable:false,configurable:false,get:function(){return u}},debug:{enumerable:true,configurable:false,
value:Object.create(null,{stats:{enumerable:true,configurable:false,get:function(){return m?true:false},set:function(r){if(r&&!m){m=new Stats;i.element.appendChild(m.domElement)}else if(!r&&m){i.element.removeChild(m.domElement);m=null}}},boundingBox:{enumerable:true,configurable:false,get:function(){return x},set:function(r){x=r}}})}});if(f)f.call(i);else i.element=e;if(!i.element)throw new ReferenceError("[object Display]: Requires a HTML element.");i.addEventListener(doodle_Event.ADDED,p);i.addEventListener(doodle_Event.REMOVED,
p);p();return i};l={width:{get:function(){return c(this.element,"width","int")},set:function(e){j(this.element,"width",e+"px");this.children.forEach(function(h){h.width=e});return e}},height:{get:function(){return c(this.element,"height","int")},set:function(e){j(this.element,"height",e+"px");this.children.forEach(function(h){h.height=e});return e}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Display]"}},toDataUrl:{value:function(){}},addChildAt:{value:function(e,
h){e.parent!==null&&e.parent!==this&&e.parent.removeChild(node);e.root=this;e.parent=this;e.width=this.width;e.height=this.height;this.children.splice(h,0,e);this.element.appendChild(e.element);return this}},removeChildAt:{enumerable:false,writable:false,configurable:false,value:function(e){var h=this.children[e];h.root=null;h.parent=null;this.children.splice(e,1);this.element.removeChild(h.element)}},swapChildrenAt:{enumerable:false,writable:false,configurable:false,value:function(e,h){var a=this.children;
a[e]=a.splice(h,1,a[e])[0];e>h?this.element.insertBefore(a[h].element,a[e].element):this.element.insertBefore(a[e].element,a[h].element)}},addLayer:{value:function(e){e=doodle.Layer(e);this.addChild(e);return e}},removeLayer:{value:function(e){this.removeChildById(e)}}}})();
