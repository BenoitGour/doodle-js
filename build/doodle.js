var doodle={};doodle.geom={};if(typeof Function.prototype.bind!=="function")Function.prototype.bind=function(m){var i=this;return function(){return i.apply(m,arguments)}};
doodle.utils={rgb_to_hex:function(m,i,q){m=(q|i<<8|m<<16).toString(16);return"#"+String("000000"+m).slice(-6)},rgb_str_to_hex:function(m){var i=doodle.utils;m=i.rgb_str_to_rgb(m);return i.rgb_to_hex(parseInt(m[0],10),parseInt(m[1],10),parseInt(m[2],10))},rgb_to_rgb_str:function(m,i,q,b){b=b===undefined?1:b;b=b<0?0:b>1?1:b;return b===1?"rgb("+m+","+i+","+q+")":"rgba("+m+","+i+","+q+","+b+")"},rgb_str_to_rgb:function(){var m=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?(.*)\)$/;return function(i){i=
i.trim().match(m);var q=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)];i=parseFloat(i[4]);typeof i==="number"&&!isNaN(i)&&q.push(i);return q}}(),hex_to_rgb:function(m){if(typeof m==="string"){m=m[0]==="#"?m.slice(1):m;m=parseInt(m,16)}return[m>>16&255,m>>8&255,m&255]},hex_to_rgb_str:function(m,i){var q=doodle.utils;i=i===undefined?1:i;m=q.hex_to_rgb(m);return q.rgb_to_rgb_str(m[0],m[1],m[2],i)}};
doodle.utils.types=function(){function m(i,q,b){if(typeof i!=="string")throw new TypeError("throw_type_error: type must be a string.");q=q===undefined?"throw_type_error":q;b=b===undefined?"":"("+b+")";throw new TypeError(q+b+": Parameter must be a "+i+".");}return{check_number_type:function(i,q,b){return typeof i==="number"?true:m("number",q||"check_number_type",b)},check_boolean_type:function(i,q,b){return typeof i==="boolean"?true:m("boolean",q||"check_boolean_type",b)},check_string_type:function(i,
q,b){return typeof i==="string"?true:m("string",q||"check_string_type",b)},check_function_type:function(i,q,b){return typeof i==="function"?true:m("function",q||"check_function_type",b)},check_array_type:function(i,q,b){return Array.isArray(i)?true:m("array",q||"check_array_type",b)},check_event_type:function(i,q,b){if(i&&(i.toString()==="[object Event]"||i.toString()==="[object UIEvent]"||i.toString()==="[object MouseEvent]"||i.toString()==="[object KeyboardEvent]"||i.toString()==="[object TextEvent]"))return true;
else m("event",q||"check_event_type",b)},check_canvas_type:function(i,q,b){return i&&i.toString()==="[object HTMLCanvasElement]"?true:m("canvas element",q||"check_canvas_type",b)},check_context_type:function(i,q,b){return i&&i.toString()==="[object CanvasRenderingContext2D]"?true:m("canvas context",q||"check_context_type",b)},check_block_element:function(i,q,b){try{return doodle.utils.get_style_property(i,"display")==="block"?true:m("HTML block element",q||"check_block_type",b)}catch(j){m("HTML block element",
q||"check_block_type",b)}}}}();doodle.utils.get_element=function(m){m=typeof m==="string"?m[0]==="#"?m.slice(1):m:m&&m.id?m.id:null;return document.getElementById(m)};
doodle.utils.get_style_property=function(m,i){try{if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(m,null)[i];else if(m.currentStyle)return m.currentStyle[i];else if(m.style)return m.style[i];else throw new ReferenceError("get_style_property: Cannot read property '"+i+"' of "+m+".");}catch(q){throw new ReferenceError("get_style_property: Cannot read property '"+i+"' of "+m+".");}};
doodle.utils.get_element_property=function(m,i,q){var b;try{b=doodle.utils.get_style_property(m,i)}catch(j){b=undefined}if(b===undefined||b===null)b=m.getAttribute(i);if(q!==undefined)switch(q){case "int":b=parseInt(b,10);b=isNaN(b)?null:b;break;case "float":b=parseFloat(b);b=isNaN(b)?null:b;break;default:break}return b};
doodle.utils.set_element_property=function(m,i,q,b){b=b===undefined?"css":b;switch(b){case "css":m.style[i]=q;break;case "html":m.setAttribute(i,q);break;default:throw new SyntaxError("set_element_property: type must be 'css' property or 'html' attribute.");}return q};
var Stats=function(){function m(y,A){var E,u,B;for(u=0;u<30;u++)for(E=0;E<73;E++){B=(E+u*74)*4;y[B]=y[B+4];y[B+1]=y[B+5];y[B+2]=y[B+6]}for(u=0;u<30;u++){B=(73+u*74)*4;if(u<A){y[B]=16;y[B+1]=16;y[B+2]=48}else{y[B]=0;y[B+1]=255;y[B+2]=255}}}var i,q="fps",b=0,j=(new Date).getTime(),h=j,g=j,e=0,a=1E3,l=0,n,c,d,f,k=0,o=1E3,r=0,t,p,v,s;i=document.createElement("div");i.style.fontFamily="Helvetica, Arial, sans-serif";i.style.fontSize="9px";i.style.backgroundColor="#000020";i.style.opacity="0.9";i.style.width=
"80px";i.style.paddingTop="2px";i.style.cursor="pointer";i.addEventListener("click",function(){switch(q){case "fps":q="ms";n.style.display="none";c.style.display="none";t.style.display="block";p.style.display="block";break;case "ms":q="fps";n.style.display="block";c.style.display="block";t.style.display="none";p.style.display="none";break}},false);n=document.createElement("div");n.innerHTML="<strong>FPS</strong>";n.style.color="#00ffff";n.style.marginLeft="3px";n.style.marginBottom="3px";i.appendChild(n);
c=document.createElement("canvas");c.width=74;c.height=30;c.style.display="block";c.style.marginLeft="3px";c.style.marginBottom="3px";i.appendChild(c);d=c.getContext("2d");d.fillStyle="#101030";d.fillRect(0,0,c.width,c.height);f=d.getImageData(0,0,c.width,c.height);t=document.createElement("div");t.innerHTML="<strong>MS</strong>";t.style.color="#00ffff";t.style.marginLeft="3px";t.style.marginBottom="3px";t.style.display="none";i.appendChild(t);p=document.createElement("canvas");p.width=74;p.height=
30;p.style.display="block";p.style.marginLeft="3px";p.style.marginBottom="3px";p.style.display="none";i.appendChild(p);v=p.getContext("2d");v.fillStyle="#101030";v.fillRect(0,0,p.width,p.height);s=v.getImageData(0,0,p.width,p.height);return{domElement:i,update:function(){b++;j=(new Date).getTime();k=j-h;o=Math.min(o,k);r=Math.max(r,k);m(s.data,Math.min(30,30-k/200*30));t.innerHTML="<strong>"+k+" MS</strong> ("+o+"-"+r+")";v.putImageData(s,0,0);h=j;if(j>g+1E3){e=Math.round(b*1E3/(j-g));a=Math.min(a,
e);l=Math.max(l,e);m(f.data,Math.min(30,30-e/100*30));n.innerHTML="<strong>"+e+" FPS</strong> ("+a+"-"+l+")";d.putImageData(f,0,0);g=j;b=0}}}};
Object.defineProperty(doodle,"Keyboard",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{BACKSPACE:{enumerable:true,writable:false,configurable:false,value:8},TAB:{enumerable:true,writable:false,configurable:false,value:9},ENTER:{enumerable:true,writable:false,configurable:false,value:13},COMMAND:{enumerable:true,writable:false,configurable:false,value:15},SHIFT:{enumerable:true,writable:false,configurable:false,value:16},CONTROL:{enumerable:true,writable:false,configurable:false,
value:17},ALTERNATE:{enumerable:true,writable:false,configurable:false,value:18},PAUSE:{enumerable:true,writable:false,configurable:false,value:19},CAPS_LOCK:{enumerable:true,writable:false,configurable:false,value:20},NUMPAD:{enumerable:true,writable:false,configurable:false,value:21},ESCAPE:{enumerable:true,writable:false,configurable:false,value:27},SPACE:{enumerable:true,writable:false,configurable:false,value:32},PAGE_UP:{enumerable:true,writable:false,configurable:false,value:33},PAGE_DOWN:{enumerable:true,
writable:false,configurable:false,value:34},END:{enumerable:true,writable:false,configurable:false,value:35},HOME:{enumerable:true,writable:false,configurable:false,value:36},LEFT:{enumerable:true,writable:false,configurable:false,value:37},UP:{enumerable:true,writable:false,configurable:false,value:38},RIGHT:{enumerable:true,writable:false,configurable:false,value:39},DOWN:{enumerable:true,writable:false,configurable:false,value:40},INSERT:{enumerable:true,writable:false,configurable:false,value:45},
DELETE:{enumerable:true,writable:false,configurable:false,value:46},NUMBER_0:{enumerable:true,writable:false,configurable:false,value:48},NUMBER_1:{enumerable:true,writable:false,configurable:false,value:49},NUMBER_2:{enumerable:true,writable:false,configurable:false,value:50},NUMBER_3:{enumerable:true,writable:false,configurable:false,value:51},NUMBER_4:{enumerable:true,writable:false,configurable:false,value:52},NUMBER_5:{enumerable:true,writable:false,configurable:false,value:53},NUMBER_6:{enumerable:true,
writable:false,configurable:false,value:54},NUMBER_7:{enumerable:true,writable:false,configurable:false,value:55},NUMBER_8:{enumerable:true,writable:false,configurable:false,value:56},NUMBER_9:{enumerable:true,writable:false,configurable:false,value:57},A:{enumerable:true,writable:false,configurable:false,value:65},B:{enumerable:true,writable:false,configurable:false,value:66},C:{enumerable:true,writable:false,configurable:false,value:67},D:{enumerable:true,writable:false,configurable:false,value:68},
E:{enumerable:true,writable:false,configurable:false,value:69},F:{enumerable:true,writable:false,configurable:false,value:70},G:{enumerable:true,writable:false,configurable:false,value:71},H:{enumerable:true,writable:false,configurable:false,value:72},I:{enumerable:true,writable:false,configurable:false,value:73},J:{enumerable:true,writable:false,configurable:false,value:74},K:{enumerable:true,writable:false,configurable:false,value:75},L:{enumerable:true,writable:false,configurable:false,value:76},
M:{enumerable:true,writable:false,configurable:false,value:77},N:{enumerable:true,writable:false,configurable:false,value:78},O:{enumerable:true,writable:false,configurable:false,value:79},P:{enumerable:true,writable:false,configurable:false,value:80},Q:{enumerable:true,writable:false,configurable:false,value:81},R:{enumerable:true,writable:false,configurable:false,value:82},S:{enumerable:true,writable:false,configurable:false,value:83},T:{enumerable:true,writable:false,configurable:false,value:84},
U:{enumerable:true,writable:false,configurable:false,value:85},V:{enumerable:true,writable:false,configurable:false,value:86},W:{enumerable:true,writable:false,configurable:false,value:87},X:{enumerable:true,writable:false,configurable:false,value:88},Y:{enumerable:true,writable:false,configurable:false,value:89},Z:{enumerable:true,writable:false,configurable:false,value:90},WINDOWS_KEY:{enumerable:true,writable:false,configurable:false,value:91},NUMPAD_0:{enumerable:true,writable:false,configurable:false,
value:96},NUMPAD_1:{enumerable:true,writable:false,configurable:false,value:97},NUMPAD_2:{enumerable:true,writable:false,configurable:false,value:98},NUMPAD_3:{enumerable:true,writable:false,configurable:false,value:99},NUMPAD_4:{enumerable:true,writable:false,configurable:false,value:100},NUMPAD_5:{enumerable:true,writable:false,configurable:false,value:101},NUMPAD_6:{enumerable:true,writable:false,configurable:false,value:102},NUMPAD_7:{enumerable:true,writable:false,configurable:false,value:103},
NUMPAD_8:{enumerable:true,writable:false,configurable:false,value:104},NUMPAD_9:{enumerable:true,writable:false,configurable:false,value:105},NUMPAD_MULTIPLY:{enumerable:true,writable:false,configurable:false,value:106},NUMPAD_ADD:{enumerable:true,writable:false,configurable:false,value:107},NUMPAD_ENTER:{enumerable:true,writable:false,configurable:false,value:108},NUMPAD_SUBTRACT:{enumerable:true,writable:false,configurable:false,value:109},NUMPAD_DECIMAL:{enumerable:true,writable:false,configurable:false,
value:110},NUMPAD_DIVIDE:{enumerable:true,writable:false,configurable:false,value:111},F1:{enumerable:true,writable:false,configurable:false,value:112},F2:{enumerable:true,writable:false,configurable:false,value:113},F3:{enumerable:true,writable:false,configurable:false,value:114},F4:{enumerable:true,writable:false,configurable:false,value:115},F5:{enumerable:true,writable:false,configurable:false,value:116},F6:{enumerable:true,writable:false,configurable:false,value:117},F7:{enumerable:true,writable:false,
configurable:false,value:118},F8:{enumerable:true,writable:false,configurable:false,value:119},F9:{enumerable:true,writable:false,configurable:false,value:120},F10:{enumerable:true,writable:false,configurable:false,value:121},F11:{enumerable:true,writable:false,configurable:false,value:122},F12:{enumerable:true,writable:false,configurable:false,value:123},F13:{enumerable:true,writable:false,configurable:false,value:124},F14:{enumerable:true,writable:false,configurable:false,value:125},F15:{enumerable:true,
writable:false,configurable:false,value:126},SCROLL:{enumerable:true,writable:false,configurable:false,value:145},SEMICOLON:{enumerable:true,writable:false,configurable:false,value:186},EQUAL:{enumerable:true,writable:false,configurable:false,value:187},COMMA:{enumerable:true,writable:false,configurable:false,value:188},MINUS:{enumerable:true,writable:false,configurable:false,value:189},PERIOD:{enumerable:true,writable:false,configurable:false,value:190},SLASH:{enumerable:true,writable:false,configurable:false,
value:191},BACKQUOTE:{enumerable:true,writable:false,configurable:false,value:192},LEFTBRACKET:{enumerable:true,writable:false,configurable:false,value:219},BACKSLASH:{enumerable:true,writable:false,configurable:false,value:220},RIGHTBRACKET:{enumerable:true,writable:false,configurable:false,value:221},QUOTE:{enumerable:true,writable:false,configurable:false,value:222}})});
Object.defineProperty(doodle,"GradientType",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{LINEAR:{enumerable:true,writable:false,configurable:false,value:"linearGradient"},RADIAL:{enumerable:true,writable:false,configurable:false,value:"radialGradient"}})});
Object.defineProperty(doodle,"Pattern",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{REPEAT:{enumerable:true,writable:false,configurable:false,value:"repeat"},REPEAT_X:{enumerable:true,writable:false,configurable:false,value:"repeat-x"},REPEAT_Y:{enumerable:true,writable:false,configurable:false,value:"repeat-y"},NO_REPEAT:{enumerable:true,writable:false,configurable:false,value:"no-repeat"}})});
Object.defineProperty(doodle,"LineCap",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{BUTT:{enumerable:true,writable:false,configurable:false,value:"butt"},ROUND:{enumerable:true,writable:false,configurable:false,value:"round"},SQUARE:{enumerable:true,writable:false,configurable:false,value:"square"}})});
Object.defineProperty(doodle,"LineJoin",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{MITER:{enumerable:true,writable:false,configurable:false,value:"miter"},ROUND:{enumerable:true,writable:false,configurable:false,value:"round"},BEVEL:{enumerable:true,writable:false,configurable:false,value:"bevel"}})});
(function(){var m={},i,q;doodle.Event=function(b,j,h){var g=arguments.length,e=Object.create(m),a=false,l=false,n=false,c=false,d=0,f=null,k=null,o=new Date,r=null,t=true;if(g===1&&q(arguments[0])){g=arguments[0];b=g.type;j=g.bubbles;h=g.cancelable;n=g.cancelBubble;c=g.defaultPrevented;d=g.eventPhase;f=g.target;k=g.currentTarget;o=g.timeStamp;r=g.srcElement;t=g.returnValue;if(g.__cancel)a=g.__cancel;if(g.__cancelNow)l=g.__cancelNow}else if(g===0||g>3)throw new SyntaxError("[object Event]: Invalid number of parameters.");
Object.defineProperties(e,i);Object.defineProperties(e,{bubbles:{enumerable:true,configurable:false,get:function(){return j}},cancelBubble:{enumerable:true,configurable:false,get:function(){return n},set:function(p){n=p}},cancelable:{enumerable:true,configurable:false,get:function(){return h}},__cancel:{enumerable:false,configurable:false,get:function(){return a}},__cancelNow:{enumerable:false,configurable:false,get:function(){return l}},currentTarget:{enumerable:true,configurable:false,get:function(){return k}},
__setCurrentTarget:{enumerable:false,value:function(p){k=p}},target:{enumerable:true,configurable:false,get:function(){return f}},__setTarget:{enumerable:false,value:function(p){f=p}},eventPhase:{enumerable:true,configurable:false,get:function(){return d}},__setEventPhase:{enumerable:false,value:function(p){d=p}},srcElement:{enumerable:true,configurable:false,get:function(){return r}},timeStamp:{enumerable:true,configurable:false,get:function(){return o}},type:{enumerable:true,configurable:false,
get:function(){return b}},__setType:{enumerable:false,value:function(p){b=p}},returnValue:{enumerable:true,configurable:false,get:function(){return t}},initEvent:{enumerable:true,configurable:false,value:function(p,v,s){v=v===true;s=s===true;b=p;j=v;h=s;return this}},preventDefault:{enumerable:true,configurable:false,value:function(){c=true}},stopPropagation:{enumerable:true,configurable:false,value:function(){if(this.cancelable)a=true;else throw Error(this+".stopPropagation: Event can not be cancelled.");
}},stopImmediatePropagation:{enumerable:true,configurable:false,value:function(){if(this.cancelable)l=a=true;else throw Error(this+".stopImmediatePropagation: Event can not be cancelled.");}}});e.initEvent(b,j,h);return e};m=Event.prototype;i={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object Event]"}}};q=doodle.Event.isEvent=function(b){if(typeof b!=="object")return false;else b=b.toString();return b==="[object Event]"||b==="[object UIEvent]"||b==="[object MouseEvent]"||
b==="[object KeyboardEvent]"||b==="[object TextEvent]"||b==="[object WheelEvent]"}})();
(function(){var m,i=doodle.Event.isEvent;doodle.UIEvent=function(q,b,j,h,g){var e=arguments.length,a=0,l=0,n=0,c=0,d=0,f=0,k=0;if(e===1&&i(arguments[0])){e=arguments[0];q=e.type;b=e.bubbles;j=e.cancelable;h=e.view;g=e.detail;a=e.which||0;l=e.charCode||0;n=e.keyCode||0;c=e.layerX||0;d=e.layerY||0;f=e.pageX||0;k=e.pageY||0;e=Object.create(doodle.Event(e))}else if(e===0||e>5)throw new SyntaxError("[object UIEvent]: Invalid number of parameters.");else{b=b===true;j=j===true;e=Object.create(doodle.Event(q,
b,j))}Object.defineProperties(e,m);Object.defineProperties(e,{view:{enumerable:true,configurable:false,get:function(){return h}},detail:{enumerable:true,configurable:false,get:function(){return g}},which:{enumerable:true,configurable:false,get:function(){return a}},charCode:{enumerable:true,configurable:false,get:function(){return l}},keyCode:{enumerable:true,configurable:false,get:function(){return n}},layerX:{enumerable:true,configurable:false,get:function(){return c}},layerY:{enumerable:true,configurable:false,
get:function(){return d}},pageX:{enumerable:true,configurable:false,get:function(){return f}},pageY:{enumerable:true,configurable:false,get:function(){return k}},initUIEvent:{value:function(o,r,t,p,v){q=o;b=r===true;j=t===true;h=p===undefined?null:p;g=v===undefined?0:v;this.initEvent(q,b,j);return this}}});e.initUIEvent(q,b,j,h,g);return e};m={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object UIEvent]"}}}})();
(function(){var m,i=doodle.Event.isEvent,q=doodle.utils.types.check_string_type;doodle.MouseEvent=function(b,j,h,g,e,a,l,n,c,d,f,k,o,r,t){var p=arguments.length,v=0,s=0,y=0,A=0;if(p===1&&i(arguments[0])){p=arguments[0];b=p.type;j=p.bubbles;h=p.cancelable;g=p.view;e=p.detail;a=p.screenX;l=p.screenY;n=p.clientX;c=p.clientY;d=p.ctrlKey;f=p.altKey;k=p.shiftKey;o=p.metaKey;r=p.button;t=p.relatedTarget;v=p.x||0;s=p.y||0;y=p.offsetX||0;A=p.offsetY||0;p=Object.create(doodle.UIEvent(p))}else if(p===0||p>15)throw new SyntaxError("[object MouseEvent]: Invalid number of parameters.");
else{j=j===true;h=h===true;g=g===undefined?null:g;e=e===undefined?0:e;p=Object.create(doodle.UIEvent(b,j,h,g,e))}Object.defineProperties(p,m);Object.defineProperties(p,{x:{enumerable:true,configurable:false,get:function(){return v}},y:{enumerable:true,configurable:false,get:function(){return s}},screenX:{enumerable:true,configurable:false,get:function(){return a}},screenY:{enumerable:true,configurable:false,get:function(){return l}},clientX:{enumerable:true,configurable:false,get:function(){return n}},
clientY:{enumerable:true,configurable:false,get:function(){return c}},offsetX:{enumerable:true,configurable:false,get:function(){return y}},offsetY:{enumerable:true,configurable:false,get:function(){return A}},ctrlKey:{enumerable:true,configurable:false,get:function(){return d}},altKey:{enumerable:true,configurable:false,get:function(){return f}},shiftKey:{enumerable:true,configurable:false,get:function(){return k}},metaKey:{enumerable:true,configurable:false,get:function(){return o}},button:{enumerable:true,
configurable:false,get:function(){return r}},relatedTarget:{enumerable:true,configurable:false,get:function(){return t}},initMouseEvent:{value:function(E,u,B,w,x,z,C,G,D,I,H,F,J,K,L){j=u===true;h=B===true;g=w===undefined?null:w;e=x===undefined?0:x;a=z===undefined?0:z;l=C===undefined?0:C;n=G===undefined?0:G;c=D===undefined?0:D;d=I===true;f=H===true;k=F===true;o=J===true;r=K===undefined?0:K;t=L===undefined?null:L;this.initUIEvent(b,j,h,g,e);return this}},getModifierState:{value:function(E){q(E,this+
".getModifierState");switch(E){case "Alt":return f;case "Control":return d;case "Meta":return o;case "Shift":return k;default:return false}}}});p.initMouseEvent(b,j,h,g,e,a,l,n,c,d,f,k,o,r,t);return p};m={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object MouseEvent]"}}}})();
(function(){var m,i=doodle.Event.isEvent;doodle.TextEvent=function(q,b,j,h,g,e){var a=arguments.length;if(a===1&&i(arguments[0])){a=arguments[0];q=a.type;b=a.bubbles;j=a.cancelable;h=a.view;g=a.data;e=a.inputMode;a=Object.create(doodle.UIEvent(a))}else if(a===0||a>6)throw new SyntaxError("[object TextEvent]: Invalid number of parameters.");else{b=b===true;j=j===true;h=viewArg===undefined?null:h;a=Object.create(doodle.UIEvent(q,b,j,h))}Object.defineProperties(a,m);Object.defineProperties(a,{data:{enumerable:true,
configurable:false,get:function(){return g}},inputMode:{enumerable:true,configurable:false,get:function(){return e}},initTextEvent:{value:function(l,n,c,d,f,k){q=l;b=n===true;j=c===true;h=d===undefined?null:d;g=f===undefined?"":f;e=k===undefined?doodle.TextEvent.INPUT_METHOD_UNKNOWN:k;this.initUIEvent(q,b,j,h);return this}}});a.initTextEvent(q,b,j,h,g,e);return a};m={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object TextEvent]"}}}})();
(function(){var m,i=doodle.Event.isEvent,q=doodle.utils.types.check_string_type;doodle.KeyboardEvent=function(b,j,h,g,e,a,l,n){var c=arguments.length,d=false,f=false,k=false,o=false;if(c===1&&i(arguments[0])){c=arguments[0];b=c.type;j=c.bubbles;h=c.cancelable;g=c.view;e=c.keyIdentifier;a=c.keyLocation;n=c.repeat;d=c.ctrlKey||false;f=c.shiftKey||false;k=c.altKey||false;o=c.metaKey||false;c=Object.create(doodle.UIEvent(c))}else if(c===0||c>8)throw new SyntaxError("[object KeyboardEvent]: Invalid number of parameters.");
else{j=j===true;h=h===true;g=g===undefined?null:g;c=Object.create(doodle.UIEvent(b,j,h,g))}Object.defineProperties(c,m);Object.defineProperties(c,{keyIdentifier:{enumerable:true,configurable:false,get:function(){return e}},keyLocation:{enumerable:true,configurable:false,get:function(){return a}},repeat:{enumerable:true,configurable:false,get:function(){return n}},altKey:{enumerable:true,configurable:false,get:function(){return k}},ctrlKey:{enumerable:true,configurable:false,get:function(){return d}},
metaKey:{enumerable:true,configurable:false,get:function(){return o}},shiftKey:{enumerable:true,configurable:false,get:function(){return f}},initKeyboardEvent:{value:function(r,t,p,v,s,y,A,E){b=r;j=t===true;h=p===true;g=v===undefined?null:v;e=s===undefined?"":s;a=y===undefined?0:y;l=A===undefined?"":A;n=E===true;l.split(" ").forEach(function(u){switch(u){case "Alt":k=true;break;case "Control":d=true;break;case "Meta":o=true;break;case "Shift":f=true;break}});this.initUIEvent(b,j,h,g);return this}},
getModifierState:{value:function(r){q(r,this+".getModifierState");switch(r){case "Alt":return k;case "Control":return d;case "Meta":return o;case "Shift":return f;default:return false}}}});c.initKeyboardEvent(b,j,h,g,e,a,l,n);return c};m={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object KeyboardEvent]"}}}})();
Object.defineProperties(doodle.Event,{CAPTURING_PHASE:{enumerable:true,writable:false,configurable:false,value:1},AT_TARGET:{enumerable:true,writable:false,configurable:false,value:2},BUBBLING_PHASE:{enumerable:true,writable:false,configurable:false,value:3},ADDED:{enumerable:true,writable:false,configurable:false,value:"added"},REMOVED:{enumerable:true,writable:false,configurable:false,value:"removed"},ENTER_FRAME:{enumerable:true,writable:false,configurable:false,value:"enterFrame"},LOAD:{enumerable:true,
writable:false,configurable:false,value:"load"},CHANGE:{enumerable:true,writable:false,configurable:false,value:"change"}});Object.defineProperties(doodle.UIEvent,{FOCUS_IN:{enumerable:true,writable:false,configurable:false,value:"focusIn"}});
Object.defineProperties(doodle.MouseEvent,{CLICK:{enumerable:true,writable:false,configurable:false,value:"click"},DOUBLE_CLICK:{enumerable:true,writable:false,configurable:false,value:"dblclick"},CONTEXT_MENU:{enumerable:true,writable:false,configurable:false,value:"contextmenu"},MOUSE_DOWN:{enumerable:true,writable:false,configurable:false,value:"mousedown"},MOUSE_UP:{enumerable:true,writable:false,configurable:false,value:"mouseup"},MOUSE_WHEEL:{enumerable:true,writable:false,configurable:false,
value:"mousewheel"},MOUSE_MOVE:{enumerable:true,writable:false,configurable:false,value:"mousemove"},MOUSE_OUT:{enumerable:true,writable:false,configurable:false,value:"mouseout"},MOUSE_OVER:{enumerable:true,writable:false,configurable:false,value:"mouseover"},MOUSE_ENTER:{enumerable:true,writable:false,configurable:false,value:"mouseenter"},MOUSE_LEAVE:{enumerable:true,writable:false,configurable:false,value:"mouseleave"}});
Object.defineProperties(doodle.KeyboardEvent,{KEY_PRESS:{enumerable:true,writable:false,configurable:false,value:"keypress"},KEY_UP:{enumerable:true,writable:false,configurable:false,value:"keyup"},KEY_DOWN:{enumerable:true,writable:false,configurable:false,value:"keydown"},KEY_LOCATION_STANDARD:{enumerable:true,writable:false,configurable:false,value:0},KEY_LOCATION_LEFT:{enumerable:true,writable:false,configurable:false,value:1},KEY_LOCATION_RIGHT:{enumerable:true,writable:false,configurable:false,
value:2},KEY_LOCATION_NUMPAD:{enumerable:true,writable:false,configurable:false,value:3},KEY_LOCATION_MOBILE:{enumerable:true,writable:false,configurable:false,value:4},KEY_LOCATION_JOYSTICK:{enumerable:true,writable:false,configurable:false,value:5}});
Object.defineProperties(doodle.TextEvent,{TEXT_INPUT:{enumerable:true,writable:false,configurable:false,value:"textInput"},INPUT_METHOD_UNKNOWN:{enumerable:true,writable:false,configurable:false,value:0},INPUT_METHOD_KEYBOARD:{enumerable:true,writable:false,configurable:false,value:1},INPUT_METHOD_PASTE:{enumerable:true,writable:false,configurable:false,value:2},INPUT_METHOD_DROP:{enumerable:true,writable:false,configurable:false,value:3},INPUT_METHOD_IME:{enumerable:true,writable:false,configurable:false,
value:4},INPUT_METHOD_OPTION:{enumerable:true,writable:false,configurable:false,value:5},INPUT_METHOD_HANDWRITING:{enumerable:true,writable:false,configurable:false,value:6},INPUT_METHOD_VOICE:{enumerable:true,writable:false,configurable:false,value:7},INPUT_METHOD_MULTIMODAL:{enumerable:true,writable:false,configurable:false,value:8},INPUT_METHOD_SCRIPT:{enumerable:true,writable:false,configurable:false,value:9}});
(function(){var m,i,q;q=doodle.geom.Point=function(b,j){var h={},g=arguments.length;Object.defineProperties(h,m);Object.defineProperties(h,{x:{enumerable:true,configurable:false,get:function(){return b},set:function(e){b=e}},y:{enumerable:true,configurable:false,get:function(){return j},set:function(e){j=e}}});if(g===0)h.compose(0,0);else if(g===2)h.compose(b,j);else{g=arguments[0];b=undefined;if(typeof g==="function"){h.compose(0,0);g.call(h)}else Array.isArray(g)?h.compose.apply(h,g):h.compose(g.x,
g.y)}return h};m={length:{enumerable:true,configurable:false,get:function(){return this.distance({x:0,y:0},this)}},compose:{enumerable:false,writable:false,configurable:false,value:function(b,j){this.x=b;this.y=j;return this}},clone:{enumerable:false,writable:false,configurable:false,value:function(){return q(this.x,this.y)}},toArray:{enumerable:false,writable:false,configurable:false,value:function(){var b=Array(2);b[0]=this.x;b[1]=this.y;return b}},toString:{enumerable:false,writable:false,configurable:false,
value:function(){return"(x="+this.x+", y="+this.y+")"}},distance:{enumerable:false,writable:false,configurable:false,value:function(b,j){var h=j.x-b.x,g=j.y-b.x;return Math.sqrt(h*h+g*g)}},normalize:{enumerable:false,writable:false,configurable:false,value:function(b){var j=this.length;this.x=this.x/j*b;this.y=this.y/j*b;return this}},equals:{enumerable:false,writable:false,configurable:false,value:function(b){return this&&b&&this.x===b.x&&this.y===b.y||!this&&!b}},interpolate:{enumerable:false,writable:false,
configurable:false,value:function(b,j,h){return q(b.x+(j.x-b.x)*h,b.y+(j.y-b.y)*h)}},polar:{enumerable:false,writable:false,configurable:false,value:function(b,j){return q(b*Math.cos(j),b*Math.sin(j))}},add:{enumerable:false,writable:false,configurable:false,value:function(b){return q(this.x+b.x,this.y+b.y)}},subtract:{enumerable:false,writable:false,configurable:false,value:function(b){return q(this.x-b.x,this.y-b.y)}},offset:{enumerable:false,writable:false,configurable:false,value:function(b,j){this.x+=
b;this.y+=j;return this}}};i=doodle.geom.Point.isPoint=function(b){return b&&typeof b.x==="number"&&typeof b.y==="number"};doodle.utils.types.check_point_type=function(b,j,h){if(i(b))return true;else{j=j===undefined?"check_point_type":j;h=h===undefined?"":"("+h+")";throw new TypeError(j+h+": Parameter must be a point.");}}})();
(function(){var m,i,q,b=doodle.geom.Point,j=Math.sin,h=Math.cos,g=Math.atan2,e=Math.tan;i=doodle.geom.Matrix=function(a,l,n,c,d,f){var k={},o=arguments.length;Object.defineProperties(k,m);Object.defineProperties(k,{a:{enumerable:true,configurable:false,get:function(){return a},set:function(r){a=r}},b:{enumerable:true,configurable:false,get:function(){return l},set:function(r){l=r}},c:{enumerable:true,configurable:false,get:function(){return n},set:function(r){n=r}},d:{enumerable:true,configurable:false,
get:function(){return c},set:function(r){c=r}},tx:{enumerable:true,configurable:false,get:function(){return d},set:function(r){d=r}},ty:{enumerable:true,configurable:false,get:function(){return f},set:function(r){f=r}}});if(o===0)k.identity();else if(o===6)k.compose(a,l,n,c,d,f);else{o=arguments[0];a=undefined;if(typeof o==="function"){k.identity();o.call(k)}else Array.isArray(o)?k.compose.apply(k,o):k.compose(o.a,o.b,o.c,o.d,o.tx,o.ty)}return k};m={compose:{enumerable:false,writable:false,configurable:false,
value:function(a,l,n,c,d,f){this.a=a;this.b=l;this.c=n;this.d=c;this.tx=d;this.ty=f;return this}},toArray:{enumerable:false,writable:false,configurable:false,value:function(){var a=Array(6);a[0]=this.a;a[1]=this.b;a[2]=this.c;a[3]=this.d;a[4]=this.tx;a[5]=this.ty;return a}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}},equals:{enumerable:false,writable:false,configurable:false,
value:function(a){return this&&a&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d&&this.tx===a.tx&&this.ty===a.ty||!this&&!a}},identity:{enumerable:false,writable:false,configurable:false,value:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this}},clone:{enumerable:false,writable:false,configurable:false,value:function(){return i(this.a,this.b,this.c,this.d,this.tx,this.ty)}},multiply:{enumerable:false,writable:false,configurable:false,value:function(a){return this.compose(this.a*
a.a+this.c*a.b,this.b*a.a+this.d*a.b,this.a*a.c+this.c*a.d,this.b*a.c+this.d*a.d,this.a*a.tx+this.c*a.ty+this.tx,this.b*a.tx+this.d*a.ty+this.ty)}},rotate:{enumerable:false,writable:false,configurable:false,value:function(a){var l=h(a);a=j(a);return this.multiply(i(l,a,-a,l,0,0))}},deltaRotate:{enumerable:false,writable:false,configurable:false,value:function(a){var l=this.tx,n=this.ty;this.rotate(a);this.tx=l;this.ty=n;return this}},rotation:{enumerable:true,configurable:false,get:function(){return g(this.b,
this.a)},set:function(a){var l=h(a);a=j(a);return this.compose(l,a,-a,l,this.tx,this.ty)}},scale:{enumerable:false,writable:false,configurable:false,value:function(a,l){return this.multiply(i(a,0,0,l,0,0))}},deltaScale:{enumerable:false,writable:false,configurable:false,value:function(a,l){var n=this.tx,c=this.ty;this.scale(a,l);this.tx=n;this.ty=c;return this}},translate:{enumerable:false,writable:false,configurable:false,value:function(a,l){this.tx+=a;this.ty+=l;return this}},skew:{enumerable:false,
writable:false,configurable:false,value:function(a,l){var n=e(a),c=e(l);return this.multiply(i(1,c,n,1,0,0))}},deltaSkew:{enumerable:false,writable:false,configurable:false,value:function(a,l){var n=this.tx,c=this.ty;this.skew(a,l);this.tx=n;this.ty=c;return this}},add:{enumerable:false,writable:false,configurable:false,value:function(a){this.a+=a.a;this.b+=a.b;this.c+=a.c;this.d+=a.d;this.tx+=a.tx;this.ty+=a.ty;return this}},invert:{enumerable:false,writable:false,configurable:false,value:function(){var a=
this.a*this.d-this.b*this.c;return this.compose(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.ty*this.c-this.d*this.tx)/a,-(this.ty*this.a-this.b*this.tx)/a)}},transformPoint:{enumerable:false,writable:false,configurable:false,value:function(a){return b(this.a*a.x+this.c*a.y+this.tx,this.b*a.x+this.d*a.y+this.ty)}},deltaTransformPoint:{enumerable:false,writable:false,configurable:false,value:function(a){return b(this.a*a.x+this.c*a.y,this.b*a.x+this.d*a.y)}},rotateAroundExternalPoint:{enumerable:false,
writable:false,configurable:false,value:function(a,l){var n=i().rotate(l),c,d=a.x,f=a.y;this.translate(-d,-f);c=n.transformPoint({x:this.tx,y:this.ty});this.tx=c.x;this.ty=c.y;return this.multiply(n).translate(d,f)}},rotateAroundInternalPoint:{enumerable:false,writable:false,configurable:false,value:function(a,l){return this.rotateAroundExternalPoint(this.transformPoint(a),l)}},matchInternalPointWithExternal:{enumerable:false,writable:false,configurable:false,value:function(a,l){var n=this.transformPoint(a);
return this.translate(l.x-n.x,l.y-n.y)}},interpolate:{enumerable:false,writable:false,configurable:false,value:function(a,l){this.a+=(a.a-this.a)*l;this.b+=(a.b-this.b)*l;this.c+=(a.c-this.c)*l;this.d+=(a.d-this.d)*l;this.tx+=(a.tx-this.tx)*l;this.ty+=(a.ty-this.ty)*l;return this}}};q=doodle.geom.Matrix.isMatrix=function(a){return a!==undefined&&a!==null&&typeof a.a==="number"&&typeof a.b==="number"&&typeof a.c==="number"&&typeof a.d==="number"&&typeof a.tx==="number"&&typeof a.ty==="number"};doodle.utils.types.check_matrix_type=
function(a,l){if(q(a))return true;else{l=l===undefined?"check_matrix_type":l;throw new TypeError(l+": Parameter must be a matrix.");}}})();
(function(){var m,i,q;i=doodle.geom.Rectangle=function(b,j,h,g){var e={},a=arguments.length;Object.defineProperties(e,m);Object.defineProperties(e,{x:{enumerable:true,configurable:false,get:function(){return b},set:function(l){b=l}},y:{enumerable:true,configurable:false,get:function(){return j},set:function(l){j=l}},width:{enumerable:true,configurable:false,get:function(){return h},set:function(l){h=l}},height:{enumerable:true,configurable:false,get:function(){return g},set:function(l){g=l}}});if(a===
0)e.compose(0,0,0,0);else if(a===4)e.compose(b,j,h,g);else{a=arguments[0];b=undefined;if(typeof a==="function"){e.compose(0,0,0,0);a.call(e)}else Array.isArray(a)?e.compose.apply(e,a):e.compose(a.x,a.y,a.width,a.height)}return e};m={top:{enumerable:true,configurable:false,get:function(){return this.y},set:function(b){this.y=b;this.height-=b}},right:{enumerable:true,configurable:false,get:function(){return this.x+this.width},set:function(b){this.width=b-this.x}},bottom:{enumerable:true,configurable:false,
get:function(){return this.y+this.height},set:function(b){this.height=b-this.y}},left:{enumerable:true,configurable:false,get:function(){return this.x},set:function(b){this.x=b;this.width-=b}},clone:{enumerable:false,writable:false,configurable:false,value:function(){return i(this.x,this.y,this.width,this.height)}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"(x="+this.x+", y="+this.y+", w="+this.width+", h="+this.height+")"}},toArray:{enumerable:false,writable:false,
configurable:false,value:function(){return[this.top,this.right,this.bottom,this.left]}},compose:{enumerable:false,writable:false,configurable:false,value:function(b,j,h,g){this.x=b;this.y=j;this.width=h;this.height=g;return this}},offset:{enumerable:false,writable:false,configurable:false,value:function(b,j){this.x+=b;this.y+=j;return this}},inflate:{enumerable:false,writable:false,configurable:false,value:function(b,j){this.x-=b;this.width+=2*b;this.y-=j;this.height+=2*j;return this}},equals:{enumerable:false,
writable:false,configurable:false,value:function(b){return this.x===b.x&&this.y===b.y&&this.width===b.width&&this.height===b.height}},isEmpty:{enumerable:false,writable:false,configurable:false,value:function(){return this.width>=0||this.height>=0}},containsPoint:{enumerable:false,writable:false,configurable:false,value:function(b){var j=b.x;b=b.y;return j>=this.left&&j<=this.right&&b>=this.top&&b<=this.bottom}},containsRect:{enumerable:false,writable:false,configurable:false,value:function(b){return this.containsPoint({x:b.x,
y:b.y})&&this.containsPoint({x:b.right,y:b.y})&&this.containsPoint({x:b.right,y:b.bottom})&&this.containsPoint({x:b.x,y:b.bottom})}},intersects:{enumerable:false,writable:false,configurable:false,value:function(b){return this.containsPoint({x:b.x,y:b.y})||this.containsPoint({x:b.right,y:b.y})||this.containsPoint({x:b.right,y:b.bottom})||this.containsPoint({x:b.x,y:b.bottom})}},intersection:{enumerable:false,writable:false,configurable:false,value:function(b){var j=i();if(this.intersects(b)){j.left=
Math.max(this.left,b.left);j.top=Math.max(this.top,b.top);j.right=Math.min(this.right,b.right);j.bottom=Math.min(this.bottom,b.bottom)}return j}},union:{enumerable:false,writable:false,configurable:false,value:function(b){var j=i();j.left=Math.min(this.left,b.left);j.top=Math.min(this.top,b.top);j.right=Math.max(this.right,b.right);j.bottom=Math.max(this.bottom,b.bottom);return j}}};q=doodle.geom.Rectangle.isRect=function(b){return typeof b.x==="number"&&typeof b.y==="number"&&typeof b.width==="number"&&
typeof b.height==="number"&&typeof b.top==="number"&&typeof b.bottom==="number"&&typeof b.left==="number"&&typeof b.right==="number"};doodle.utils.types.check_rect_type=function(b,j){if(q(b))return true;else{j=j===undefined?"check_rect_type":j;throw new TypeError(j+": Parameter must be a rectangle.");}}})();
(function(){var m,i,q,b,j=doodle.utils.types.check_function_type;doodle.EventDispatcher=function(h){var g={};Object.defineProperties(g,m);Object.defineProperties(g,{eventListeners:function(){var e={};return{enumerable:true,configurable:false,get:function(){return e}}}()});typeof h==="function"&&h.call(g);return g};m={toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object EventDispatcher]"}},modify:{enumerable:false,writable:false,configurable:false,value:function(h){h.call(this);
return this}},addEventListener:{enumerable:false,writable:false,configurable:false,value:function(h,g,e){e=e===true;var a=this;this.eventListeners[h]||(this.eventListeners[h]={capture:[],bubble:[]});this.eventListeners[h][e?"capture":"bubble"].push(g);i.every(function(l){return a!==l})&&i.push(a)}},removeEventListener:{enumerable:false,writable:false,configurable:false,value:function(h,g,e){e=e===true;if(this.eventListeners[h]){var a=this.eventListeners[h];e=a[e?"capture":"bubble"];e.splice(e.indexOf(g),
1);a.capture.length===0&&a.bubble.length===0&&delete this.eventListeners[h];Object.keys(this.eventListeners).length===0&&i.splice(i.indexOf(this),1)}}},handleEvent:{enumerable:false,writable:false,configurable:false,value:function(h){var g=h.eventPhase===doodle.Event.CAPTURING_PHASE?"capture":"bubble",e=this.eventListeners[h.type],a=0,l;if((e=e&&e[g])&&e.length>0){h.__setCurrentTarget(this);a=e.length;for(l=0;l<a;l+=1){j(e[l],this+".handleEvent::listeners["+l+"]");g=e[l].call(this,h);if(g===false||
h.returnValue===false)h.__cancel||h.stopPropagation();if(h.__cancelNow)break}}return a>0?true:false}},dispatchEvent:{enumerable:true,writable:false,configurable:false,value:function(h){var g,e,a=[],l;if(h.__cancel)return false;h.target||h.__setTarget(this);g=h.target;for(e=g.parent||null;e;){a.push(e);e=e.parent}h.__setEventPhase(h.CAPTURING_PHASE);for(l=e=a.length;(l-=1)>=0;){a[l].handleEvent(h);if(h.__cancel)return true}h.__setEventPhase(h.AT_TARGET);g.handleEvent(h);if(h.__cancel)return true;if(!h.bubbles||
h.cancelBubble)return true;h.__setEventPhase(h.BUBBLING_PHASE);for(l=0;l<e;l+=1){a[l].handleEvent(h);if(h.__cancel||h.cancelBubble)return true}return true}},broadcastEvent:{enumerable:true,writable:false,configurable:false,value:function(h){var g,e,a;if(h.__cancel)throw Error(this+".broadcastEvent: Can not dispatch a cancelled event.");h.target||h.__setTarget(this);g=i.filter(function(l){return l.hasEventListener(h.type)});a=0;for(e=g.length;a<e;a+=1){g[a].handleEvent(h);if(h.__cancel)break}return true}},
hasEventListener:{enumerable:false,writable:false,configurable:false,value:function(h){return this.eventListeners!==null&&this.eventListeners.hasOwnProperty(h)}},willTrigger:{enumerable:false,writable:false,configurable:false,value:function(h){if(this.hasEventListener(h))return true;else if(!this.children||this.children.length===0)return false;else for(var g in this.children)if(this.children[g].willTrigger(h))return true;return false}}};i=doodle.EventDispatcher.dispatcher_queue=[];q=doodle.EventDispatcher.isEventDispatcher=
function(h){return h.toString()==="[object EventDispatcher]"};b=doodle.EventDispatcher.inheritsEventDispatcher=function(h){for(;h;)if(q(h))return true;else{if(typeof h!=="object")return false;h=Object.getPrototypeOf(h)}return false};doodle.utils.types.check_eventdispatcher_type=function(h,g,e){if(b(h))return true;else{g=g===undefined?"check_eventdispatcher_type":g;e=e===undefined?"":"("+e+")";throw new TypeError(g+e+": Parameter must be an EventDispatcher.");}}})();
(function(){function m(c,d,f){c.children.forEach(function(k){typeof f==="function"&&f(k);k.dispatchEvent(a(d,true));m(k,d,f)})}var i=0,q,b,j,h,g=doodle.utils.types.check_number_type,e=doodle.geom.Point,a=doodle.Event,l=180/Math.PI,n=Math.PI/180;doodle.Node=function(c){var d=Object.create(doodle.EventDispatcher());Object.defineProperties(d,q);Object.defineProperties(d,{id:function(){var f;return{enumerable:true,configurable:true,get:function(){return f},set:function(k){f=k}}}(),root:function(){var f=
null;return{enumerable:true,configurable:false,get:function(){return f},set:function(k){f=k}}}(),parent:function(){var f=null;return{enumerable:true,configurable:false,get:function(){return f},set:function(k){f=k}}}(),children:function(){var f=[];return{enumerable:true,configurable:false,get:function(){return f}}}(),transform:function(){var f=doodle.geom.Matrix();return{enumerable:true,configurable:false,get:function(){return f},set:function(k){f=k}}}(),visible:function(){var f=true;return{enumerable:true,
configurable:true,get:function(){return f},set:function(k){f=k}}}(),alpha:function(){var f=1;return{enumerable:true,configurable:true,get:function(){return f},set:function(k){f=k>1?1:k<0?0:k}}}()});if(typeof c==="function"){c.call(d);c=undefined}if(d.id===undefined){d.id=c!==undefined?c:"node"+String("000"+i).slice(-3);i+=1}return d};q={x:{enumerable:true,configurable:false,get:function(){return this.transform.tx},set:function(c){this.transform.tx=c}},y:{enumerable:true,configurable:false,get:function(){return this.transform.ty},
set:function(c){this.transform.ty=c}},axis:{value:{x:this.x,y:this.y}},rotate:{value:function(c){g(c,this+".rotate");this.transform.rotate(c*n)}},rotation:{enumerable:true,configurable:true,get:function(){return this.transform.rotation*l},set:function(c){this.transform.rotation=c*n}},scaleX:{enumerable:true,configurable:false,get:function(){return this.transform.a},set:function(c){this.transform.a=c}},scaleY:{enumerable:true,configurable:false,get:function(){return this.transform.d},set:function(c){this.transform.d=
c}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Node]"}},addChildAt:{enumerable:false,writable:false,configurable:false,value:function(c,d){if(this.children.indexOf(c)!==-1)return false;if(c.root!==this.root)c.root=this.root;c.parent!==null&&c.parent!==this&&c.parent.removeChild(c);c.parent=this;this.children.splice(d,0,c);if(h(c)){c.dispatchEvent(a(a.ADDED,true));m(c,a.ADDED)}return c}},addChild:{enumerable:false,writable:false,configurable:false,
value:function(c){return this.addChildAt(c,this.children.length)}},removeChildAt:{enumerable:false,writable:false,configurable:false,value:function(){function c(d,f){var k=d.getBounds(d.root);f&&f.clearRect(k.x,k.y,k.width,k.height);d.root=null}return function(d){var f=this.children[d],k=f.context;this.children.splice(d,1);if(k){c(f,k);f.dispatchEvent(a(a.REMOVED,true));m(f,a.REMOVED,function(o){c(o,k)})}f.root=null;f.parent=null}}()},removeChild:{enumerable:false,writable:false,configurable:false,
value:function(c){this.removeChildAt(this.children.indexOf(c))}},removeChildById:{enumerable:false,writable:false,configurable:false,value:function(c){this.removeChild(this.getChildById(c))}},removeAllChildren:{enumerable:false,writable:false,configurable:false,value:function(){for(var c=this.children.length;(c-=1)>=0;)this.removeChildAt(c)}},getChildById:{enumerable:false,writable:false,configurable:false,value:function(c){return this.children.filter(function(d){return d.id===c})[0]}},setChildIndex:{enumerable:true,
writable:false,configurable:false,value:function(c,d){var f=this.children,k=f.length,o=f.indexOf(c);if(o===-1)throw new ReferenceError(this+".setChildIndex(*child*, index): "+c+" does not exist on child list.");if(d>k||d<-k)throw new RangeError(this+".setChildIndex(child, *index*): "+d+" does not exist on child list.");f.splice(o,1);f.splice(d,0,c)}},swapChildrenAt:{enumerable:false,writable:false,configurable:false,value:function(c,d){var f=this.children;f[c]=f.splice(d,1,f[c])[0]}},swapChildren:{enumerable:false,
writable:false,configurable:false,value:function(c,d){var f=this.children;this.swapChildrenAt(f.indexOf(c),f.indexOf(d))}},swapDepths:{enumerable:false,writable:false,configurable:false,value:function(c){var d=this.parent;if(!d||!Array.isArray(d.children))throw Error(this+".swapDepths: no parent found.");else d.swapChildren(this,c)}},swapDepthAt:{enumerable:false,writable:false,configurable:false,value:function(c){var d=this.parent;if(!d||!Array.isArray(d.children))throw Error(this+".swapDepthAt: no parent found.");
else d.swapChildrenAt(c,d.children.indexOf(this))}},contains:{enumerable:false,writable:false,configurable:false,value:function(c){for(;c;){if(c===this)return true;c=c.parent}return false}},localToGlobal:{enumerable:false,writable:false,configurable:false,value:function(c){for(var d=this;d;){c=d.transform.transformPoint(c);d=d.parent}return c}},globalToLocal:{enumerable:false,writable:false,configurable:false,value:function(c){var d=this.localToGlobal({x:0,y:0});return e(c.x-d.x,c.y-d.y)}}};b=doodle.Node.isNode=
function(c){return c.toString()==="[object Node]"};j=doodle.Node.inheritsNode=function(c){for(;c;)if(b(c))return true;else{if(typeof c!=="object")return false;c=Object.getPrototypeOf(c)}return false};doodle.utils.types.check_node_type=function(c,d,f){if(j(c))return true;else{d=d===undefined?"check_node_type":d;f=f===undefined?"":"("+f+")";throw new TypeError(d+f+": Parameter must be a Node.");}};h=doodle.Node.inDisplayList=function(c){for(;c;){if(c.context)return true;c=c.parent}return false}})();
(function(){var m,i=doodle.utils.hex_to_rgb_str,q=doodle.utils.get_element,b=doodle.Event,j=doodle.GradientType.LINEAR,h=doodle.GradientType.RADIAL;doodle.Graphics=function(g,e,a){var l=Object.create(null),n=0,c=0;Object.defineProperties(l,m);Object.defineProperties(l,{draw:{enumerable:false,writable:false,configurable:false,value:function(d){e.push(d)}},clear:{enumerable:false,writable:false,configurable:false,value:function(){for(var d=e.length;(d-=1)>=0;)e.splice(d,1);g.width=0;g.height=0;n=c=
a.min_x=a.min_y=a.max_x=a.max_y=0}},rect:{enumerable:false,writable:false,configurable:false,value:function(d,f,k,o){a.min_x=Math.min(0,d,a.min_x);a.min_y=Math.min(0,f,a.min_y);a.max_x=Math.max(0,d,d+k,a.max_x);a.max_y=Math.max(0,f,f+o,a.max_y);g.width=-a.min_x+a.max_x;g.height=-a.min_y+a.max_y;e.push(function(r){r.beginPath();r.rect(d,f,k,o);r.closePath();r.stroke()})}},circle:{enumerable:false,writable:false,configurable:false,value:function(d,f,k){a.min_x=Math.min(0,-k+d,a.min_x);a.min_y=Math.min(0,
-k+f,a.min_y);a.max_x=Math.max(0,d,d+k,a.max_x);a.max_y=Math.max(0,f,f+k,a.max_y);g.width=-a.min_x+a.max_x;g.height=-a.min_y+a.max_y;e.push(function(o){o.beginPath();o.arc(d,f,k,0,6.283185307179586,true);o.closePath();o.stroke()})}},ellipse:{enumerable:false,writable:false,configurable:false,value:function(d,f,k,o){o=o===undefined?k:o;var r=k/2,t=o/2,p=0.5522847498*r,v=0.5522847498*t;a.min_x=Math.min(0,-r+d,a.min_x);a.min_y=Math.min(0,-t+f,a.min_y);a.max_x=Math.max(0,d,d+r,a.max_x);a.max_y=Math.max(0,
f,f+t,a.max_y);g.width=-a.min_x+a.max_x;g.height=-a.min_y+a.max_y;e.push(function(s){s.beginPath();s.moveTo(d+r,f);s.bezierCurveTo(d+r,f-v,d+p,f-t,d,f-t);s.bezierCurveTo(d-p,f-t,d-r,f-v,d-r,f);s.bezierCurveTo(d-r,f+v,d-p,f+t,d,f+t);s.bezierCurveTo(d+p,f+t,d+r,f+v,d+r,f);s.closePath();s.stroke()})}},roundRect:{enumerable:false,writable:false,configurable:false,value:function(d,f,k,o,r,t){r=r===undefined?0:r;t=t===undefined?0:t;var p=d+k,v=p-r,s=d+r,y=f+o,A=y-t,E=f+t;a.min_x=Math.min(0,d,a.min_x);a.min_y=
Math.min(0,f,a.min_y);a.max_x=Math.max(0,d,d+k,a.max_x);a.max_y=Math.max(0,f,f+o,a.max_y);g.width=-a.min_x+a.max_x;g.height=-a.min_y+a.max_y;e.push(function(u){u.beginPath();u.moveTo(s,f);u.beginPath();u.lineTo(v,f);u.quadraticCurveTo(p,f,p,E);u.lineTo(p,A);u.quadraticCurveTo(p,y,v,y);u.lineTo(s,y);u.quadraticCurveTo(d,y,d,A);u.lineTo(d,E);u.quadraticCurveTo(d,f,s,f);u.closePath();u.stroke()})}},moveTo:{enumerable:false,writable:false,configurable:false,value:function(d,f){e.push(function(k){k.moveTo(d,
f)});n=d;c=f}},lineTo:{enumerable:false,writable:false,configurable:false,value:function(d,f){a.min_x=Math.min(0,d,n,a.min_x);a.min_y=Math.min(0,f,c,a.min_y);a.max_x=Math.max(0,d,n,a.max_x);a.max_y=Math.max(0,f,c,a.max_y);g.width=a.max_x-a.min_x;g.height=a.max_y-a.min_y;e.push(function(k){k.lineTo(d,f)});n=d;c=f}},curveTo:{enumerable:false,writable:false,configurable:false,value:function(d,f){var k=n,o=c,r=d.x,t=d.y,p=f.x,v=f.y,s,y=0,A=0;s=(k-r)/(k-2*r+p);if(0<=s&&s<=1)y=(1-s)*(1-s)*k+2*(1-s)*s*r+
s*s*p;s=(o-t)/(o-2*t+v);if(0<=s&&s<=1)A=(1-s)*(1-s)*o+2*(1-s)*s*t+s*s*v;a.min_x=Math.min(0,k,y,p,a.min_x);a.min_y=Math.min(0,o,A,v,a.min_y);a.max_x=Math.max(0,k,y,p,a.max_x);a.max_y=Math.max(0,o,A,v,a.max_y);g.width=-a.min_x+a.max_x;g.height=-a.min_y+a.max_y;e.push(function(E){E.quadraticCurveTo(r,t,p,v)});n=p;c=v}},bezierCurveTo:{enumerable:false,writable:false,configurable:false,value:function(d,f,k){var o=Math.pow,r=Math.max,t=Math.min,p=n,v=c,s=d.x,y=d.y,A=f.x,E=f.y,u=k.x,B=k.y,w,x=k=f=0,z=0;
for(d=0.1;d<1;d+=0.1){w=o(1-d,3)*p+3*o(1-d,2)*d*s+3*o(1-d,1)*o(d,2)*A+o(d,3)*u;if(w>f)f=w;if(w<k)k=w;w=o(1-d,3)*v+3*o(1-d,2)*d*y+3*o(1-d,1)*o(d,2)*E+o(d,3)*B;if(w>x)x=w;if(w<z)z=w}a.min_x=t(0,p,k,u,a.min_x);a.min_y=t(0,v,z,B,a.min_y);a.max_x=r(0,p,f,u,a.max_x);a.max_y=r(0,v,x,B,a.max_y);g.width=-a.min_x+a.max_x;g.height=-a.min_y+a.max_y;e.push(function(C){C.bezierCurveTo(s,y,A,E,u,B)});n=u;c=B}},beginFill:{enumerable:false,writable:false,configurable:false,value:function(d,f){f=f===undefined?1:f;
e.push(function(k){k.fillStyle=i(d,f)})}},beginGradientFill:{enumerable:true,writable:false,configurable:false,value:function(d,f,k,o,r,t){e.push(function(p){var v=doodle.utils.hex_to_rgb_str,s,y=o.length,A=0;if(d===j)s=p.createLinearGradient(f.x,f.y,k.x,k.y);else if(d===h)s=p.createRadialGradient(f.x,f.y,f.radius,k.x,k.y,k.radius);else throw new TypeError(this+".graphics.beginGradientFill(*type*, point1, point2, ratios, colors, alphas): Unknown gradient type.");for(;A<y;A+=1)s.addColorStop(o[A],
v(r[A],t[A]));p.fillStyle=s})}},beginPatternFill:{enumerable:true,writable:false,configurable:false,value:function(d,f){var k=null,o;o=doodle.Pattern;f=f===undefined?o.REPEAT:f;if(f!==o.REPEAT&&f!==o.NO_REPEAT&&f!==o.REPEAT_X&&f!==o.REPEAT_Y)throw new SyntaxError(this+".graphics.beginPatternFill(image, *repeat*): Invalid pattern repeat type.");if(typeof d==="string")if(d[0]==="#")d=q(d,this+".beginPatternFill");else(function(){var r=encodeURI(d);d=new Image;d.src=r})();if(d.complete)k=d;else{d.onload=
function(){k=d;g.dispatchEvent(b(b.LOAD))};o=function(){throw new URIError(this+".graphics.beginPatternFill(*image*,repeat): Unable to load "+d.src);};d.onerror=o;d.onabort=o}e.push(function(r){r.fillStyle=k?r.createPattern(k,f):"rgba(0,0,0,0)"})}},lineStyle:{enumerable:true,writable:false,configurable:false,value:function(d,f,k,o,r,t){d=d===undefined?1:d;f=f===undefined?"#000000":f;k=k===undefined?1:k;o=o===undefined?doodle.LineCap.BUTT:o;r=r===undefined?doodle.LineJoin.MITER:r;t=t===undefined?10:
t;if(typeof f==="string"||typeof f==="number")f=i(f,k);else throw new TypeError(this+".graphics.lineStyle(thickness,*color*,alpha,caps,joints,miterLimit): Color must be a hex value.");e.push(function(p){p.lineWidth=d;p.strokeStyle=f;p.lineCap=o;p.lineJoin=r;p.miterLimit=t})}},beginPath:{enumerable:false,writable:false,configurable:false,value:function(){e.push(function(d){d.beginPath();d.moveTo(n,c)})}},closePath:{enumerable:false,writable:false,configurable:false,value:function(){e.push(function(d){d.closePath();
d.stroke()});c=n=0}},endFill:{enumerable:false,writable:false,configurable:false,value:function(){e.push(function(d){d.fill()})}},stroke:{enumerable:false,writable:false,configurable:false,value:function(){e.push(function(d){d.stroke()});c=n=0}}});return l};m={toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Graphics]"}}}})();
(function(){var m,i,q,b=doodle.utils.rgb_str_to_hex,j=doodle.utils.types.check_context_type,h=doodle.geom.Rectangle;doodle.Sprite=function(g){var e=Object.create(doodle.Node(typeof g==="string"?g:undefined)),a=[],l={min_x:0,max_x:0,min_y:0,max_y:0};Object.defineProperties(e,m);Object.defineProperties(e,{width:function(){var n=0;return{enumerable:true,configurable:false,get:function(){return n},set:function(c){n=c}}}(),height:function(){var n=0;return{enumerable:true,configurable:false,get:function(){return n},
set:function(c){n=c}}}(),getBounds:{enumerable:true,writable:true,configurable:false,value:function(n){var c=h(),d=this.width,f=this.height,k=this.localToGlobal({x:l.min_x,y:l.min_y}),o=this.localToGlobal({x:l.min_x+d,y:l.min_y});d=this.localToGlobal({x:l.min_x+d,y:l.min_y+f});f=this.localToGlobal({x:l.min_x,y:l.min_y+f});k=n.globalToLocal(k);o=n.globalToLocal(o);d=n.globalToLocal(d);f=n.globalToLocal(f);c.left=Math.min(k.x,o.x,d.x,f.x);c.right=Math.max(k.x,o.x,d.x,f.x);c.top=Math.min(k.y,o.y,d.y,
f.y);c.bottom=Math.max(k.y,o.y,d.y,f.y);return c}},hitArea:function(){var n=null;return{enumerable:true,configurable:false,get:function(){return n===null?this.getBounds(this):n},set:function(c){n=c=c===false?null:c}}}(),hitTestObject:{enumerable:true,writable:true,configurable:false,value:function(n){return this.getBounds(this).intersects(n.getBounds(this))}},hitTestPoint:{enumerable:true,writable:true,configurable:false,value:function(n){return this.getBounds(this).containsPoint(this.globalToLocal(n))}},
context:{get:function(){for(var n=this.parent;n;){if(n.context){n=n.context;j(n,this+".context (traversal)");return n}n=n.parent}return null}},__draw:{enumerable:false,writable:false,configurable:false,value:function(n){a.forEach(function(c){c.call(e,n)})}},debug:{enumerable:true,configurable:false,value:Object.create(null,{boundingBox:function(){var n="rgb(0,0,255)";return{enumerable:true,configurable:false,get:function(){return b(n)},set:function(c){n=c}}}()})}});e.graphics=Object.create(doodle.Graphics(e,
a,l));typeof g==="function"&&g.call(e);return e};m={rotation:function(){var g=180/Math.PI,e=Math.PI/180;return{enumerable:true,configurable:false,get:function(){return this.transform.rotation*g},set:function(a){this.transform.rotation=a*e}}}(),toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Sprite]"}},compose:{enumerable:false,writable:false,configurable:false,value:function(g,e,a,l){this.x=g;this.y=e;this.width=a;this.height=l;return this}}};i=doodle.Sprite.isSprite=
function(g){return g.toString()==="[object Sprite]"};q=doodle.Sprite.inheritsSprite=function(g){for(;g;)if(i(g))return true;else{if(typeof g!=="object")return false;g=Object.getPrototypeOf(g)}return false};doodle.utils.types.check_sprite_type=function(g,e,a){if(q(g))return true;else{e=e===undefined?"check_sprite_type":e;a=a===undefined?"":"("+a+")";throw new TypeError(e+a+": Parameter must inherit from Sprite.");}}})();
(function(){var m,i=doodle.utils,q=i.rgb_str_to_hex,b=i.hex_to_rgb_str,j=i.get_element,h=i.get_element_property,g=i.set_element_property;doodle.ElementNode=function(e){var a=Object.create(doodle.Node());Object.defineProperties(a,m);Object.defineProperties(a,{element:function(){var l=null;return{configurable:true,get:function(){return l},set:function(n){if(n===null)l=null;else l=n=j(n)}}}()});if(typeof e==="function")e.call(a);else if(e!==undefined)a.element=e;return a};m={id:{get:function(){return h(this.element,
"id")},set:function(e){return g(this.element,"id",e,"html")}},width:{enumerable:true,configurable:true,get:function(){return h(this.element,"width","int")},set:function(e){g(this.element,"width",e+"px");return e}},height:{enumerable:true,configurable:true,get:function(){return h(this.element,"height","int")},set:function(e){g(this.element,"height",e+"px");return e}},backgroundColor:{get:function(){return q(h(this.element,"backgroundColor"))},set:function(e){if(typeof e==="number")e=b(e);return g(this.element,
"backgroundColor",e)}},backgroundImage:function(){var e=/^url\((.*)\)/;return{get:function(){var a=h(this.element,"backgroundImage");return(a=a==="none"?null:a.match(e))?a[1]:null},set:function(a){if(!a)return g(this.element,"backgroundImage",null);if(typeof a==="string"){if(a[0]==="#")a=j(a).src}else if(a&&a.tagName==="IMG")a=a.src;e.test(a)||(a="url("+encodeURI(a)+")");return g(this.element,"backgroundImage",a)}}}(),backgroundRepeat:{get:function(){return h(this.element,"backgroundRepeat")},set:function(e){return g(this.element,
"backgroundRepeat",e)}},alpha:{get:function(){return h(this.element,"opacity","float")},set:function(e){return g(this.element,"opacity",e)}},visible:{get:function(){switch(h(this.element,"visibility")){case "visible":return true;case "hidden":return false;default:throw new ReferenceError(this+".visible: Unable to determine visibility.");}},set:function(e){e?g(this.element,"visibility","visible"):g(this.element,"visibility","hidden");return e}},toString:{enumerable:false,writable:false,configurable:false,
value:function(){return"[object ElementNode]"}}}})();
(function(){var m,i=0,q=doodle.utils.get_element_property,b=doodle.utils.set_element_property;doodle.Layer=function(j,h){var g=arguments.length,e,a=Object.create(doodle.ElementNode());if(g===1&&typeof arguments[0]==="function"){e=arguments[0];j=undefined}else if(g>2)throw new SyntaxError("[object Layer]: Invalid number of parameters.");Object.defineProperties(a,m);Object.defineProperties(a,{element:{get:function(){return h},set:function(l){h=l}}});a.element=h||document.createElement("canvas");a.element.style.position=
"absolute";e&&e.call(a);if(!a.id){a.id=typeof j==="string"?j:"layer"+String("00"+i).slice(-2);i+=1}return a};(function(){var j=doodle.Layer.isLayer=function(g){return g.toString()==="[object Layer]"},h=doodle.Layer.inheritsLayer=function(g){for(;g;)if(j(g))return true;else{if(typeof g!=="object")return false;g=Object.getPrototypeOf(g)}return false};doodle.utils.types.check_layer_type=function(g,e,a){if(h(g))return true;else{e=e===undefined?"check_layer_type":e;a=a===undefined?"":"("+a+")";throw new TypeError(e+
a+": Parameter must be a Layer.");}}})();m={context:{get:function(){return this.element.getContext("2d")}},width:{get:function(){return q(this.element,"width","int")},set:function(j){b(this.element,"width",j,"html");return j}},height:{get:function(){return q(this.element,"height","int")},set:function(j){b(this.element,"height",j,"html");return j}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Layer]"}}}})();
(function(){var m,i=doodle.Layer.isLayer,q=doodle.utils.get_element,b=doodle.utils.get_element_property,j=doodle.utils.set_element_property,h=doodle.Sprite.inheritsSprite,g=doodle.Event,e=doodle.MouseEvent,a=g.ENTER_FRAME,l=g(a),n=doodle.EventDispatcher.dispatcher_queue;doodle.Display=function(c){function d(){f(s);n.forEach(function(w){if(w.hasEventListener(a)){l.__setTarget(w);w.handleEvent(l)}});k(s);y+=1;u&&u.update()}function f(){s.children.forEach(function(w){var x=w.context;x.save();x.setTransform(1,
0,0,1,0,0);x.clearRect(0,0,w.width,w.height);x.restore()})}function k(w,x){var z;w.children.forEach(function(C){if(C.visible){x=x||C.context;z=C.transform.toArray();x.save();x.transform(z[0],z[1],z[2],z[3],z[4],z[5]);if(B){var G=x;if(typeof C.getBounds==="function"){var D=C.getBounds(s);G.save();G.setTransform(1,0,0,1,0,0);G.lineWidth=0.5;G.strokeStyle=C.debug.boundingBox;G.strokeRect(D.x,D.y,D.width,D.height);G.restore()}}if(!i(C))if(C.alpha!==1)x.globalAlpha=C.alpha;typeof C.__draw==="function"&&
C.__draw(x);k(C,x);x.restore()}})}function o(){f(s);k(s)}function r(w){var x=doodle.EventDispatcher.dispatcher_queue,z=e.MOUSE_OVER,C=e.MOUSE_OUT,G=e.MOUSE_MOVE,D=e(w),I=D.type,H=false;x.forEach(function(F){if(h(F)){var J=F.getBounds(s).containsPoint({x:D.offsetX,y:D.offsetY});D.__setTarget(null);if(J&&F.hasEventListener(I)){F.dispatchEvent(D);H=true}if(J&&F.hasEventListener(z))if(!F.__mouse_over){F.__mouse_over=true;D.__setType(z);F.dispatchEvent(D);H=true}if(!J&&F.hasEventListener(C))if(F.__mouse_over){F.__mouse_over=
false;D.__setType(C);F.dispatchEvent(D);H=true}}else if(F.hasEventListener(I)){D.__setTarget(null);F.dispatchEvent(D);H=true}});x.forEach(function(F){if(F===s&&!H&&F.hasEventListener(G)){I===G&&D.__setType(G);D.__setTarget(null);F.dispatchEvent(D);H=true}})}function t(w){var x=doodle.EventDispatcher.dispatcher_queue,z=doodle.KeyboardEvent(w);x.forEach(function(C){C.hasEventListener(z.type)&&C.handleEvent(z)})}var p=arguments.length,v,s=Object.create(doodle.ElementNode()),y=0,A=0,E=0,u=null,B=false;
if(p===1&&typeof arguments[0]==="function"){v=arguments[0];c=undefined}else if(p>1)throw new SyntaxError("[object Display]: Invalid number of parameters.");Object.defineProperties(s,m);Object.defineProperties(s,{element:{get:function(){return c},set:function(w){var x=q(w,"[object Display]"),z;c=x;c.style.position="relative";this.root=this;w=x.getAttribute("width");x=x.getAttribute("height");if(w)this.width=parseInt(w);if(x)this.height=parseInt(x);for(z in e)c.addEventListener(e[z],r,false);c.addEventListener(e.MOUSE_MOVE,
function(C){A=C.offsetX;E=C.offsetY},false);document.addEventListener(doodle.KeyboardEvent.KEY_PRESS,t,false);document.addEventListener(doodle.KeyboardEvent.KEY_DOWN,t,false);document.addEventListener(doodle.KeyboardEvent.KEY_UP,t,false)}},frameRate:function(){var w=false,x;return{get:function(){return w},set:function(z){if(z===0||z===false){w=false;clearInterval(x)}else if(typeof z==="number"&&isFinite(1E3/z)){w=z;clearInterval(x);x=setInterval(d,1E3/w)}else throw new TypeError("[object Display].frameRate: Parameter must be a valid number or false.");
}}}(),mouseX:{enumerable:false,configurable:false,get:function(){return A}},mouseY:{enumerable:false,configurable:false,get:function(){return E}},debug:{enumerable:true,configurable:false,value:Object.create(null,{stats:{enumerable:true,configurable:false,get:function(){return u?true:false},set:function(w){if(w&&!u){u=new Stats;s.element.appendChild(u.domElement)}else if(!w&&u){s.element.removeChild(u.domElement);u=null}}},boundingBox:{enumerable:true,configurable:false,get:function(){return B},set:function(w){B=
w}}})}});if(v)v.call(s);else s.element=c;if(!s.element)throw new ReferenceError("[object Display]: Requires a HTML element.");s.addEventListener(g.ADDED,o);s.addEventListener(g.REMOVED,o);o();return s};m={width:{get:function(){return b(this.element,"width","int")},set:function(c){j(this.element,"width",c+"px");this.children.forEach(function(d){d.width=c});return c}},height:{get:function(){return b(this.element,"height","int")},set:function(c){j(this.element,"height",c+"px");this.children.forEach(function(d){d.height=
c});return c}},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Display]"}},toDataUrl:{value:function(){}},addChildAt:{value:function(c,d){c.parent!==null&&c.parent!==this&&c.parent.removeChild(node);c.root=this;c.parent=this;c.width=this.width;c.height=this.height;this.children.splice(d,0,c);this.element.appendChild(c.element);return this}},removeChildAt:{enumerable:false,writable:false,configurable:false,value:function(c){var d=this.children[c];d.root=
null;d.parent=null;this.children.splice(c,1);this.element.removeChild(d.element)}},swapChildrenAt:{enumerable:false,writable:false,configurable:false,value:function(c,d){var f=this.children;f[c]=f.splice(d,1,f[c])[0];c>d?this.element.insertBefore(f[d].element,f[c].element):this.element.insertBefore(f[c].element,f[d].element)}},addLayer:{value:function(c){c=doodle.Layer(c);this.addChild(c);return c}},removeLayer:{value:function(c){this.removeChildById(c)}}}})();
