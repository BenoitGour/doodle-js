var doodle={};doodle.geom={};doodle.events={};if(typeof Function.prototype.bind!=="function")Function.prototype.bind=function(s){var v=this;return function(){return v.apply(s,arguments)}};
doodle.utils=Object.create({},{hex_to_rgb:{enumerable:true,writable:false,configurable:false,value:function(s){if(typeof s==="string"){s=s[0]==="#"?s.slice(1):s;s=parseInt(s,16)}return[s>>16&255,s>>8&255,s&255]}},hex_to_rgb_str:{enumerable:true,writable:false,configurable:false,value:function(s,v){var j=doodle.utils;v=v===undefined?1:v;s=j.hex_to_rgb(s);return j.rgb_to_rgb_str(s[0],s[1],s[2],v)}},rgb_str_to_hex:{enumerable:true,writable:false,configurable:false,value:function(s){var v=doodle.utils;
s=v.rgb_str_to_rgb(s);return v.rgb_to_hex(parseInt(s[0],10),parseInt(s[1],10),parseInt(s[2],10))}},rgb_str_to_rgb:{enumerable:true,writable:false,configurable:false,value:function(){var s=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?(.*)\)$/;return function(v){v=v.trim().match(s);var j=[parseInt(v[1],10),parseInt(v[2],10),parseInt(v[3],10)];v=parseFloat(v[4]);typeof v==="number"&&!isNaN(v)&&j.push(v);return j}}()},rgb_to_hex:{enumerable:true,writable:false,configurable:false,value:function(s,
v,j){s=(j|v<<8|s<<16).toString(16);return"#"+String("000000"+s).slice(-6)}},rgb_to_rgb_str:{enumerable:true,writable:false,configurable:false,value:function(s,v,j,d){d=d===undefined?1:d;d=d<0?0:d>1?1:d;return d===1?"rgb("+s+","+v+","+j+")":"rgba("+s+","+v+","+j+","+d+")"}},get_element:{enumerable:true,writable:false,configurable:false,value:function(s){if(typeof s==="string"){s=s[0]==="#"?s.slice(1):s;return document.getElementById(s)}else return s&&s.tagName?s:null}},get_style_property:{enumerable:true,
writable:false,configurable:false,value:function(s,v,j){j=j===undefined?true:false;try{if(j&&document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(s,null)[v];else if(s.currentStyle)return s.currentStyle[v];else if(s.style)return s.style[v];else throw new ReferenceError("get_style_property: Cannot read property '"+v+"' of "+s+".");}catch(d){throw new ReferenceError("get_style_property: Cannot read property '"+v+"' of "+s+".");}}},get_element_property:{enumerable:true,
writable:false,configurable:false,value:function(s,v,j,d){j=j||false;var m;try{m=doodle.utils.get_style_property(s,v,d)}catch(g){m=undefined}if(m===undefined||m===null||m==="")m=s.getAttribute(v);if(j!==false)switch(j){case "int":m=parseInt(m,10);m=isNaN(m)?null:m;break;case "number":case "float":m=parseFloat(m);m=isNaN(m)?null:m;break;case "string":m=String(m)}return m}},set_element_property:{enumerable:true,writable:false,configurable:false,value:function(s,v,j,d){d=d===undefined?"css":d;switch(d){case "css":s.style[v]=
j;break;case "html":s.setAttribute(v,j);break;default:throw new SyntaxError("set_element_property: type must be 'css' property or 'html' attribute.");}return j}},create_scene_path:{enumerable:true,writable:false,configurable:false,value:function(){return function s(v,j,d){j=j===undefined?[]:j;d=d===undefined?false:d;var m=v.children.length;d&&j.splice(0,j.length);if(m!==0)for(;m--;)s(v.children[m],j,false);j.push(v);return j}}()}});
(function(){function s(d){if(typeof d!=="boolean")throw new SyntaxError("assert_type(test): Argument must be a boolean value.");if(d===false)throw new TypeError;return d}function v(d,m,g){if(typeof d==="object"){if(arguments.length>3||typeof m!=="string")throw new SyntaxError("assert_object_type(arg, type, inheritsp): Invalid arguments.");m="[object "+m+"]";for(g=typeof g==="boolean"?g:false;d;)if(Object.prototype.toLocaleString.call(d)===m)return true;else d=g?Object.getPrototypeOf(d):null}throw new TypeError;
}function j(d,m,g){if(arguments.length>3||typeof m!=="string")throw new SyntaxError("check_arg_type(arg, type, inheritsp): Invalid parameters.");try{if(d===undefined||d===null)throw new TypeError;switch(m){case "boolean":case "number":case "string":case "function":case "object":s(typeof d===m);break;case "array":s(Array.isArray(d));break;case "block":s(doodle.utils.get_style_property(element,"display")==="block");break;case "canvas":case "HTMLCanvasElement":v(d,"HTMLCanvasElement",g);break;case "context":case "CanvasRenderingContext2D":v(d,
"CanvasRenderingContext2D",g);break;case "Point":doodle.utils.type_check(d.x,"number",d.y,"number");break;case "Rectangle":doodle.utils.type_check(d.x,"number",d.y,"number",d.width,"number",d.height,"number",d.top,"number",d.bottom,"number",d.left,"number",d.right,"number");break;case "Matrix":doodle.utils.type_check(d.a,"number",d.b,"number",d.c,"number",d.d,"number",d.tx,"number",d.ty,"number");break;case "Event":case "UIEvent":case "MouseEvent":case "TouchEvent":case "TextEvent":case "KeyboardEvent":case "EventDispatcher":case "Node":case "Sprite":case "Graphics":case "ElementNode":case "Layer":case "Display":case "Image":case "Text":v(d,
m,g);break;default:throw new SyntaxError("check_arg_type(arg, *type*): Unknown type '"+m+"'.");}}catch(i){if(i instanceof TypeError){i.arg=d;i.type=m}throw i;}return true}doodle.utils.type_check=function(d,m,g,i){var w=Array.prototype.slice.call(arguments),c=w.length,n=w[c-1],a=0;if(typeof n==="function"){i=w.pop();c=w.length;n=w[c-1]}if(typeof n==="object"){g=w.pop();c=w.length}else g={trace:true};n=c;var b=g;if(n<2||n%2!==0)throw new SyntaxError("type_check(arg, type, [arg, type, ... options, callback]): Invalid arguments.");
if(typeof b!=="object")throw new TypeError("check_options(options): Argument must be an object.");if(b.trace===undefined)b.trace=true;else if(typeof b.trace!=="boolean")throw new TypeError("check_options: options.trace must be a boolean.");if(b.params!==undefined)if(Array.isArray(b.params)){if(b.params.length!==n/2)throw new SyntaxError("type_check: options.params must correspond to the supplied args.");}else throw new TypeError("type_check: options.params must be an array.");if(b.label!==undefined&&
typeof b.label!=="string")throw new TypeError("type_check: options.label must be a string.");if(b.message!==undefined&&typeof b.message!=="string")throw new TypeError("type_check: options.message must be a string.");if(b.inherits!==undefined&&typeof b.inherits!=="boolean")throw new TypeError("type_check: options.inherits must be a boolean.");try{for(;a<c;a++)if(a%2===0)try{j(w[a],w[a+1],g.inherits)}catch(e){e.i=a/2;throw e;}}catch(l){if(l instanceof TypeError){w=g;l.message=w.message?w.message:l.arg+
" must be of type '"+l.type+"'.";if(w.label){if(w.params){w.params[l.i]="*"+w.params[l.i]+"*";w.label=w.label+"("+w.params.toString()+")"}l.message=w.label+": "+l.message}delete l.i;delete l.arg;delete l.type;g.trace&&console.trace();if(typeof i==="function")i(l.arg,l.type,g);else throw l;}else throw l;}}})();
Object.defineProperty(doodle,"Keyboard",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{BACKSPACE:{enumerable:true,writable:false,configurable:false,value:8},TAB:{enumerable:true,writable:false,configurable:false,value:9},ENTER:{enumerable:true,writable:false,configurable:false,value:13},COMMAND:{enumerable:true,writable:false,configurable:false,value:15},SHIFT:{enumerable:true,writable:false,configurable:false,value:16},CONTROL:{enumerable:true,writable:false,configurable:false,
value:17},ALTERNATE:{enumerable:true,writable:false,configurable:false,value:18},PAUSE:{enumerable:true,writable:false,configurable:false,value:19},CAPS_LOCK:{enumerable:true,writable:false,configurable:false,value:20},NUMPAD:{enumerable:true,writable:false,configurable:false,value:21},ESCAPE:{enumerable:true,writable:false,configurable:false,value:27},SPACE:{enumerable:true,writable:false,configurable:false,value:32},PAGE_UP:{enumerable:true,writable:false,configurable:false,value:33},PAGE_DOWN:{enumerable:true,
writable:false,configurable:false,value:34},END:{enumerable:true,writable:false,configurable:false,value:35},HOME:{enumerable:true,writable:false,configurable:false,value:36},LEFT:{enumerable:true,writable:false,configurable:false,value:37},UP:{enumerable:true,writable:false,configurable:false,value:38},RIGHT:{enumerable:true,writable:false,configurable:false,value:39},DOWN:{enumerable:true,writable:false,configurable:false,value:40},INSERT:{enumerable:true,writable:false,configurable:false,value:45},
DELETE:{enumerable:true,writable:false,configurable:false,value:46},NUMBER_0:{enumerable:true,writable:false,configurable:false,value:48},NUMBER_1:{enumerable:true,writable:false,configurable:false,value:49},NUMBER_2:{enumerable:true,writable:false,configurable:false,value:50},NUMBER_3:{enumerable:true,writable:false,configurable:false,value:51},NUMBER_4:{enumerable:true,writable:false,configurable:false,value:52},NUMBER_5:{enumerable:true,writable:false,configurable:false,value:53},NUMBER_6:{enumerable:true,
writable:false,configurable:false,value:54},NUMBER_7:{enumerable:true,writable:false,configurable:false,value:55},NUMBER_8:{enumerable:true,writable:false,configurable:false,value:56},NUMBER_9:{enumerable:true,writable:false,configurable:false,value:57},A:{enumerable:true,writable:false,configurable:false,value:65},B:{enumerable:true,writable:false,configurable:false,value:66},C:{enumerable:true,writable:false,configurable:false,value:67},D:{enumerable:true,writable:false,configurable:false,value:68},
E:{enumerable:true,writable:false,configurable:false,value:69},F:{enumerable:true,writable:false,configurable:false,value:70},G:{enumerable:true,writable:false,configurable:false,value:71},H:{enumerable:true,writable:false,configurable:false,value:72},I:{enumerable:true,writable:false,configurable:false,value:73},J:{enumerable:true,writable:false,configurable:false,value:74},K:{enumerable:true,writable:false,configurable:false,value:75},L:{enumerable:true,writable:false,configurable:false,value:76},
M:{enumerable:true,writable:false,configurable:false,value:77},N:{enumerable:true,writable:false,configurable:false,value:78},O:{enumerable:true,writable:false,configurable:false,value:79},P:{enumerable:true,writable:false,configurable:false,value:80},Q:{enumerable:true,writable:false,configurable:false,value:81},R:{enumerable:true,writable:false,configurable:false,value:82},S:{enumerable:true,writable:false,configurable:false,value:83},T:{enumerable:true,writable:false,configurable:false,value:84},
U:{enumerable:true,writable:false,configurable:false,value:85},V:{enumerable:true,writable:false,configurable:false,value:86},W:{enumerable:true,writable:false,configurable:false,value:87},X:{enumerable:true,writable:false,configurable:false,value:88},Y:{enumerable:true,writable:false,configurable:false,value:89},Z:{enumerable:true,writable:false,configurable:false,value:90},WINDOWS_KEY:{enumerable:true,writable:false,configurable:false,value:91},NUMPAD_0:{enumerable:true,writable:false,configurable:false,
value:96},NUMPAD_1:{enumerable:true,writable:false,configurable:false,value:97},NUMPAD_2:{enumerable:true,writable:false,configurable:false,value:98},NUMPAD_3:{enumerable:true,writable:false,configurable:false,value:99},NUMPAD_4:{enumerable:true,writable:false,configurable:false,value:100},NUMPAD_5:{enumerable:true,writable:false,configurable:false,value:101},NUMPAD_6:{enumerable:true,writable:false,configurable:false,value:102},NUMPAD_7:{enumerable:true,writable:false,configurable:false,value:103},
NUMPAD_8:{enumerable:true,writable:false,configurable:false,value:104},NUMPAD_9:{enumerable:true,writable:false,configurable:false,value:105},NUMPAD_MULTIPLY:{enumerable:true,writable:false,configurable:false,value:106},NUMPAD_ADD:{enumerable:true,writable:false,configurable:false,value:107},NUMPAD_ENTER:{enumerable:true,writable:false,configurable:false,value:108},NUMPAD_SUBTRACT:{enumerable:true,writable:false,configurable:false,value:109},NUMPAD_DECIMAL:{enumerable:true,writable:false,configurable:false,
value:110},NUMPAD_DIVIDE:{enumerable:true,writable:false,configurable:false,value:111},F1:{enumerable:true,writable:false,configurable:false,value:112},F2:{enumerable:true,writable:false,configurable:false,value:113},F3:{enumerable:true,writable:false,configurable:false,value:114},F4:{enumerable:true,writable:false,configurable:false,value:115},F5:{enumerable:true,writable:false,configurable:false,value:116},F6:{enumerable:true,writable:false,configurable:false,value:117},F7:{enumerable:true,writable:false,
configurable:false,value:118},F8:{enumerable:true,writable:false,configurable:false,value:119},F9:{enumerable:true,writable:false,configurable:false,value:120},F10:{enumerable:true,writable:false,configurable:false,value:121},F11:{enumerable:true,writable:false,configurable:false,value:122},F12:{enumerable:true,writable:false,configurable:false,value:123},F13:{enumerable:true,writable:false,configurable:false,value:124},F14:{enumerable:true,writable:false,configurable:false,value:125},F15:{enumerable:true,
writable:false,configurable:false,value:126},SCROLL:{enumerable:true,writable:false,configurable:false,value:145},SEMICOLON:{enumerable:true,writable:false,configurable:false,value:186},EQUAL:{enumerable:true,writable:false,configurable:false,value:187},COMMA:{enumerable:true,writable:false,configurable:false,value:188},MINUS:{enumerable:true,writable:false,configurable:false,value:189},PERIOD:{enumerable:true,writable:false,configurable:false,value:190},SLASH:{enumerable:true,writable:false,configurable:false,
value:191},BACKQUOTE:{enumerable:true,writable:false,configurable:false,value:192},LEFTBRACKET:{enumerable:true,writable:false,configurable:false,value:219},BACKSLASH:{enumerable:true,writable:false,configurable:false,value:220},RIGHTBRACKET:{enumerable:true,writable:false,configurable:false,value:221},QUOTE:{enumerable:true,writable:false,configurable:false,value:222}})});
Object.defineProperty(doodle,"GradientType",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{LINEAR:{enumerable:true,writable:false,configurable:false,value:"linearGradient"},RADIAL:{enumerable:true,writable:false,configurable:false,value:"radialGradient"}})});
Object.defineProperty(doodle,"Pattern",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{REPEAT:{enumerable:true,writable:false,configurable:false,value:"repeat"},REPEAT_X:{enumerable:true,writable:false,configurable:false,value:"repeat-x"},REPEAT_Y:{enumerable:true,writable:false,configurable:false,value:"repeat-y"},NO_REPEAT:{enumerable:true,writable:false,configurable:false,value:"no-repeat"}})});
Object.defineProperty(doodle,"LineCap",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{BUTT:{enumerable:true,writable:false,configurable:false,value:"butt"},ROUND:{enumerable:true,writable:false,configurable:false,value:"round"},SQUARE:{enumerable:true,writable:false,configurable:false,value:"square"}})});
Object.defineProperty(doodle,"LineJoin",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{MITER:{enumerable:true,writable:false,configurable:false,value:"miter"},ROUND:{enumerable:true,writable:false,configurable:false,value:"round"},BEVEL:{enumerable:true,writable:false,configurable:false,value:"bevel"}})});
(function(){var s,v,j;doodle.events.Event=function(d,m,g){var i=Object.create(s),w=arguments.length,c,n;Object.defineProperties(i,v);Object.defineProperties(i,function(){var a,b,e,l=false,x=0,h=null,o=null,u=null,r=new Date,p=true,q=false,f=false;n=function(t,k,y){k=k===undefined?false:k;if(k!==false)o=h=k;else{h=t.currentTarget;o=t.target}a=y?y:t.type;b=t.bubbles;e=t.cancelable;l=t.cancelBubble;x=t.eventPhase;u=t.srcElement;r=t.timeStamp;p=t.returnValue;if(t.__cancel)q=true;if(t.__cancelNow)f=true};
return{type:{enumerable:true,configurable:false,get:function(){return a}},__setType:{enumerable:false,value:function(t){a=t}},bubbles:{enumerable:true,configurable:false,get:function(){return b}},cancelable:{enumerable:true,configurable:false,get:function(){return e}},cancelBubble:{enumerable:true,configurable:false,get:function(){return l},set:function(t){l=t}},__cancel:{enumerable:false,configurable:false,get:function(){return q}},__cancelNow:{enumerable:false,configurable:false,get:function(){return f}},
currentTarget:{enumerable:true,configurable:false,get:function(){return h}},__setCurrentTarget:{enumerable:false,value:function(t){h=t;return this}},target:{enumerable:true,configurable:false,get:function(){return o}},__setTarget:{enumerable:false,value:function(t){o=t;return this}},eventPhase:{enumerable:true,configurable:false,get:function(){return x}},__setEventPhase:{enumerable:false,value:function(t){x=t;return this}},srcElement:{enumerable:true,configurable:false,get:function(){return u}},timeStamp:{enumerable:true,
configurable:false,get:function(){return r}},returnValue:{enumerable:true,configurable:false,get:function(){return p}},initEvent:{enumerable:true,configurable:false,value:function(t,k,y){t=t===undefined?"undefined":t;k=k===undefined?false:k;y=y===undefined?false:y;a=t;b=k;e=y;return this}},preventDefault:{enumerable:true,configurable:false,value:function(){}},stopPropagation:{enumerable:true,configurable:false,value:function(){if(this.cancelable)q=true;else throw Error(this+".stopPropagation: Event can not be cancelled.");
}},stopImmediatePropagation:{enumerable:true,configurable:false,value:function(){if(this.cancelable)f=q=true;else throw Error(this+".stopImmediatePropagation: Event can not be cancelled.");}},__copyEventProperties:{enumerable:false,configurable:false,value:function(t,k,y){k=k===undefined?false:k;y=y===undefined?false:y;n(t,k,y);return this}}}}());if(w===1&&(typeof arguments[0]==="function"||j(arguments[0]))){c=arguments[0];d=undefined}if(c)typeof c==="function"?c.call(i):n(c,false,false);else i.initEvent(d,
m,g);return i};v={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object Event]"}}};s=Object.create({},{CAPTURING_PHASE:{enumerable:true,writable:false,configurable:false,value:1},AT_TARGET:{enumerable:true,writable:false,configurable:false,value:2},BUBBLING_PHASE:{enumerable:true,writable:false,configurable:false,value:3},MOUSEDOWN:{enumerable:true,writable:false,configurable:false,value:1},MOUSEUP:{enumerable:true,writable:false,configurable:false,value:2},MOUSEOVER:{enumerable:true,
writable:false,configurable:false,value:4},MOUSEOUT:{enumerable:true,writable:false,configurable:false,value:8},MOUSEMOVE:{enumerable:true,writable:false,configurable:false,value:16},MOUSEDRAG:{enumerable:true,writable:false,configurable:false,value:32},CLICK:{enumerable:true,writable:false,configurable:false,value:64},DBLCLICK:{enumerable:true,writable:false,configurable:false,value:128},KEYDOWN:{enumerable:true,writable:false,configurable:false,value:256},KEYUP:{enumerable:true,writable:false,configurable:false,
value:512},KEYPRESS:{enumerable:true,writable:false,configurable:false,value:1024},DRAGDROP:{enumerable:true,writable:false,configurable:false,value:2048},FOCUS:{enumerable:true,writable:false,configurable:false,value:4096},BLUR:{enumerable:true,writable:false,configurable:false,value:8192},SELECT:{enumerable:true,writable:false,configurable:false,value:16384},CHANGE:{enumerable:true,writable:false,configurable:false,value:32768}});j=doodle.events.Event.isEvent=function(d){if(!d||typeof d!=="object"||
typeof d.toString!=="function")return false;else d=d.toString();return d==="[object Event]"||d==="[object UIEvent]"||d==="[object MouseEvent]"||d==="[object TouchEvent]"||d==="[object KeyboardEvent]"||d==="[object TextEvent]"||d==="[object WheelEvent]"}})();
(function(){var s,v=doodle.events.Event.isEvent;doodle.events.UIEvent=function(j,d,m,g,i){var w,c,n;if(v(arguments[0])){c=arguments[0];j=undefined;w=Object.create(doodle.events.Event(c))}else if(typeof arguments[0]==="function"){c=arguments[0];j=undefined;w=Object.create(doodle.events.Event(""))}else{d=d===undefined?false:d;m=m===undefined?false:m;w=Object.create(doodle.events.Event(j,d,m))}Object.defineProperties(w,s);Object.defineProperties(w,function(){var a=null,b=0,e=0,l=0,x=0,h=0,o=0,u=0,r=
0;n=function(p){if(p.view!==undefined)a=p.view;if(p.detail!==undefined)b=p.detail;if(p.which!==undefined)e=p.which;if(p.charCode!==undefined)l=p.charCode;if(p.keyCode!==undefined)x=p.keyCode;if(p.layerX!==undefined)h=p.layerX;if(p.layerY!==undefined)o=p.layerY;if(p.pageX!==undefined)u=p.pageX;if(p.pageY!==undefined)r=p.pageY};return{view:{enumerable:true,configurable:false,get:function(){return a}},detail:{enumerable:true,configurable:false,get:function(){return b}},which:{enumerable:true,configurable:false,
get:function(){return e}},charCode:{enumerable:true,configurable:false,get:function(){return l}},keyCode:{enumerable:true,configurable:false,get:function(){return x}},layerX:{enumerable:true,configurable:false,get:function(){return h}},layerY:{enumerable:true,configurable:false,get:function(){return o}},pageX:{enumerable:true,configurable:false,get:function(){return u}},pageY:{enumerable:true,configurable:false,get:function(){return r}},initUIEvent:{value:function(p,q,f,t,k){q=q===undefined?false:
q;f=f===undefined?false:f;t=t===undefined?null:t;k=k===undefined?0:k;a=t;b=k;this.initEvent(p,q,f);return this}},__copyUIEventProperties:{enumerable:false,configurable:false,value:function(p,q,f){q=q===undefined?false:q;f=f===undefined?false:f;n(p);return this.__copyEventProperties(p,q,f)}}}}());if(c)typeof c==="function"?c.call(w):n(c);else w.initUIEvent(j,d,m,g,i);return w};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object UIEvent]"}}};doodle.events.UIEvent.isUIEvent=
function(j){if(!j||typeof j!=="object"||typeof j.toString!=="function")return false;else j=j.toString();return j==="[object UIEvent]"||j==="[object MouseEvent]"||j==="[object TouchEvent]"||j==="[object KeyboardEvent]"||j==="[object TextEvent]"||j==="[object WheelEvent]"}})();
(function(){var s,v=doodle.events.Event.isEvent;doodle.events.MouseEvent=function(j,d,m,g,i,w,c,n,a,b,e,l,x,h,o){var u,r,p;if(v(arguments[0])){r=arguments[0];j=undefined;u=Object.create(doodle.events.UIEvent(r))}else if(typeof arguments[0]==="function"){r=arguments[0];j=undefined;u=Object.create(doodle.events.UIEvent(""))}else{d=d===undefined?false:d;m=m===undefined?false:m;g=g===undefined?null:g;i=i===undefined?0:i;u=Object.create(doodle.events.UIEvent(j,d,m,g,i))}Object.defineProperties(u,s);Object.defineProperties(u,
function(){var q=0,f=0,t=0,k=0,y=0,A=0,G=0,B=0,H=false,E=false,J=false,L=false,O=0,R=null;p=function(F){q=F.x!==undefined?F.x:0;f=F.y!==undefined?F.y:0;t=F.offsetX!==undefined?F.offsetX:0;k=F.offsetY!==undefined?F.offsetY:0;if(F.screenX!==undefined)y=F.screenX;if(F.screenY!==undefined)A=F.screenY;if(F.clientX!==undefined)G=F.clientX;if(F.clientY!==undefined)B=F.clientY;if(F.ctrlKey!==undefined)H=F.ctrlKey;if(F.altKey!==undefined)E=F.altKey;if(F.shiftKey!==undefined)J=F.shiftKey;if(F.metaKey!==undefined)L=
F.metaKey;if(F.button!==undefined)O=F.button;if(F.relatedTarget!==undefined)R=F.relatedTarget};return{x:{enumerable:true,configurable:false,get:function(){return q}},y:{enumerable:true,configurable:false,get:function(){return f}},screenX:{enumerable:true,configurable:false,get:function(){return y}},screenY:{enumerable:true,configurable:false,get:function(){return A}},clientX:{enumerable:true,configurable:false,get:function(){return G}},clientY:{enumerable:true,configurable:false,get:function(){return B}},
offsetX:{enumerable:true,configurable:false,get:function(){return t}},offsetY:{enumerable:true,configurable:false,get:function(){return k}},ctrlKey:{enumerable:true,configurable:false,get:function(){return H}},altKey:{enumerable:true,configurable:false,get:function(){return E}},shiftKey:{enumerable:true,configurable:false,get:function(){return J}},metaKey:{enumerable:true,configurable:false,get:function(){return L}},button:{enumerable:true,configurable:false,get:function(){return O}},relatedTarget:{enumerable:true,
configurable:false,get:function(){return R}},initMouseEvent:{value:function(F,K,C,M,N,S,T,U,P,V,z,D,I,Q,W){K=K===undefined?false:K;C=C===undefined?false:C;M=M===undefined?null:M;N=N===undefined?0:N;S=S===undefined?0:S;T=T===undefined?0:T;U=U===undefined?0:U;P=P===undefined?0:P;V=V===undefined?false:V;z=z===undefined?false:z;D=D===undefined?false:D;I=I===undefined?false:I;Q=Q===undefined?0:Q;o=W===undefined?null:W;y=S;A=T;G=U;B=P;H=V;E=z;J=D;L=I;O=Q;R=W;return this.initUIEvent(F,K,C,M,N)}},getModifierState:{value:function(F){switch(F){case "Alt":return E;
case "Control":return H;case "Meta":return L;case "Shift":return J;default:return false}}},__copyMouseEventProperties:{enumerable:false,configurable:false,value:function(F,K,C){K=K===undefined?false:K;C=C===undefined?false:C;p(F);return this.__copyUIEventProperties(F,K,C)}}}}());if(r)typeof r==="function"?r.call(u):p(r);else u.initMouseEvent(j,d,m,g,i,w,c,n,a,b,e,l,x,h,o);return u};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object MouseEvent]"}}};doodle.events.MouseEvent.isMouseEvent=
function(j){if(!j||typeof j!=="object"||typeof j.toString!=="function")return false;else j=j.toString();return j==="[object MouseEvent]"}})();
(function(){var s,v=doodle.events.Event.isEvent;doodle.events.TouchEvent=function(j,d,m,g,i,w,c,n,a,b,e,l,x,h,o,u,r,p){var q,f,t;if(v(arguments[0])){f=arguments[0];j=undefined;q=Object.create(doodle.events.UIEvent(f))}else if(typeof arguments[0]==="function"){f=arguments[0];j=undefined;q=Object.create(doodle.events.UIEvent(""))}else{d=d===undefined?false:d;m=m===undefined?false:m;g=g===undefined?null:g;i=i===undefined?0:i;q=Object.create(doodle.events.UIEvent(j,d,m,g,i))}Object.defineProperties(q,
s);Object.defineProperties(q,function(){var k=0,y=0,A=0,G=0,B=false,H=false,E=false,J=false,L=null,O=null,R=null,F=1,K=0;t=function(C){if(C.screenX!==undefined)k=C.screenX;if(C.screenY!==undefined)y=C.screenY;if(C.clientX!==undefined)A=C.clientX;if(C.clientY!==undefined)G=C.clientY;if(C.ctrlKey!==undefined)B=C.ctrlKey;if(C.altKey!==undefined)H=C.altKey;if(C.shiftKey!==undefined)E=C.shiftKey;if(C.metaKey!==undefined)J=C.metaKey;if(C.touches!==undefined)L=C.touches;if(C.targetTouches!==undefined)O=
C.targetTouches;if(C.changedTouches!==undefined)R=C.changedTouches;if(C.scale!==undefined)F=C.scale;if(C.rotation!==undefined)K=C.rotation};return{screenX:{enumerable:true,configurable:false,get:function(){return k}},screenY:{enumerable:true,configurable:false,get:function(){return y}},clientX:{enumerable:true,configurable:false,get:function(){return A}},clientY:{enumerable:true,configurable:false,get:function(){return G}},ctrlKey:{enumerable:true,configurable:false,get:function(){return B}},altKey:{enumerable:true,
configurable:false,get:function(){return H}},shiftKey:{enumerable:true,configurable:false,get:function(){return E}},metaKey:{enumerable:true,configurable:false,get:function(){return J}},touches:{enumerable:true,configurable:false,get:function(){return L}},targetTouches:{enumerable:true,configurable:false,get:function(){return O}},changedTouches:{enumerable:true,configurable:false,get:function(){return R}},scale:{enumerable:true,configurable:false,get:function(){return F}},rotation:{enumerable:true,
configurable:false,get:function(){return K}},initTouchEvent:{value:function(C,M,N,S,T,U,P,V,z,D,I,Q,W,X,Y,Z,$,aa){M=M===undefined?false:M;N=N===undefined?false:N;S=S===undefined?null:S;T=T===undefined?0:T;U=U===undefined?0:U;P=P===undefined?0:P;V=V===undefined?0:V;z=z===undefined?0:z;D=D===undefined?false:D;I=I===undefined?false:I;Q=Q===undefined?false:Q;W=W===undefined?false:W;X=X===undefined?null:X;Y=Y===undefined?null:Y;Z=Z===undefined?null:Z;$=$===undefined?1:$;aa=aa===undefined?0:aa;k=U;y=P;
A=V;G=z;B=D;H=I;E=Q;J=W;L=X;O=Y;R=Z;F=$;K=aa;this.initUIEvent(C,M,N,S,T);return this}},getModifierState:{value:function(C){switch(C){case "Alt":return H;case "Control":return B;case "Meta":return J;case "Shift":return E;default:return false}}},__copyTouchEventProperties:{enumerable:false,configurable:false,value:function(C,M,N){M=M===undefined?false:M;N=N===undefined?false:N;t(C);return this.__copyUIEventProperties(C,M,N)}}}}());if(f)typeof f==="function"?f.call(q):t(f);else q.initTouchEvent(j,d,
m,g,i,w,c,n,a,b,e,l,x,h,o,u,r,p);return q};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object TouchEvent]"}}};doodle.events.TouchEvent.isTouchEvent=function(j){if(!j||typeof j!=="object"||typeof j.toString!=="function")return false;else j=j.toString();return j==="[object TouchEvent]"}})();
(function(){var s,v=doodle.events.Event.isEvent;doodle.events.TextEvent=function(j,d,m,g,i,w){var c,n,a;if(v(arguments[0])){n=arguments[0];j=undefined;c=Object.create(doodle.events.UIEvent(n))}else if(typeof arguments[0]==="function"){n=arguments[0];j=undefined;c=Object.create(doodle.events.UIEvent(""))}else{d=d===undefined?false:d;m=m===undefined?false:m;g=g===undefined?null:g;c=Object.create(doodle.events.UIEvent(j,d,m,g))}Object.defineProperties(c,s);Object.defineProperties(c,function(){var b=
"",e=doodle.events.TextEvent.INPUT_METHOD_UNKNOWN;a=function(l){if(l.data!==undefined)b=l.data;if(l.inputMode!==undefined)e=l.inputMode};return{data:{enumerable:true,configurable:false,get:function(){return b}},inputMode:{enumerable:true,configurable:false,get:function(){return e}},initTextEvent:{value:function(l,x,h,o,u,r){x=x===undefined?false:x;h=h===undefined?false:h;o=o===undefined?null:o;u=u===undefined?"":u;r=r===undefined?doodle.events.TextEvent.INPUT_METHOD_UNKNOWN:r;b=u;e=r;this.initUIEvent(l,
x,h,o);return this}},__copyTextEventProperties:{enumerable:false,configurable:false,value:function(l,x,h){x=x===undefined?false:x;h=h===undefined?false:h;a(l);return this.__copyUIEventProperties(l,x,h)}}}}());if(n)typeof n==="function"?n.call(c):a(n);else c.initTextEvent(j,d,m,g,i,w);return c};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object TextEvent]"}}};doodle.events.TextEvent.isTextEvent=function(j){if(!j||typeof j!=="object"||typeof j.toString!==
"function")return false;else j=j.toString();return j==="[object TextEvent]"}})();
(function(){var s,v=doodle.events.Event.isEvent;doodle.events.KeyboardEvent=function(j,d,m,g,i,w,c,n){var a,b,e;if(v(arguments[0])){b=arguments[0];j=undefined;a=Object.create(doodle.events.UIEvent(b))}else if(typeof arguments[0]==="function"){b=arguments[0];j=undefined;a=Object.create(doodle.events.UIEvent(""))}else{d=d===undefined?false:d;m=m===undefined?false:m;g=g===undefined?null:g;a=Object.create(doodle.events.UIEvent(j,d,m,g))}Object.defineProperties(a,s);Object.defineProperties(a,function(){var l=
"",x=0,h=false,o=false,u=false,r=false,p=false;e=function(q){if(q.keyIdentifier!==undefined)l=q.keyIdentifier;if(q.keyLocation!==undefined)x=q.keyLocation;if(q.repeat!==undefined)h=q.repeat;if(q.ctrlKey!==undefined)o=q.ctrlKey;if(q.altKey!==undefined)u=q.altKey;if(q.shiftKey!==undefined)r=q.shiftKey;if(q.metaKey!==undefined)p=q.metaKey;if(q.altGraphKey!==undefined)u=q.altGraphKey};return{keyIdentifier:{enumerable:true,configurable:false,get:function(){return l}},keyLocation:{enumerable:true,configurable:false,
get:function(){return x}},repeat:{enumerable:true,configurable:false,get:function(){return h}},ctrlKey:{enumerable:true,configurable:false,get:function(){return o}},altKey:{enumerable:true,configurable:false,get:function(){return u}},shiftKey:{enumerable:true,configurable:false,get:function(){return r}},metaKey:{enumerable:true,configurable:false,get:function(){return p}},altGraphKey:{enumerable:true,configurable:false,get:function(){return false}},initKeyboardEvent:{value:function(q,f,t,k,y,A,G,
B){f=f===undefined?false:f;t=t===undefined?false:t;k=k===undefined?null:k;y=y===undefined?"":y;A=A===undefined?0:A;G=G===undefined?"":G;B=B===undefined?false:B;l=y;x=A;h=B;G.split(" ").forEach(function(H){switch(H){case "Alt":u=true;break;case "Control":o=true;break;case "Meta":p=true;break;case "Shift":r=true}});this.initUIEvent(q,f,t,k);return this}},getModifierState:{value:function(q){switch(q){case "Alt":return u;case "Control":return o;case "Meta":return p;case "Shift":return r;default:return false}}},
__copyKeyboardEventProperties:{enumerable:false,configurable:false,value:function(q,f,t){f=f===undefined?false:f;t=t===undefined?false:t;e(q);return this.__copyUIEventProperties(q,f,t)}}}}());if(b)typeof b==="function"?b.call(a):e(b);else a.initKeyboardEvent(j,d,m,g,i,w,c,n);return a};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object KeyboardEvent]"}}};doodle.events.KeyboardEvent.isKeyboardEvent=function(j){if(!j||typeof j!=="object"||typeof j.toString!==
"function")return false;else j=j.toString();return j==="[object KeyboardEvent]"}})();
Object.defineProperties(doodle.events.Event,{CAPTURING_PHASE:{enumerable:true,writable:false,configurable:false,value:1},AT_TARGET:{enumerable:true,writable:false,configurable:false,value:2},BUBBLING_PHASE:{enumerable:true,writable:false,configurable:false,value:3},ADDED:{enumerable:true,writable:false,configurable:false,value:"added"},REMOVED:{enumerable:true,writable:false,configurable:false,value:"removed"},ENTER_FRAME:{enumerable:true,writable:false,configurable:false,value:"enterFrame"},LOAD:{enumerable:true,
writable:false,configurable:false,value:"load"},CHANGE:{enumerable:true,writable:false,configurable:false,value:"change"}});Object.defineProperties(doodle.events.UIEvent,{FOCUS_IN:{enumerable:true,writable:false,configurable:false,value:"focusIn"}});
Object.defineProperties(doodle.events.MouseEvent,{CLICK:{enumerable:true,writable:false,configurable:false,value:"click"},DOUBLE_CLICK:{enumerable:true,writable:false,configurable:false,value:"dblclick"},CONTEXT_MENU:{enumerable:true,writable:false,configurable:false,value:"contextmenu"},MOUSE_DOWN:{enumerable:true,writable:false,configurable:false,value:"mousedown"},MOUSE_UP:{enumerable:true,writable:false,configurable:false,value:"mouseup"},MOUSE_WHEEL:{enumerable:true,writable:false,configurable:false,
value:"mousewheel"},MOUSE_MOVE:{enumerable:true,writable:false,configurable:false,value:"mousemove"},MOUSE_OUT:{enumerable:true,writable:false,configurable:false,value:"mouseout"},MOUSE_OVER:{enumerable:true,writable:false,configurable:false,value:"mouseover"},MOUSE_ENTER:{enumerable:true,writable:false,configurable:false,value:"mouseenter"},MOUSE_LEAVE:{enumerable:true,writable:false,configurable:false,value:"mouseleave"}});
Object.defineProperties(doodle.events.TouchEvent,{TOUCH_START:{enumerable:true,writable:false,configurable:false,value:"touchstart"},TOUCH_MOVE:{enumerable:true,writable:false,configurable:false,value:"touchmove"},TOUCH_END:{enumerable:true,writable:false,configurable:false,value:"touchend"},TOUCH_CANCEL:{enumerable:true,writable:false,configurable:false,value:"touchcancel"}});
Object.defineProperties(doodle.events.KeyboardEvent,{KEY_PRESS:{enumerable:true,writable:false,configurable:false,value:"keypress"},KEY_UP:{enumerable:true,writable:false,configurable:false,value:"keyup"},KEY_DOWN:{enumerable:true,writable:false,configurable:false,value:"keydown"},KEY_LOCATION_STANDARD:{enumerable:true,writable:false,configurable:false,value:0},KEY_LOCATION_LEFT:{enumerable:true,writable:false,configurable:false,value:1},KEY_LOCATION_RIGHT:{enumerable:true,writable:false,configurable:false,
value:2},KEY_LOCATION_NUMPAD:{enumerable:true,writable:false,configurable:false,value:3},KEY_LOCATION_MOBILE:{enumerable:true,writable:false,configurable:false,value:4},KEY_LOCATION_JOYSTICK:{enumerable:true,writable:false,configurable:false,value:5}});
Object.defineProperties(doodle.events.TextEvent,{TEXT_INPUT:{enumerable:true,writable:false,configurable:false,value:"textInput"},INPUT_METHOD_UNKNOWN:{enumerable:true,writable:false,configurable:false,value:0},INPUT_METHOD_KEYBOARD:{enumerable:true,writable:false,configurable:false,value:1},INPUT_METHOD_PASTE:{enumerable:true,writable:false,configurable:false,value:2},INPUT_METHOD_DROP:{enumerable:true,writable:false,configurable:false,value:3},INPUT_METHOD_IME:{enumerable:true,writable:false,configurable:false,
value:4},INPUT_METHOD_OPTION:{enumerable:true,writable:false,configurable:false,value:5},INPUT_METHOD_HANDWRITING:{enumerable:true,writable:false,configurable:false,value:6},INPUT_METHOD_VOICE:{enumerable:true,writable:false,configurable:false,value:7},INPUT_METHOD_MULTIMODAL:{enumerable:true,writable:false,configurable:false,value:8},INPUT_METHOD_SCRIPT:{enumerable:true,writable:false,configurable:false,value:9}});
(function(){var s,v,j=Array(2),d={x:0,y:0},m,g=Math.cos,i=Math.sin,w=Math.sqrt;m=doodle.geom.Point=function(c,n){var a={},b=arguments.length;Object.defineProperties(a,s);Object.defineProperties(a,function(){var e=0,l=0;return{x:{enumerable:true,configurable:false,get:function(){return e},set:function(x){e=x}},y:{enumerable:true,configurable:false,get:function(){return l},set:function(x){l=x}},__toArray:{enumerable:false,writable:false,configurable:false,value:function(){j[0]=e;j[1]=l;return j}}}}());
switch(b){case 2:a.compose(c,n);break;case 1:b=arguments[0];c=undefined;if(typeof b==="function")b.call(a);else Array.isArray(b)?a.compose.apply(a,b):a.compose(b.x,b.y)}return a};s={length:{enumerable:true,configurable:false,get:function(){return v(d,this)}},toArray:{enumerable:true,writable:false,configurable:false,value:function(){return this.__toArray().concat()}},toString:{enumerable:true,writable:false,configurable:false,value:function(){return"(x="+this.x+", y="+this.y+")"}},compose:{enumerable:true,
writable:false,configurable:false,value:function(c,n){this.x=c;this.y=n;return this}},clone:{enumerable:true,writable:false,configurable:false,value:function(){return m(this.x,this.y)}},equals:{enumerable:true,writable:false,configurable:false,value:function(c){return this&&c&&this.x===c.x&&this.y===c.y||!this&&!c}},add:{enumerable:true,writable:false,configurable:false,value:function(c){return m(this.x+c.x,this.y+c.y)}},subtract:{enumerable:true,writable:false,configurable:false,value:function(c){return m(this.x-
c.x,this.y-c.y)}},offset:{enumerable:true,writable:false,configurable:false,value:function(c,n){this.x+=c;this.y+=n;return this}},normalize:{enumerable:true,writable:false,configurable:false,value:function(c){this.x=this.x/this.length*c;this.y=this.y/this.length*c;return this}},interpolate:{enumerable:true,writable:false,configurable:false,value:function(c,n,a){return m(c.x+(n.x-c.x)*a,c.y+(n.y-c.y)*a)}},polar:{enumerable:true,writable:false,configurable:false,value:function(c,n){return m(c*g(n),
c*i(n))}}};v=doodle.geom.Point.distance=function(c,n){var a=n.x-c.x,b=n.y-c.y;return w(a*a+b*b)};doodle.geom.Point.isPoint=function(c){return c&&typeof c.x==="number"&&typeof c.y==="number"}})();
(function(){var s,v=Array(6),j={x:null,y:null},d={a:null,b:null,c:null,d:null,tx:null,ty:null},m,g=doodle.geom.Point,i=Math.sin,w=Math.cos,c=Math.atan2,n=Math.tan;m=doodle.geom.Matrix=function(a,b,e,l,x,h){var o={},u=arguments.length;Object.defineProperties(o,s);Object.defineProperties(o,function(){var r=1,p=0,q=0,f=1,t=0,k=0;return{a:{enumerable:true,configurable:false,get:function(){return r},set:function(y){r=y}},b:{enumerable:true,configurable:false,get:function(){return p},set:function(y){p=
y}},c:{enumerable:true,configurable:false,get:function(){return q},set:function(y){q=y}},d:{enumerable:true,configurable:false,get:function(){return f},set:function(y){f=y}},tx:{enumerable:true,configurable:false,get:function(){return t},set:function(y){t=y}},ty:{enumerable:true,configurable:false,get:function(){return k},set:function(y){k=y}},__toArray:{enumerable:false,writable:false,configurable:false,value:function(){v[0]=r;v[1]=p;v[2]=q;v[3]=f;v[4]=t;v[5]=k;return v}}}}());switch(u){case 6:o.compose(a,
b,e,l,x,h);break;case 1:u=arguments[0];a=undefined;if(typeof u==="function")u.call(o);else Array.isArray(u)?o.compose.apply(o,u):o.compose(u.a,u.b,u.c,u.d,u.tx,u.ty)}return o};s={compose:{enumerable:true,writable:false,configurable:false,value:function(a,b,e,l,x,h){this.a=a;this.b=b;this.c=e;this.d=l;this.tx=x;this.ty=h;return this}},toArray:{enumerable:true,writable:false,configurable:false,value:function(){return this.__toArray().concat()}},toString:{enumerable:true,writable:false,configurable:false,
value:function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}},equals:{enumerable:true,writable:false,configurable:false,value:function(a){return this&&a&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d&&this.tx===a.tx&&this.ty===a.ty||!this&&!a}},identity:{enumerable:true,writable:false,configurable:false,value:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this}},clone:{enumerable:true,writable:false,configurable:false,
value:function(){return m(this.a,this.b,this.c,this.d,this.tx,this.ty)}},multiply:{enumerable:true,writable:false,configurable:false,value:function(a){return this.compose(this.a*a.a+this.c*a.b,this.b*a.a+this.d*a.b,this.a*a.c+this.c*a.d,this.b*a.c+this.d*a.d,this.a*a.tx+this.c*a.ty+this.tx,this.b*a.tx+this.d*a.ty+this.ty)}},rotate:{enumerable:true,writable:false,configurable:false,value:function(a){var b=w(a);a=i(a);d.a=b;d.b=a;d.c=-a;d.d=b;d.tx=0;d.ty=0;return this.multiply(d)}},deltaRotate:{enumerable:true,
writable:false,configurable:false,value:function(a){var b=this.tx,e=this.ty;this.rotate(a);this.tx=b;this.ty=e;return this}},rotation:{enumerable:true,configurable:false,get:function(){return c(this.b,this.a)},set:function(a){var b=w(a);a=i(a);this.compose(b,a,-a,b,this.tx,this.ty)}},scale:{enumerable:true,writable:false,configurable:false,value:function(a,b){d.a=a;d.b=0;d.c=0;d.d=b;d.tx=0;d.ty=0;return this.multiply(d)}},deltaScale:{enumerable:true,writable:false,configurable:false,value:function(a,
b){var e=this.tx,l=this.ty;this.scale(a,b);this.tx=e;this.ty=l;return this}},translate:{enumerable:true,writable:false,configurable:false,value:function(a,b){this.tx+=a;this.ty+=b;return this}},skew:{enumerable:true,writable:false,configurable:false,value:function(a,b){var e=n(a),l=n(b);d.a=1;d.b=l;d.c=e;d.d=1;d.tx=0;d.ty=0;return this.multiply(d)}},deltaSkew:{enumerable:true,writable:false,configurable:false,value:function(a,b){var e=this.tx,l=this.ty;this.skew(a,b);this.tx=e;this.ty=l;return this}},
add:{enumerable:true,writable:false,configurable:false,value:function(a){this.a+=a.a;this.b+=a.b;this.c+=a.c;this.d+=a.d;this.tx+=a.tx;this.ty+=a.ty;return this}},invert:{enumerable:true,writable:false,configurable:false,value:function(){var a=this.a*this.d-this.b*this.c;return this.compose(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.ty*this.c-this.d*this.tx)/a,-(this.ty*this.a-this.b*this.tx)/a)}},transformPoint:{enumerable:true,writable:false,configurable:false,value:function(a){return g(this.a*
a.x+this.c*a.y+this.tx,this.b*a.x+this.d*a.y+this.ty)}},__transformPoint:{enumerable:false,writable:false,configurable:false,value:function(a){var b=a.x,e=a.y;a.x=this.a*b+this.c*e+this.tx;a.y=this.b*b+this.d*e+this.ty;return a}},deltaTransformPoint:{enumerable:true,writable:false,configurable:false,value:function(a){return g(this.a*a.x+this.c*a.y,this.b*a.x+this.d*a.y)}},__deltaTransformPoint:{enumerable:false,writable:false,configurable:false,value:function(a){var b=a.x,e=a.y;a.x=this.a*b+this.c*
e;a.y=this.b*b+this.d*e;return a}},rotateAroundExternalPoint:{enumerable:true,writable:false,configurable:false,value:function(a,b){var e=w(b),l=i(b);d.a=e;d.b=l;d.c=-l;d.d=e;d.tx=0;d.ty=0;this.translate(-a.x,-a.y);j.x=d.a*this.tx+d.c*this.ty+d.tx;j.y=d.b*this.tx+d.d*this.ty+d.ty;this.tx=j.x;this.ty=j.y;return this.multiply(d).translate(a.x,a.y)}},rotateAroundInternalPoint:{enumerable:true,writable:false,configurable:false,value:function(a,b){j.x=this.a*a.x+this.c*a.y+this.tx;j.y=this.b*a.x+this.d*
a.y+this.ty;return this.rotateAroundExternalPoint(j,b)}},matchInternalPointWithExternal:{enumerable:true,writable:false,configurable:false,value:function(a,b){j.x=this.a*a.x+this.c*a.y+this.tx;j.y=this.b*a.x+this.d*a.y+this.ty;return this.translate(b.x-j.x,b.y-j.y)}},interpolate:{enumerable:true,writable:false,configurable:false,value:function(a,b){this.a+=(a.a-this.a)*b;this.b+=(a.b-this.b)*b;this.c+=(a.c-this.c)*b;this.d+=(a.d-this.d)*b;this.tx+=(a.tx-this.tx)*b;this.ty+=(a.ty-this.ty)*b;return this}}};
doodle.geom.Matrix.isMatrix=function(a){return a!==undefined&&a!==null&&typeof a.a==="number"&&typeof a.b==="number"&&typeof a.c==="number"&&typeof a.d==="number"&&typeof a.tx==="number"&&typeof a.ty==="number"}})();
(function(){var s,v=Array(4),j,d=Math.max,m=Math.min;j=doodle.geom.Rectangle=function(g,i,w,c){var n={},a=arguments.length;Object.defineProperties(n,s);Object.defineProperties(n,function(){var b=0,e=0,l=0,x=0;return{x:{enumerable:true,configurable:false,get:function(){return b},set:function(h){b=h}},y:{enumerable:true,configurable:false,get:function(){return e},set:function(h){e=h}},width:{enumerable:true,configurable:false,get:function(){return l},set:function(h){l=h}},height:{enumerable:true,configurable:false,
get:function(){return x},set:function(h){x=h}},__toArray:{enumerable:false,writable:false,configurable:false,value:function(){v[0]=b;v[1]=e;v[2]=l;v[3]=x;return v}}}}());switch(a){case 4:n.compose(g,i,w,c);break;case 1:a=arguments[0];g=undefined;if(typeof a==="function")a.call(n);else Array.isArray(a)?n.compose.apply(n,a):n.compose(a.x,a.y,a.width,a.height)}return n};s={top:{enumerable:true,configurable:false,get:function(){return this.y},set:function(g){this.y=g;this.height-=g}},right:{enumerable:true,
configurable:false,get:function(){return this.x+this.width},set:function(g){this.width=g-this.x}},bottom:{enumerable:true,configurable:false,get:function(){return this.y+this.height},set:function(g){this.height=g-this.y}},left:{enumerable:true,configurable:false,get:function(){return this.x},set:function(g){this.x=g;this.width-=g}},toString:{enumerable:true,writable:false,configurable:false,value:function(){return"(x="+this.x+", y="+this.y+", w="+this.width+", h="+this.height+")"}},toArray:{enumerable:true,
writable:false,configurable:false,value:function(){return this.__toArray().concat()}},compose:{enumerable:true,writable:false,configurable:false,value:function(g,i,w,c){this.x=g;this.y=i;this.width=w;this.height=c;return this}},__compose:{enumerable:false,writable:false,configurable:false,value:function(g){this.compose.apply(this,g.__toArray());return this}},clone:{enumerable:true,writable:false,configurable:false,value:function(){return j(this.x,this.y,this.width,this.height)}},offset:{enumerable:true,
writable:false,configurable:false,value:function(g,i){this.x+=g;this.y+=i;return this}},inflate:{enumerable:true,writable:false,configurable:false,value:function(g,i){this.x-=g;this.width+=2*g;this.y-=i;this.height+=2*i;return this}},equals:{enumerable:true,writable:false,configurable:false,value:function(g){return this.x===g.x&&this.y===g.y&&this.width===g.width&&this.height===g.height}},isEmpty:{enumerable:true,writable:false,configurable:false,value:function(){return this.width>=0||this.height>=
0}},contains:{enumerable:false,writable:false,configurable:false,value:function(g,i){return g>=this.left&&g<=this.right&&i>=this.top&&i<=this.bottom}},containsPoint:{enumerable:true,writable:false,configurable:false,value:function(g){return this.contains(g.x,g.y)}},containsRect:{enumerable:true,writable:false,configurable:false,value:function(g){return this.contains(g.x,g.y)&&this.contains(g.right,g.y)&&this.contains(g.right,g.bottom)&&this.contains(g.x,g.bottom)}},intersects:{enumerable:true,writable:false,
configurable:false,value:function(g){return this.contains(g.x,g.y)||this.contains(g.right,g.y)||this.contains(g.right,g.bottom)||this.contains(g.x,g.bottom)}},intersection:{enumerable:true,writable:false,configurable:false,value:function(g){var i=j(0,0,0,0);if(this.intersects(g)){i.left=d(this.left,g.left);i.top=d(this.top,g.top);i.right=m(this.right,g.right);i.bottom=m(this.bottom,g.bottom)}return i}},__intersection:{enumerable:false,writable:false,configurable:false,value:function(g){if(this.intersects(g)){this.left=
d(this.left,g.left);this.top=d(this.top,g.top);this.right=m(this.right,g.right);this.bottom=m(this.bottom,g.bottom)}return this}},union:{enumerable:true,writable:false,configurable:false,value:function(g){var i=j(0,0,0,0);i.left=m(this.left,g.left);i.top=m(this.top,g.top);i.right=d(this.right,g.right);i.bottom=d(this.bottom,g.bottom);return i}},__union:{enumerable:false,writable:false,configurable:false,value:function(g){var i=m(this.left,g.left),w=m(this.top,g.top),c=d(this.right,g.right);g=d(this.bottom,
g.bottom);this.left=i;this.top=w;this.right=c;this.bottom=g;return this}}};doodle.geom.Rectangle.isRect=function(g){return typeof g.x==="number"&&typeof g.y==="number"&&typeof g.width==="number"&&typeof g.height==="number"&&typeof g.top==="number"&&typeof g.bottom==="number"&&typeof g.left==="number"&&typeof g.right==="number"}})();
(function(){var s,v,j,d=doodle.events.Event.CAPTURING_PHASE,m=doodle.events.Event.AT_TARGET,g=doodle.events.Event.BUBBLING_PHASE,i=Array.prototype.indexOf,w=Array.prototype.splice;doodle.EventDispatcher=function(c){var n={};Object.defineProperties(n,s);Object.defineProperties(n,{eventListeners:function(){var a={};return{enumerable:true,configurable:false,get:function(){return a}}}()});typeof c==="function"&&c.call(n);return n};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object EventDispatcher]"}},
modify:{enumerable:true,writable:false,configurable:false,value:function(c){c.call(this);return this}},addEventListener:{enumerable:true,writable:false,configurable:false,value:function(c,n,a){a=a===undefined?false:a;var b=this.eventListeners;b.hasOwnProperty(c)||(b[c]={capture:[],bubble:[]});b[c][a?"capture":"bubble"].push(n);v.indexOf(this)===-1&&v.push(this)}},removeEventListener:{enumerable:true,writable:false,configurable:false,value:function(c,n,a){a=a===undefined?false:a;var b=this.eventListeners,
e=b.hasOwnProperty(c)?b[c]:false;if(e){a=e[a?"capture":"bubble"];w.call(a,i.call(a,n),1);e.capture.length===0&&e.bubble.length===0&&delete b[c];if(Object.keys(b).length===0){c=v;w.call(c,i.call(c,this),1)}}}},handleEvent:{enumerable:true,writable:false,configurable:false,value:function(c){var n=c.eventPhase===d?"capture":"bubble",a=this.eventListeners[c.type],b=0,e;if((a=a&&a[n])&&a.length>0){c.__setCurrentTarget(this);b=a.length;for(e=0;e<b;e+=1){n=a[e].call(this,c);if(n===false||c.returnValue===
false)c.__cancel||c.stopPropagation();if(c.__cancelNow)break}}return b>0?true:false}},dispatchEvent:{enumerable:true,writable:false,configurable:false,value:function(c){var n,a=c.type,b=Object.prototype.hasOwnProperty,e=b.call(this.eventListeners,a),l,x=[];if(c.__cancel)return false;c.target||c.__setTarget(this);n=c.target;for(l=n.parent||null;l;){e||(e=b.call(l.eventListeners,a));x.push(l);l=l.parent}if(!e)return true;c.__setEventPhase(d);for(b=a=x.length;b--;){x[b].handleEvent(c);if(c.__cancel)return true}c.__setEventPhase(m);
n.handleEvent(c);if(c.__cancel)return true;if(!c.bubbles||c.cancelBubble)return true;c.__setEventPhase(g);for(b=0;b<a;b+=1){x[b].handleEvent(c);if(c.__cancel||c.cancelBubble)break}return true}},broadcastEvent:{enumerable:true,writable:false,configurable:false,value:function(c){var n=c.type,a=Object.prototype.hasOwnProperty,b=v,e=b.length;if(c.__cancel)throw Error(this+".broadcastEvent: Can not dispatch a cancelled event.");for(c.target||c.__setTarget(this);e--;){a.call(b[e].eventListeners,n)&&b[e].handleEvent(c);
if(c.__cancel)break}return true}},hasEventListener:{enumerable:true,writable:false,configurable:false,value:function(c){return this.eventListeners.hasOwnProperty(c)}},willTrigger:{enumerable:true,writable:false,configurable:false,value:function(c){if(this.eventListeners.hasOwnProperty(c))return true;for(var n=this.children,a=n?n.length:0;a--;)if(n[a].willTrigger(c))return true;return false}}};v=doodle.EventDispatcher.dispatcher_queue=[];j=doodle.EventDispatcher.isEventDispatcher=function(c){if(!c||
typeof c!=="object"||typeof c.toString!=="function")return false;return c.toString()==="[object EventDispatcher]"};doodle.EventDispatcher.inheritsEventDispatcher=function(c){for(;c;)if(j(c))return true;else{if(typeof c!=="object")break;c=Object.getPrototypeOf(c)}return false}})();
(function(){var s=0,v,j,d=doodle.events.Event(doodle.events.Event.ADDED,true),m=doodle.events.Event(doodle.events.Event.REMOVED,true),g=doodle.geom.Point,i=doodle.geom.Matrix,w=doodle.geom.Rectangle,c=doodle.utils.create_scene_path,n=Math.PI;doodle.Node=function(a){var b=Object.create(doodle.EventDispatcher());Object.defineProperties(b,v);Object.defineProperties(b,{id:function(){var e=typeof a==="string"?a:"node"+String("000"+s).slice(-3);s+=1;return{enumerable:true,configurable:true,get:function(){return e},
set:function(l){e=l}}}(),root:function(){var e=null;return{enumerable:true,configurable:true,get:function(){return e},set:function(l){e=l}}}(),parent:function(){var e=null;return{enumerable:true,configurable:true,get:function(){return e},set:function(l){e=l}}}(),children:function(){var e=[];return{enumerable:true,configurable:false,get:function(){return e}}}(),transform:function(){var e=i(1,0,0,1,0,0);return{enumerable:true,configurable:false,get:function(){return e},set:function(l){e=l}}}(),visible:function(){var e=
true;return{enumerable:true,configurable:true,get:function(){return e},set:function(l){e=l}}}(),alpha:function(){var e=1;return{enumerable:true,configurable:true,get:function(){return e},set:function(l){e=l>1?1:l<0?0:l}}}(),getBounds:{enumerable:true,writable:true,configurable:false,value:function(e){return this.__getBounds(e).clone()}},__getBounds:{enumerable:false,writable:true,configurable:false,value:function(){var e=w(0,0,0,0);return function(l){for(var x=null,h,o=this.children,u=o.length;u--;){h=
o[u].__getBounds(l);if(h!==null)if(x===null)x=e.__compose(h);else x.__union(h)}return x}}()}});if(typeof a==="function"){a.call(b);a=undefined}return b};v={x:{enumerable:true,configurable:false,get:function(){return this.transform.tx},set:function(a){this.transform.tx=a}},y:{enumerable:true,configurable:false,get:function(){return this.transform.ty},set:function(a){this.transform.ty=a}},rotate:{enumerable:true,configurable:false,value:function(a){this.transform.rotate(a*n/180)}},rotation:{enumerable:true,
configurable:true,get:function(){return this.transform.rotation*180/n},set:function(a){this.transform.rotation=a*n/180}},scaleX:{enumerable:true,configurable:false,get:function(){return this.transform.a},set:function(a){this.transform.a=a}},scaleY:{enumerable:true,configurable:false,get:function(){return this.transform.d},set:function(a){this.transform.d=a}},context:{enumerable:true,configurable:true,get:function(){for(var a=this.parent;a;){if(a.context)return a.context;a=a.parent}return null}},__allTransforms:{enumerable:false,
configurable:false,get:function(){var a=i(1,0,0,1,0,0);return function(){var b=this.parent;for(a.compose.apply(a,this.transform.__toArray());b;){a.multiply(b.transform);b=b.parent}return a}}()},toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object Node]"}},addChildAt:{enumerable:true,writable:false,configurable:false,value:function(a,b){var e=this.children,l=this.root,x=a.parent;if(e.indexOf(a)!==-1)return false;x!==null&&x!==this&&a.parent.removeChild(a);a.parent=
this;e.splice(b,0,a);if(l&&a.root!==l){l.__sortAllChildren();e=c(a,[]);for(x=e.length;x--;){a=e[x];a.root=l;a.dispatchEvent(d.__setTarget(null))}}return a}},addChild:{enumerable:true,writable:false,configurable:false,value:function(a){return this.addChildAt(a,this.children.length)}},removeChildAt:{enumerable:true,writable:false,configurable:false,value:function(a){var b=this.children,e=b[a],l=this.root,x=c(e,[]),h=x.length,o=h;if(l)for(;h--;)x[h].dispatchEvent(m.__setTarget(null));b.splice(a,1);for(e.parent=
null;o--;)x[o].root=null;l&&l.__sortAllChildren()}},removeChild:{enumerable:false,writable:false,configurable:false,value:function(a){this.removeChildAt(this.children.indexOf(a))}},removeChildById:{enumerable:true,writable:false,configurable:false,value:function(a){this.removeChild(this.getChildById(a))}},removeAllChildren:{enumerable:true,writable:false,configurable:false,value:function(){for(var a=this.children.length;a--;)this.removeChildAt(a)}},getChildById:{enumerable:true,writable:false,configurable:false,
value:function(a){for(var b=this.children,e=b.length,l=0;l<e;l++)if(b[l].id===a)return b[l];return null}},setChildIndex:{enumerable:true,writable:false,configurable:false,value:function(a,b){var e=this.children,l=e.indexOf(a);e.splice(l,1);e.splice(b,0,a);this.root&&this.root.__sortAllChildren()}},swapChildrenAt:{enumerable:true,writable:false,configurable:false,value:function(a,b){var e=this.children,l;l=e.splice(a,1,undefined)[0];e.splice(a,1,e.splice(b,1,undefined)[0]);e[e.indexOf(undefined)]=
l;this.root&&this.root.__sortAllChildren()}},swapChildren:{enumerable:true,writable:false,configurable:false,value:function(a,b){var e=this.children;this.swapChildrenAt(e.indexOf(a),e.indexOf(b))}},swapDepths:{enumerable:true,writable:false,configurable:false,value:function(a){var b=this.parent,e;e=b.children;b.swapChildrenAt(e.indexOf(this),e.indexOf(a))}},swapDepthAt:{enumerable:true,writable:false,configurable:false,value:function(a){var b=this.parent;b.swapChildrenAt(b.children.indexOf(this),
a)}},contains:{enumerable:true,writable:false,configurable:false,value:function(a){return c(this,[]).indexOf(a)!==-1?true:false}},localToGlobal:{enumerable:true,writable:false,configurable:false,value:function(a){var b=this.parent;for(a=this.transform.transformPoint(a);b;){b.transform.__transformPoint(a);b=b.parent}return a}},__localToGlobal:{enumerable:false,writable:false,configurable:false,value:function(a){for(var b=this;b;){b.transform.__transformPoint(a);b=b.parent}return a}},globalToLocal:{enumerable:true,
writable:false,configurable:false,value:function(a){var b={x:0,y:0};this.__localToGlobal(b);return g(a.x-b.x,a.y-b.y)}},__globalToLocal:{enumerable:false,writable:false,configurable:false,value:function(a){var b={x:0,y:0};this.__localToGlobal(b);a.x-=b.x;a.y-=b.y;return a}}};j=doodle.Node.isNode=function(a){if(!a||typeof a!=="object"||typeof a.toString!=="function")return false;return a.toString()==="[object Node]"};doodle.Node.inheritsNode=function(a){for(;a;)if(j(a))return true;else{if(typeof a!==
"object")break;a=Object.getPrototypeOf(a)}return false}})();
(function(){var s,v,j=doodle.geom.Rectangle;doodle.Sprite=function(d){var m=Object.create(doodle.Node(typeof d==="string"?d:undefined));Object.defineProperties(m,s);Object.defineProperties(m,function(){var g=[];return{graphics:{enumerable:false,configurable:false,value:Object.create(doodle.Graphics.call(m,g))},width:function(){var i=0;return{enumerable:true,configurable:false,get:function(){return i},set:function(w){i=w}}}(),height:function(){var i=0;return{enumerable:true,configurable:false,get:function(){return i},
set:function(w){i=w}}}(),getBounds:{enumerable:true,writable:true,configurable:false,value:function(i){return this.__getBounds(i).clone()}},__getBounds:{enumerable:false,writable:true,configurable:false,value:function(){var i=j(0,0,0,0);return function(w){var c=this.children,n=c.length,a,b=this.width,e=this.height,l=this.graphics;a={x:l.__minX,y:l.__minY};var x={x:l.__minX+b,y:l.__minY};b={x:l.__minX+b,y:l.__minY+e};e={x:l.__minX,y:l.__minY+e};l=Math.min;var h=Math.max;this.__localToGlobal(a);this.__localToGlobal(x);
this.__localToGlobal(b);this.__localToGlobal(e);w.__globalToLocal(a);w.__globalToLocal(x);w.__globalToLocal(b);w.__globalToLocal(e);i.left=l(a.x,x.x,b.x,e.x);i.right=h(a.x,x.x,b.x,e.x);i.top=l(a.y,x.y,b.y,e.y);for(i.bottom=h(a.y,x.y,b.y,e.y);n--;){a=c[n].__getBounds(w);a!==null&&i.__union(a)}return i}}()},hitTestObject:{enumerable:true,writable:true,configurable:false,value:function(i){return this.getBounds(this).intersects(i.getBounds(this))}},hitTestPoint:{enumerable:true,writable:true,configurable:false,
value:function(i){return this.getBounds(this).containsPoint(this.globalToLocal(i))}},__draw:{enumerable:false,writable:false,configurable:false,value:function(i){for(var w=0,c=g.length;w<c;w++)g[w].call(m,i)}}}}());typeof d==="function"&&d.call(m);return m};s={rotation:function(){var d=180/Math.PI,m=Math.PI/180;return{enumerable:true,configurable:false,get:function(){return this.transform.rotation*d},set:function(g){this.transform.rotation=g*m}}}(),toString:{enumerable:false,writable:false,configurable:false,
value:function(){return"[object Sprite]"}},compose:{enumerable:false,writable:false,configurable:false,value:function(d,m,g,i){this.x=d;this.y=m;this.width=g;this.height=i;return this}}};v=doodle.Sprite.isSprite=function(d){if(!d||typeof d!=="object"||typeof d.toString!=="function")return false;return d.toString()==="[object Sprite]"};doodle.Sprite.inheritsSprite=function(d){for(;d;)if(v(d))return true;else{if(typeof d!=="object")break;d=Object.getPrototypeOf(d)}return false}})();
(function(){var s,v=doodle.utils.hex_to_rgb_str,j=doodle.utils.get_element,d=doodle.events.Event,m=doodle.GradientType.LINEAR,g=doodle.GradientType.RADIAL;doodle.Graphics=function(i){var w={},c=this,n=0,a=0,b=1,e=doodle.LineCap.BUTT,l=doodle.LineJoin.MITER,x=10;Object.defineProperties(w,s);Object.defineProperties(w,{__minX:{enumerable:false,configurable:false,value:0},__minY:{enumerable:false,configurable:false,value:0},__maxX:{enumerable:false,configurable:false,value:0},__maxY:{enumerable:false,
configurable:false,value:0},lineWidth:{enumerable:true,configurable:false,get:function(){return b}},lineCap:{enumerable:true,configurable:false,get:function(){return e}},lineJoin:{enumerable:true,configurable:false,get:function(){return l}},lineMiter:{enumerable:true,configurable:false,get:function(){return x}},draw:{enumerable:false,writable:false,configurable:false,value:function(h){i.push(h)}},clear:{enumerable:false,writable:false,configurable:false,value:function(){i.length=0;c.width=0;n=a=this.__minX=
this.__minY=this.__maxX=this.__maxY=c.height=0}},rect:{enumerable:false,writable:false,configurable:false,value:function(h,o,u,r){this.__minX=Math.min(0,h,this.__minX);this.__minY=Math.min(0,o,this.__minY);this.__maxX=Math.max(0,h,h+u,this.__maxX);this.__maxY=Math.max(0,o,o+r,this.__maxY);c.width=-this.__minX+this.__maxX;c.height=-this.__minY+this.__maxY;i.push(function(p){p.beginPath();p.rect(h,o,u,r);p.closePath();p.stroke()})}},circle:{enumerable:false,writable:false,configurable:false,value:function(h,
o,u){this.__minX=Math.min(0,-u+h,this.__minX);this.__minY=Math.min(0,-u+o,this.__minY);this.__maxX=Math.max(0,h,h+u,this.__maxX);this.__maxY=Math.max(0,o,o+u,this.__maxY);c.width=-this.__minX+this.__maxX;c.height=-this.__minY+this.__maxY;i.push(function(r){r.beginPath();r.arc(h,o,u,0,6.283185307179586,true);r.closePath();r.stroke()})}},ellipse:{enumerable:false,writable:false,configurable:false,value:function(h,o,u,r){r=r===undefined?u:r;var p=u/2,q=r/2,f=0.5522847498*p,t=0.5522847498*q;this.__minX=
Math.min(0,-p+h,this.__minX);this.__minY=Math.min(0,-q+o,this.__minY);this.__maxX=Math.max(0,h,h+p,this.__maxX);this.__maxY=Math.max(0,o,o+q,this.__maxY);c.width=-this.__minX+this.__maxX;c.height=-this.__minY+this.__maxY;i.push(function(k){k.beginPath();k.moveTo(h+p,o);k.bezierCurveTo(h+p,o-t,h+f,o-q,h,o-q);k.bezierCurveTo(h-f,o-q,h-p,o-t,h-p,o);k.bezierCurveTo(h-p,o+t,h-f,o+q,h,o+q);k.bezierCurveTo(h+f,o+q,h+p,o+t,h+p,o);k.closePath();k.stroke()})}},roundRect:{enumerable:false,writable:false,configurable:false,
value:function(h,o,u,r,p,q){p=p===undefined?0:p;q=q===undefined?0:q;var f=h+u,t=f-p,k=h+p,y=o+r,A=y-q,G=o+q;this.__minX=Math.min(0,h,this.__minX);this.__minY=Math.min(0,o,this.__minY);this.__maxX=Math.max(0,h,h+u,this.__maxX);this.__maxY=Math.max(0,o,o+r,this.__maxY);c.width=-this.__minX+this.__maxX;c.height=-this.__minY+this.__maxY;i.push(function(B){B.beginPath();B.moveTo(k,o);B.beginPath();B.lineTo(t,o);B.quadraticCurveTo(f,o,f,G);B.lineTo(f,A);B.quadraticCurveTo(f,y,t,y);B.lineTo(k,y);B.quadraticCurveTo(h,
y,h,A);B.lineTo(h,G);B.quadraticCurveTo(h,o,k,o);B.closePath();B.stroke()})}},moveTo:{enumerable:false,writable:false,configurable:false,value:function(h,o){i.push(function(u){u.moveTo(h,o)});n=h;a=o}},lineTo:{enumerable:false,writable:false,configurable:false,value:function(h,o){this.__minX=Math.min(0,h,n,this.__minX);this.__minY=Math.min(0,o,a,this.__minY);this.__maxX=Math.max(0,h,n,this.__maxX);this.__maxY=Math.max(0,o,a,this.__maxY);c.width=this.__maxX-this.__minX;c.height=this.__maxY-this.__minY;
i.push(function(u){u.lineTo(h,o)});n=h;a=o}},curveTo:{enumerable:false,writable:false,configurable:false,value:function(h,o){var u=n,r=a,p=h.x,q=h.y,f=o.x,t=o.y,k,y=0,A=0;k=(u-p)/(u-2*p+f);if(0<=k&&k<=1)y=(1-k)*(1-k)*u+2*(1-k)*k*p+k*k*f;k=(r-q)/(r-2*q+t);if(0<=k&&k<=1)A=(1-k)*(1-k)*r+2*(1-k)*k*q+k*k*t;this.__minX=Math.min(0,u,y,f,this.__minX);this.__minY=Math.min(0,r,A,t,this.__minY);this.__maxX=Math.max(0,u,y,f,this.__maxX);this.__maxY=Math.max(0,r,A,t,this.__maxY);c.width=-this.__minX+this.__maxX;
c.height=-this.__minY+this.__maxY;i.push(function(G){G.quadraticCurveTo(p,q,f,t)});n=f;a=t}},bezierCurveTo:{enumerable:false,writable:false,configurable:false,value:function(h,o,u){var r=Math.pow,p=Math.max,q=Math.min,f=n,t=a,k=h.x,y=h.y,A=o.x,G=o.y,B=u.x,H=u.y,E,J=u=o=0,L=0;for(h=0.1;h<1;h+=0.1){E=r(1-h,3)*f+3*r(1-h,2)*h*k+3*r(1-h,1)*r(h,2)*A+r(h,3)*B;if(E>o)o=E;if(E<u)u=E;E=r(1-h,3)*t+3*r(1-h,2)*h*y+3*r(1-h,1)*r(h,2)*G+r(h,3)*H;if(E>J)J=E;if(E<L)L=E}this.__minX=q(0,f,u,B,this.__minX);this.__minY=
q(0,t,L,H,this.__minY);this.__maxX=p(0,f,o,B,this.__maxX);this.__maxY=p(0,t,J,H,this.__maxY);c.width=-this.__minX+this.__maxX;c.height=-this.__minY+this.__maxY;i.push(function(O){O.bezierCurveTo(k,y,A,G,B,H)});n=B;a=H}},beginFill:{enumerable:false,writable:false,configurable:false,value:function(h,o){o=o===undefined?1:o;i.push(function(u){u.fillStyle=v(h,o)})}},beginGradientFill:{enumerable:true,writable:false,configurable:false,value:function(h,o,u,r,p,q){i.push(function(f){var t=doodle.utils.hex_to_rgb_str,
k,y=r.length,A=0;if(h===m)k=f.createLinearGradient(o.x,o.y,u.x,u.y);else if(h===g)k=f.createRadialGradient(o.x,o.y,o.radius,u.x,u.y,u.radius);else throw new TypeError(c+".graphics.beginGradientFill(*type*, point1, point2, ratios, colors, alphas): Unknown gradient type.");for(;A<y;A+=1)k.addColorStop(r[A],t(p[A],q[A]));f.fillStyle=k})}},beginPatternFill:{enumerable:true,writable:false,configurable:false,value:function(h,o){var u=null,r;r=doodle.Pattern;o=o===undefined?r.REPEAT:o;if(typeof h==="string")if(h[0]===
"#")h=j(h);else(function(){var p=encodeURI(h);h=new Image;h.src=p})();if(h.complete)u=h;else{h.onload=function(){u=h;c.dispatchEvent(d(d.LOAD))};r=function(){throw new URIError(c+".graphics.beginPatternFill(*image*,repeat): Unable to load "+h.src);};h.onerror=r;h.onabort=r}i.push(function(p){p.fillStyle=u?p.createPattern(u,o):"rgba(0,0,0,0)"})}},lineStyle:{enumerable:true,writable:false,configurable:false,value:function(h,o,u,r,p,q){h=h===undefined?1:h;o=o===undefined?"#000000":o;u=u===undefined?
1:u;r=r===undefined?doodle.LineCap.BUTT:r;p=p===undefined?doodle.LineJoin.MITER:p;q=q===undefined?10:q;b=h;l=p;e=r;x=q;if(typeof o==="string"||typeof o==="number")o=v(o,u);else throw new TypeError(c+".graphics.lineStyle(thickness,*color*,alpha,caps,joints,miterLimit): Color must be a hex value.");i.push(function(f){f.lineWidth=b;f.strokeStyle=o;f.lineCap=e;f.lineJoin=l;f.miterLimit=x})}},beginPath:{enumerable:false,writable:false,configurable:false,value:function(){i.push(function(h){h.beginPath();
h.moveTo(n,a)})}},closePath:{enumerable:false,writable:false,configurable:false,value:function(){i.push(function(h){h.closePath();h.stroke()});a=n=0}},endFill:{enumerable:false,writable:false,configurable:false,value:function(){i.push(function(h){h.fill()})}},stroke:{enumerable:false,writable:false,configurable:false,value:function(){i.push(function(h){h.stroke()});a=n=0}}});return w};s={toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Graphics]"}}}})();
(function(){var s,v=/^url\((.*)\)/,j,d=doodle.geom.Rectangle,m=doodle.utils.rgb_str_to_hex,g=doodle.utils.hex_to_rgb_str,i=doodle.utils.get_element,w=doodle.utils.get_element_property,c=doodle.utils.set_element_property;doodle.ElementNode=function(n,a){var b=Object.create(doodle.Node(typeof a==="string"?a:undefined));Object.defineProperties(b,s);Object.defineProperties(b,function(){var e=null,l=b.id,x=b.alpha,h=b.visible,o=0,u=0,r=null,p=null,q="repeat";return{element:{enumerable:true,configurable:true,
get:function(){return e},set:function(f){if(f===null){if(e!==null){typeof this.__removeDomElement==="function"&&this.__removeDomElement(e);p=r=null;q="repeat";if(!this.parent)u=o=0}e=null}else{e=f=i(f);this.__addDomElement(e);if(f=w(e,"id"))l=f;else this.id=l;q=w(e,"backgroundRepeat")||q;r=(f=w(e,"backgroundColor",false,false))?m(f):r;f=w(e,"backgroundImage");p=(f=!f||f==="none"?null:p.match(v))?f[1]:p}}},id:{enumerable:true,configurable:true,get:function(){return l},set:function(f){l=c(this.element,
"id",f,"html")}},width:{enumerable:true,configurable:true,get:function(){return o},set:function(f){c(this.element,"width",f+"px");o=f}},height:{enumerable:true,configurable:true,get:function(){return u},set:function(f){c(this.element,"height",f+"px");u=f}},backgroundColor:{enumerable:true,configurable:true,get:function(){return r},set:function(f){if(typeof f==="number")f=g(f);c(this.element,"backgroundColor",f);r=m(w(this.element,"backgroundColor"))}},backgroundImage:{enumerable:true,configurable:true,
get:function(){return p},set:function(f){if(f){if(typeof f==="string"){if(f[0]==="#")f=i(f).src}else if(f&&f.tagName==="IMG")f=f.src;v.test(f)||(f="url("+encodeURI(f)+")");p=c(this.element,"backgroundImage",f)}else p=c(this.element,"backgroundImage",null)}},backgroundRepeat:{enumerable:true,configurable:true,get:function(){return q},set:function(f){q=c(this.element,"backgroundRepeat",f)}},alpha:{enumerable:true,configurable:true,get:function(){return x},set:function(f){c(this.element,"opacity",f)}},
visible:{enumerable:true,configurable:true,get:function(){return h},set:function(f){f?c(this.element,"visibility","visible"):c(this.element,"visibility","hidden");h=f}},__addDomElement:{enumerable:false,configurable:true,value:function(f){var t=w(f,"width","int")||f.width;f=w(f,"height","int")||f.height;if(typeof t==="number")o=t;if(typeof f==="number")u=f}},__getBounds:{enumerable:true,configurable:true,value:function(){var f=d(0,0,0,0);return function(t){var k=this.children,y=k.length,A,G=this.width,
B=this.height;A={x:0,y:0};var H={x:G,y:0};G={x:G,y:B};B={x:0,y:B};var E=Math.min,J=Math.max;this.__localToGlobal(A);this.__localToGlobal(H);this.__localToGlobal(G);this.__localToGlobal(B);t.__globalToLocal(A);t.__globalToLocal(H);t.__globalToLocal(G);t.__globalToLocal(B);f.left=E(A.x,H.x,G.x,B.x);f.right=J(A.x,H.x,G.x,B.x);f.top=E(A.y,H.y,G.y,B.y);for(f.bottom=J(A.y,H.y,G.y,B.y);y--;){A=k[y].__getBounds(t);A!==null&&f.__union(A)}return f}}()}}}());switch(arguments.length){case 0:break;case 1:if(typeof arguments[0]===
"function"){arguments[0].call(b);n=undefined}else b.element=n;break;case 2:if(n)b.element=n;break;default:throw new SyntaxError("[object ElementNode](element, id): Invalid number of parameters.");}return b};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object ElementNode]"}}};j=doodle.ElementNode.isElementNode=function(n){if(!n||typeof n!=="object"||typeof n.toString!=="function")return false;return n.toString()==="[object ElementNode]"};doodle.ElementNode.inheritsElementNode=
function(n){for(;n;)if(j(n))return true;else{if(typeof n!=="object")break;n=Object.getPrototypeOf(n)}return false}})();
(function(){var s,v=0,j,d=doodle.utils.set_element_property;doodle.Layer=function(m,g){var i=typeof m==="string"?m:"layer"+String("00"+v).slice(-2);i=Object.create(doodle.ElementNode(undefined,i));Object.defineProperties(i,s);Object.defineProperties(i,function(){var w=0,c=0,n=null;return{width:{enumerable:true,configurable:true,get:function(){return w},set:function(a){w=d(this.element,"width",a,"html")}},height:{enumerable:true,configurable:true,get:function(){return c},set:function(a){c=d(this.element,
"height",a,"html")}},context:{enumerable:true,configurable:true,get:function(){return n}},__addDomElement:{enumerable:false,writable:false,value:function(a){d(a,"position","absolute");if(this.parent){this.width=this.parent.width;this.height=this.parent.height}n=a.getContext("2d")}},__removeDomElement:{enumerable:false,writable:false,value:function(){n=null}}}}());switch(arguments.length){case 0:break;case 1:if(typeof arguments[0]==="function"){arguments[0].call(i);m=undefined}break;case 2:i.element=
g;break;default:throw new SyntaxError("[object Layer](id, element): Invalid number of parameters.");}if(i.element===null)i.element=document.createElement("canvas");v+=1;return i};s={toString:{enumerable:true,writable:false,configurable:false,value:function(){return"[object Layer]"}},__getBounds:{enumerable:true,configurable:true,value:function(){var m=doodle.geom.Rectangle(0,0,0,0);return function(){return m.compose(0,0,this.width,this.height)}}()}};j=doodle.Layer.isLayer=function(m){if(!m||typeof m!==
"object"||typeof m.toString!=="function")return false;return m.toString()==="[object Layer]"};doodle.Layer.inheritsLayer=function(m){for(;m;)if(j(m))return true;else{if(typeof m!=="object")break;m=Object.getPrototypeOf(m)}return false}})();
(function(){var s,v=0,j,d,m,g,i,w,c,n=doodle.utils.create_scene_path,a=doodle.Layer.isLayer,b=doodle.utils.get_element,e=doodle.utils.get_element_property,l=doodle.utils.set_element_property,x=doodle.Layer,h=doodle.events.Event(doodle.events.Event.ENTER_FRAME),o=doodle.events.MouseEvent(""),u=doodle.events.KeyboardEvent("");doodle.Display=function(r){var p,q;if(r&&typeof r!=="function"){r=b(r);q=e(r,"id")}q=typeof q==="string"?q:"display"+String("00"+v++).slice(-2);p=Object.create(doodle.ElementNode(undefined,
q));Object.defineProperties(p,s);Object.defineProperties(p,function(){function f(z){C(z,P,L,L.length,O,R,K)}function t(z){var D,I;O=D=F?z.offsetX:z.clientX-H.offsetLeft;R=I=F?z.offsetY:z.clientY-H.offsetTop;M(z,P,L,L.length,D,I,K)}function k(z){N(z,P,L,E,E.length,K)}function y(z){S(z,V,K)}function A(){T(E,E.length,J,J.length,U,L,L.length,K)}var G=0,B=0,H=null,E=p.children,J=doodle.EventDispatcher.dispatcher_queue,L=[],O=0,R=0,F=document.createEvent("MouseEvent").offsetX!==undefined,K=p,C=g,M=i,N=
w,S=c,T=j,U=h,P=o,V=u;K.addEventListener(doodle.events.Event.ADDED,A);K.addEventListener(doodle.events.Event.REMOVED,A);document.addEventListener(doodle.events.KeyboardEvent.KEY_PRESS,y,false);document.addEventListener(doodle.events.KeyboardEvent.KEY_DOWN,y,false);document.addEventListener(doodle.events.KeyboardEvent.KEY_UP,y,false);return{root:{enumerable:true,writable:false,configurable:false,value:K},mouseX:{enumerable:true,configurable:false,get:function(){return O}},mouseY:{enumerable:true,configurable:false,
get:function(){return R}},width:{get:function(){return G},set:function(z){var D=E.length;l(this.element,"width",z+"px");for(G=z;D--;)E[D].width=z;return z}},height:{get:function(){return B},set:function(z){var D=E.length;l(this.element,"height",z+"px");for(B=z;D--;)E[D].height=z;return z}},__addDomElement:{enumerable:false,writable:false,value:function(z){l(z,"position","relative");var D=e(z,"width","int",false)||z.width,I=e(z,"height","int",false)||z.height;if(typeof D==="number")this.width=D;if(typeof I===
"number")this.height=I;z.addEventListener(doodle.events.MouseEvent.MOUSE_MOVE,t,false);z.addEventListener(doodle.events.MouseEvent.MOUSE_OUT,k,false);z.addEventListener(doodle.events.MouseEvent.CLICK,f,false);z.addEventListener(doodle.events.MouseEvent.DOUBLE_CLICK,f,false);z.addEventListener(doodle.events.MouseEvent.MOUSE_DOWN,f,false);z.addEventListener(doodle.events.MouseEvent.MOUSE_UP,f,false);z.addEventListener(doodle.events.MouseEvent.CONTEXT_MENU,f,false);z.addEventListener(doodle.events.MouseEvent.MOUSE_WHEEL,
f,false);H=z}},__removeDomElement:{enumerable:false,writable:false,value:function(z){z.removeEventListener(doodle.events.MouseEvent.MOUSE_MOVE,t,false);z.removeEventListener(doodle.events.MouseEvent.MOUSE_OUT,k,false);z.removeEventListener(doodle.events.MouseEvent.CLICK,f,false);z.removeEventListener(doodle.events.MouseEvent.DOUBLE_CLICK,f,false);z.removeEventListener(doodle.events.MouseEvent.MOUSE_DOWN,f,false);z.removeEventListener(doodle.events.MouseEvent.MOUSE_UP,f,false);z.removeEventListener(doodle.events.MouseEvent.CONTEXT_MENU,
f,false);z.removeEventListener(doodle.events.MouseEvent.MOUSE_WHEEL,f,false);H=null}},allChildren:{enumerable:true,configurable:false,get:function(){return L}},__sortAllChildren:{enumerable:false,configurable:false,value:function(){n(this,L,true).reverse()}},getNodesUnderPoint:{enumerable:true,configurable:false,value:function(z){var D=[],I=L,Q=I.length,W=z.x;z=z.y;for(var X;Q--;){X=I[Q];X.__getBounds(this).contains(W,z)&&D.push(X)}return D}},addChildAt:{enumerable:true,configurable:false,value:function(){var z=
K.addChildAt;return function(D,I){D.width=this.width;D.height=this.height;this.element.appendChild(D.element);return z.call(this,D,I)}}()},removeChildAt:{enumerable:true,writable:false,configurable:false,value:function(){var z=K.removeChildAt;return function(D){this.element.removeChild(E[D].element);return z.call(this,D)}}()},swapChildrenAt:{enumerable:true,writable:false,configurable:false,value:function(){var z=K.swapChildrenAt;return function(D,I){D>I?this.element.insertBefore(E[I].element,E[D].element):
this.element.insertBefore(E[D].element,E[I].element);return z.call(this,D,I)}}()},frameRate:function(){var z=false,D;return{get:function(){return z},set:function(I){if(I===0||I===false){z=false;D!==undefined&&clearInterval(D)}else if(I!==z){D!==undefined&&clearInterval(D);D=setInterval(A,1E3/I);z=I}}}}()}}());switch(arguments.length){case 0:break;case 1:if(typeof arguments[0]==="function"){arguments[0].call(r);r=undefined}else p.element=r;break;default:throw new SyntaxError("[object Display](element): Invalid number of parameters.");
}j(p.children,p.children.length,doodle.EventDispatcher.dispatcher_queue,doodle.EventDispatcher.dispatcher_queue.length,h,p.allChildren,p.allChildren.length,p);return p};s={parent:{enumerable:true,writable:false,configurable:false,value:null},toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Display]"}},addLayer:{value:function(r){return this.addChild(x(r))}},removeLayer:{value:function(r){return this.removeChildById(r)}},__getBounds:{enumerable:false,configurable:true,
value:function(){var r=doodle.geom.Rectangle(0,0,0,0);return function(){return r.compose(0,0,this.width,this.height)}}()}};j=function(){var r=0;return function(p,q,f,t,k,y,A){for(d(p,q);t--;)f[t].eventListeners.hasOwnProperty("enterFrame")&&f[t].handleEvent(k.__setTarget(f[t]));m(y,A);r++}}();d=function(r,p){for(var q;p--;){q=r[p].context;q.save();q.setTransform(1,0,0,1,0,0);q.clearRect(0,0,r[p].width,r[p].height);q.restore()}};m=function(r,p){for(var q,f,t=0;t<p;t++){q=r[t];if((f=q.context)&&q.visible){f.save();
f.transform.apply(f,q.__allTransforms.__toArray());if(!a(q))if(q.alpha!==1)f.globalAlpha=q.alpha;typeof q.__draw==="function"&&q.__draw(f);f.restore()}}};g=function(r,p,q,f,t,k,y){for(;f--;)if(q[f].__getBounds(y).contains(t,k)){q[f].dispatchEvent(p.__copyMouseEventProperties(r,null));return true}return false};i=function(r,p,q,f,t,k,y){for(var A;f--;){A=q[f];if(A.__getBounds(y).contains(t,k)){if(!A.__pointInBounds){A.__pointInBounds=true;A.dispatchEvent(p.__copyMouseEventProperties(r,null,"mouseover"));
A.dispatchEvent(p.__copyMouseEventProperties(r,null,"mouseenter"));return true}A.dispatchEvent(p.__copyMouseEventProperties(r,null));return true}else if(A.__pointInBounds){A.__pointInBounds=false;A.dispatchEvent(p.__copyMouseEventProperties(r,null,"mouseout"));A.dispatchEvent(p.__copyMouseEventProperties(r,null,"mouseleave"));return true}}};w=function(r,p,q,f,t,k){if(t===0)k.__pointInBounds=false;else{k=f[t-1];for(t=q.length;t--;)q[t].__pointInBounds=false}k.dispatchEvent(p.__copyMouseEventProperties(r,
null,"mouseout"));k.dispatchEvent(p.__copyMouseEventProperties(r,null,"mouseleave"));return true};c=function(r,p,q){q.broadcastEvent(p.__copyKeyboardEventProperties(r,null));return true};doodle.Display.isDisplay=function(r){if(!r||typeof r!=="object"||typeof r.toString!=="function")return false;return r.toString()==="[object Display]"}})();
Object.defineProperty(doodle,"FontStyle",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{NORMAL:{enumerable:true,writable:false,configurable:false,value:"normal"},ITALIC:{enumerable:true,writable:false,configurable:false,value:"italic"},OBLIQUE:{enumerable:true,writable:false,configurable:false,value:"oblique"}})});
Object.defineProperty(doodle,"FontVariant",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{NORMAL:{enumerable:true,writable:false,configurable:false,value:"normal"},SMALL_CAPS:{enumerable:true,writable:false,configurable:false,value:"small-caps"}})});
Object.defineProperty(doodle,"FontWeight",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{NORMAL:{enumerable:true,writable:false,configurable:false,value:"normal"},BOLD:{enumerable:true,writable:false,configurable:false,value:"bold"},BOLDER:{enumerable:true,writable:false,configurable:false,value:"bolder"},LIGHTER:{enumerable:true,writable:false,configurable:false,value:"lighter"}})});
Object.defineProperty(doodle,"TextAlign",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{START:{enumerable:true,writable:false,configurable:false,value:"start"},END:{enumerable:true,writable:false,configurable:false,value:"end"},LEFT:{enumerable:true,writable:false,configurable:false,value:"left"},RIGHT:{enumerable:true,writable:false,configurable:false,value:"right"},CENTER:{enumerable:true,writable:false,configurable:false,value:"center"}})});
Object.defineProperty(doodle,"TextBaseline",{enumerable:true,writable:false,configurable:false,value:Object.create(null,{TOP:{enumerable:true,writable:false,configurable:false,value:"top"},MIDDLE:{enumerable:true,writable:false,configurable:false,value:"middle"},BOTTOM:{enumerable:true,writable:false,configurable:false,value:"bottom"},HANGING:{enumerable:true,writable:false,configurable:false,value:"hanging"},ALPHABETIC:{enumerable:true,writable:false,configurable:false,value:"alphabetic"},IDEOGRAPHIC:{enumerable:true,
writable:false,configurable:false,value:"ideographic"}})});
(function(){var s,v=doodle.utils.hex_to_rgb_str,j=doodle.FontStyle,d=doodle.FontVariant,m=doodle.FontWeight,g=doodle.TextAlign,i=doodle.TextBaseline;doodle.Text=function(w){var c=Object.create(doodle.Sprite());Object.defineProperties(c,s);Object.defineProperties(c,function(){function n(){var k=c.context||document.createElement("canvas").getContext("2d"),y,A,G=c.graphics,B=0,H=0,E=0;k.save();k.font=x+" "+h+" "+o+" "+e+"px "+b;y=k.measureText(a).width;A=e;l=k.measureText("m").width;k.restore();c.graphics.clear();
c.graphics.draw(function(J){if(t){J.fillStyle=t;J.fillRect(0,0,y,A)}J.lineWidth=f;J.textAlign=u;J.textBaseline=r;J.font=x+" "+h+" "+o+" "+e+"px "+b;if(p){J.fillStyle=p;J.fillText(a,0,0)}if(q){J.strokeStyle=q;J.strokeText(a,0,0)}});c.width=y;c.height=A;switch(r){case i.TOP:H=e-l;E=e;break;case i.MIDDLE:H=-l/2;E=l/2;break;case i.BOTTOM:H=-e;break;case i.HANGING:H=e-l;E=e;break;case i.ALPHABETIC:H=-l;break;case i.IDEOGRAPHIC:H=-e}switch(u){case g.END:B=-y;break;case g.RIGHT:B=-y;break;case g.CENTER:B=
-y/2}G.__minX=B;G.__maxX=0;G.__minY=H;G.__maxY=E}var a="",b="sans-serif",e=10,l=e,x=j.NORMAL,h=d.NORMAL,o=m.NORMAL,u=g.START,r=i.ALPHABETIC,p="#000000",q="#000000",f=1,t;return{text:{enumerable:true,configurable:false,get:function(){return a},set:function(k){a=k;n()}},font:{enumerable:true,configurable:false,get:function(){return x+" "+h+" "+o+" "+e+"px "+b},set:function(k){var y;k=k.split(" ");y=k.length;if(y===2)k.unshift(j.NORMAL,d.NORMAL,m.NORMAL);else if(y===3)k.splice(1,0,d.NORMAL,m.NORMAL);
else y===4&&k.splice(1,0,d.NORMAL);c.fontStyle=k[0];c.fontVariant=k[1];c.fontWeight=k[2];c.fontSize=k[3];c.fontFamily=k[4]}},fontFamily:{enumerable:true,configurable:false,get:function(){return b},set:function(k){b=k;n()}},fontSize:{enumerable:true,configurable:false,get:function(){return e},set:function(k){if(typeof k==="string")k=parseInt(k,10);e=k;n()}},fontStyle:{enumerable:true,configurable:false,get:function(){return x},set:function(k){x=k;n()}},fontVariant:{enumerable:true,configurable:false,
get:function(){return h},set:function(k){h=k;n()}},fontWeight:{enumerable:true,configurable:false,get:function(){return o},set:function(k){o=k;n()}},align:{enumerable:true,configurable:false,get:function(){return u},set:function(k){u=k;n()}},baseline:{enumerable:true,configurable:false,get:function(){return r},set:function(k){r=k;n()}},strokeWidth:{enumerable:true,configurable:false,get:function(){return f},set:function(k){f=k}},color:{enumerable:true,configurable:false,get:function(){return p},set:function(k){if(typeof k===
"number")k=v(k);p=k}},strokeColor:{enumerable:true,configurable:false,get:function(){return q},set:function(k){if(typeof k==="number")k=v(k);q=k}},backgroundColor:{enumerable:true,configurable:false,get:function(){return t},set:function(k){if(typeof k==="number")k=v(k);t=k}}}}());switch(arguments.length){case 1:if(typeof arguments[0]==="function"){arguments[0].call(c);w=undefined}else c.text=w}return c};s={toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Text]"}}}})();
(function(){var s,v=doodle.utils.get_element,j=doodle.events.Event,d=doodle.events.Event.LOAD,m=doodle.events.Event.CHANGE;doodle.Image=function(g){var i=Object.create(doodle.Sprite());Object.defineProperties(i,s);Object.defineProperties(i,function(){function w(b){a=b;if(a.id!=="")i.id=a.id;i.width=a.width;i.height=a.height;i.graphics.draw(function(e){e.drawImage(a,0,0)});i.dispatchEvent(j(d))}function c(){if(a!==null){a=null;i.graphics.clear();i.dispatchEvent(j(m))}}function n(b){var e=v(b);if(typeof b===
"string")i.id=b;if(e.complete)w(e);else{e.onload=function(){w(e)};e.onerror=function(){throw new URIError("[object Image](imageSrc): Unable to load "+e.src);};e.onabort=function(){throw new URIError("[object Image](imageSrc): Unable to load "+e.src);}}}var a=null;return{element:{enumerable:true,configurable:false,get:function(){return a},set:function(b){b===null||b===false?c():n(b)}},src:{enumerable:true,configurable:false,get:function(){return a===null?null:a.src},set:function(b){if(b===null||b===
false)c();else{var e=new Image;e.src=encodeURI(b);n(e)}}}}}());switch(arguments.length){case 1:if(typeof arguments[0]==="function"){arguments[0].call(i);g=undefined}else if(typeof g!=="string")i.element=g;else if(typeof g==="string"&&g[0]==="#")i.element=g;else i.src=g}return i};s={toString:{enumerable:false,writable:false,configurable:false,value:function(){return"[object Image]"}}}})();
