#!/bin/bash

#this script is in the ./build dir
cd "$(dirname $(readlink -f $0))"
cd ..
PROJECT_HOME="$PWD"
OUT_FILE="$PROJECT_HOME/build/doodle.js"

cat ./src/compat/es5.js > "$OUT_FILE"

cat ./build/prologue.js >> "$OUT_FILE"
cat ./src/utils.js >> "$OUT_FILE"

cat ./lib/Stats.js >> "$OUT_FILE"

#constants
cat ./src/constants/keyboard.js >> "$OUT_FILE"
cat ./src/constants/gradienttype.js >> "$OUT_FILE"
cat ./src/constants/pattern.js >> "$OUT_FILE"
cat ./src/constants/linecap.js >> "$OUT_FILE"
cat ./src/constants/linejoin.js >> "$OUT_FILE"

cat ./src/events/event.js >> "$OUT_FILE"
cat ./src/events/uievent.js >> "$OUT_FILE"
cat ./src/events/mouseevent.js >> "$OUT_FILE"
cat ./src/events/textevent.js >> "$OUT_FILE"
cat ./src/events/keyboardevent.js >> "$OUT_FILE"
cat ./src/events/constants.js >> "$OUT_FILE"

cat ./src/geom/point.js >> "$OUT_FILE"
cat ./src/geom/matrix.js >> "$OUT_FILE"
cat ./src/geom/rectangle.js >> "$OUT_FILE"

cat ./src/eventdispatcher.js >> "$OUT_FILE"
cat ./src/node.js >> "$OUT_FILE"
cat ./src/sprite.js >> "$OUT_FILE"

cat ./src/elementnode.js >> "$OUT_FILE"
cat ./src/layer.js >> "$OUT_FILE"
cat ./src/display.js >> "$OUT_FILE"
